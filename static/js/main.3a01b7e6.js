/*! For license information please see main.3a01b7e6.js.LICENSE.txt */
(()=>{var t={740:t=>{"use strict";t.exports=function(t,e,n,r,i,s,o,a){if(!t){var l;if(void 0===e)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(e.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},197:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,s.default)((function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=null;return e.forEach((function(t){if(null==i){var e=t.apply(void 0,n);null!=e&&(i=e)}})),i}))};var r,i=n(534),s=(r=i)&&r.__esModule?r:{default:r};t.exports=e.default},534:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n,r,i,s,o){var a=i||"<<anonymous>>",l=o||r;if(null==n[r])return e?new Error("Required "+s+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return t.apply(void 0,[n,r,a,s,l].concat(u))}var n=e.bind(null,!1);return n.isRequired=e.bind(null,!0),n},t.exports=e.default},497:(t,e,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(t,e,n)=>{t.exports=n(497)()},218:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(t,e,n)=>{"use strict";var r=n(43),i=n(853);function s(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(a[t]=e,t=0;t<e.length;t++)o.add(e[t])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(t,e,n,r,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0!==i.type:r||!(2<e.length)||"o"!==e[0]&&"O"!==e[0]||"n"!==e[1]&&"N"!==e[1])&&(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!h.call(p,t)||!h.call(f,t)&&(d.test(t)?p[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(y,v);m[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),_=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var A=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=O&&t[O]||t["@@iterator"])?t:null}var L,j=Object.assign;function F(t){if(void 0===L)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var V=!1;function U(t,e){if(!t||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?F(t):""}function z(t){switch(t.tag){case 5:return F(t.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return t=U(t.type,!1);case 11:return t=U(t.type.render,!1);case 1:return t=U(t.type,!0);default:return""}}function B(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case _:return"Portal";case E:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case N:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case C:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case I:var e=t.render;return(t=t.displayName)||(t=""!==(t=e.displayName||e.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case M:return null!==(e=t.displayName||null)?e:B(t.type)||"Memo";case D:e=t._payload,t=t._init;try{return B(t(e))}catch(n){}}return null}function H(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=(t=e.render).displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(e);case 8:return e===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e}return null}function W(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":case"object":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function G(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Y(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Q(t,e){var n=e.checked;return j({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function X(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=W(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function $(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function J(t,e){$(t,e);var n=W(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?tt(t,e.type,n):e.hasOwnProperty("defaultValue")&&tt(t,e.type,W(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function Z(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function tt(t,e,n){"number"===e&&Y(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var et=Array.isArray;function nt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+W(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function rt(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(s(91));return j({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function it(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(s(92));if(et(n)){if(1<n.length)throw Error(s(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:W(n)}}function st(t,e){var n=W(e.value),r=W(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ot(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}function at(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?at(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ct,ut,ht=(ut=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ct=ct||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ct.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return ut(t,e)}))}:ut);function dt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pt=["Webkit","ms","Moz","O"];function gt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||ft.hasOwnProperty(t)&&ft[t]?(""+e).trim():e+"px"}function mt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=gt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(ft).forEach((function(t){pt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ft[e]=ft[t]}))}));var yt=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vt(t,e){if(e){if(yt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(s(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(s(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(s(62))}}function bt(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wt=null;function xt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var _t=null,kt=null,St=null;function Et(t){if(t=bi(t)){if("function"!==typeof _t)throw Error(s(280));var e=t.stateNode;e&&(e=xi(e),_t(t.stateNode,t.type,e))}}function Tt(t){kt?St?St.push(t):St=[t]:kt=t}function Ct(){if(kt){var t=kt,e=St;if(St=kt=null,Et(t),e)for(t=0;t<e.length;t++)Et(e[t])}}function It(t,e){return t(e)}function Pt(){}var Nt=!1;function Mt(t,e,n){if(Nt)return t(e,n);Nt=!0;try{return It(t,e,n)}finally{Nt=!1,(null!==kt||null!==St)&&(Pt(),Ct())}}function Dt(t,e){var n=t.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(s(231,e,typeof n));return n}var At=!1;if(u)try{var Ot={};Object.defineProperty(Ot,"passive",{get:function(){At=!0}}),window.addEventListener("test",Ot,Ot),window.removeEventListener("test",Ot,Ot)}catch(ut){At=!1}function Rt(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Lt=!1,jt=null,Ft=!1,Vt=null,Ut={onError:function(t){Lt=!0,jt=t}};function zt(t,e,n,r,i,s,o,a,l){Lt=!1,jt=null,Rt.apply(Ut,arguments)}function Bt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(4098&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Ht(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Wt(t){if(Bt(t)!==t)throw Error(s(188))}function qt(t){return null!==(t=function(t){var e=t.alternate;if(!e){if(null===(e=Bt(t)))throw Error(s(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Wt(i),t;if(o===r)return Wt(i),e;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?t:e}(t))?Kt(t):null}function Kt(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var e=Kt(t);if(null!==e)return e;t=t.sibling}return null}var Gt=i.unstable_scheduleCallback,Yt=i.unstable_cancelCallback,Qt=i.unstable_shouldYield,Xt=i.unstable_requestPaint,$t=i.unstable_now,Jt=i.unstable_getCurrentPriorityLevel,Zt=i.unstable_ImmediatePriority,te=i.unstable_UserBlockingPriority,ee=i.unstable_NormalPriority,ne=i.unstable_LowPriority,re=i.unstable_IdlePriority,ie=null,se=null;var oe=Math.clz32?Math.clz32:function(t){return t>>>=0,0===t?32:31-(ae(t)/le|0)|0},ae=Math.log,le=Math.LN2;var ce=64,ue=4194304;function he(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&t;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&t;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function de(t,e){var n=t.pendingLanes;if(0===n)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=he(a):0!==(s&=o)&&(r=he(s))}else 0!==(o=n&~i)?r=he(o):0!==s&&(r=he(s));if(0===r)return 0;if(0!==e&&e!==r&&0===(e&i)&&((i=r&-r)>=(s=e&-e)||16===i&&0!==(4194240&s)))return e;if(0!==(4&r)&&(r|=16&n),0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-oe(e)),r|=t[n],e&=~i;return r}function fe(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;default:return-1}}function pe(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function ge(){var t=ce;return 0===(4194240&(ce<<=1))&&(ce=64),t}function me(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ye(t,e,n){t.pendingLanes|=e,536870912!==e&&(t.suspendedLanes=0,t.pingedLanes=0),(t=t.eventTimes)[e=31-oe(e)]=n}function ve(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-oe(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var be=0;function we(t){return 1<(t&=-t)?4<t?0!==(268435455&t)?16:536870912:4:1}var xe,_e,ke,Se,Ee,Te=!1,Ce=[],Ie=null,Pe=null,Ne=null,Me=new Map,De=new Map,Ae=[],Oe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Re(t,e){switch(t){case"focusin":case"focusout":Ie=null;break;case"dragenter":case"dragleave":Pe=null;break;case"mouseover":case"mouseout":Ne=null;break;case"pointerover":case"pointerout":Me.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(e.pointerId)}}function Le(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==e&&(null!==(e=bi(e))&&_e(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function je(t){var e=vi(t.target);if(null!==e){var n=Bt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Ht(n)))return t.blockedOn=e,void Ee(t.priority,(function(){ke(n)}))}else if(3===e&&n.stateNode.current.memoizedState.isDehydrated)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function Fe(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qe(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=bi(n))&&_e(e),t.blockedOn=n,!1;var r=new(n=t.nativeEvent).constructor(n.type,n);wt=r,n.target.dispatchEvent(r),wt=null,e.shift()}return!0}function Ve(t,e,n){Fe(t)&&n.delete(e)}function Ue(){Te=!1,null!==Ie&&Fe(Ie)&&(Ie=null),null!==Pe&&Fe(Pe)&&(Pe=null),null!==Ne&&Fe(Ne)&&(Ne=null),Me.forEach(Ve),De.forEach(Ve)}function ze(t,e){t.blockedOn===e&&(t.blockedOn=null,Te||(Te=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ue)))}function Be(t){function e(e){return ze(e,t)}if(0<Ce.length){ze(Ce[0],t);for(var n=1;n<Ce.length;n++){var r=Ce[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==Ie&&ze(Ie,t),null!==Pe&&ze(Pe,t),null!==Ne&&ze(Ne,t),Me.forEach(e),De.forEach(e),n=0;n<Ae.length;n++)(r=Ae[n]).blockedOn===t&&(r.blockedOn=null);for(;0<Ae.length&&null===(n=Ae[0]).blockedOn;)je(n),null===n.blockedOn&&Ae.shift()}var He=w.ReactCurrentBatchConfig,We=!0;function qe(t,e,n,r){var i=be,s=He.transition;He.transition=null;try{be=1,Ge(t,e,n,r)}finally{be=i,He.transition=s}}function Ke(t,e,n,r){var i=be,s=He.transition;He.transition=null;try{be=4,Ge(t,e,n,r)}finally{be=i,He.transition=s}}function Ge(t,e,n,r){if(We){var i=Qe(t,e,n,r);if(null===i)Wr(t,e,r,Ye,n),Re(t,r);else if(function(t,e,n,r,i){switch(e){case"focusin":return Ie=Le(Ie,t,e,n,r,i),!0;case"dragenter":return Pe=Le(Pe,t,e,n,r,i),!0;case"mouseover":return Ne=Le(Ne,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Me.set(s,Le(Me.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,De.set(s,Le(De.get(s)||null,t,e,n,r,i)),!0}return!1}(i,t,e,n,r))r.stopPropagation();else if(Re(t,r),4&e&&-1<Oe.indexOf(t)){for(;null!==i;){var s=bi(i);if(null!==s&&xe(s),null===(s=Qe(t,e,n,r))&&Wr(t,e,r,Ye,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(t,e,r,null,n)}}var Ye=null;function Qe(t,e,n,r){if(Ye=null,null!==(t=vi(t=xt(r))))if(null===(e=Bt(t)))t=null;else if(13===(n=e.tag)){if(null!==(t=Ht(e)))return t;t=null}else if(3===n){if(e.stateNode.current.memoizedState.isDehydrated)return 3===e.tag?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ye=t,null}function Xe(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jt()){case Zt:return 1;case te:return 4;case ee:case ne:return 16;case re:return 536870912;default:return 16}default:return 16}}var $e=null,Je=null,Ze=null;function tn(){if(Ze)return Ze;var t,e,n=Je,r=n.length,i="value"in $e?$e.value:$e.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[s-e];e++);return Ze=i.slice(t,1<e?1-e:void 0)}function en(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function nn(){return!0}function rn(){return!1}function sn(t){function e(e,n,r,i,s){for(var o in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),e}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ln&&(ln&&"mousemove"===t.type?(on=t.screenX-ln.screenX,an=t.screenY-ln.screenY):an=on=0,ln=t),on)},movementY:function(t){return"movementY"in t?t.movementY:an}}),pn=sn(fn),gn=sn(j({},fn,{dataTransfer:0})),mn=sn(j({},hn,{relatedTarget:0})),yn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=j({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bn=sn(vn),wn=sn(j({},cn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=kn[t])&&!!e[t]}function En(){return Sn}var Tn=j({},hn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=en(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?_n[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?en(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?en(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),Cn=sn(Tn),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Pn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=j({},fn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(Mn),An=[9,13,27,32],On=u&&"CompositionEvent"in window,Rn=null;u&&"documentMode"in document&&(Rn=document.documentMode);var Ln=u&&"TextEvent"in window&&!Rn,jn=u&&(!On||Rn&&8<Rn&&11>=Rn),Fn=String.fromCharCode(32),Vn=!1;function Un(t,e){switch(t){case"keyup":return-1!==An.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var Bn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function qn(t,e,n,r){Tt(r),0<(e=Kr(e,"onChange")).length&&(n=new un("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Gn=null;function Yn(t){Fr(t,0)}function Qn(t){if(G(wi(t)))return t}function Xn(t,e){if("change"===t)return e}var $n=!1;if(u){var Jn;if(u){var Zn="oninput"in document;if(!Zn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Zn="function"===typeof tr.oninput}Jn=Zn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(t){if("value"===t.propertyName&&Qn(Gn)){var e=[];qn(e,Gn,t,xt(t)),Mt(Yn,e)}}function rr(t,e,n){"focusin"===t?(er(),Gn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Qn(Gn)}function sr(t,e){if("click"===t)return Qn(e)}function or(t,e){if("input"===t||"change"===t)return Qn(e)}var ar="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e};function lr(t,e){if(ar(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(e,i)||!ar(t[i],e[i]))return!1}return!0}function cr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ur(t,e){var n,r=cr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=cr(r)}}function hr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function dr(){for(var t=window,e=Y();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Y((t=e.contentWindow).document)}return e}function fr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function pr(t){var e=dr(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(e=r.start,void 0===(t=r.end)&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if((t=(e=n.ownerDocument||document)&&e.defaultView||window).getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==t.rangeCount||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&((e=e.createRange()).setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}for(e=[],t=n;t=t.parentNode;)1===t.nodeType&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<e.length;n++)(t=e[n]).element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,vr=null,br=!1;function wr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==Y(r)||("selectionStart"in(r=mr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Kr(yr,"onSelect")).length&&(e=new un("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mr)))}function xr(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _r={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Sr={};function Er(t){if(kr[t])return kr[t];if(!_r[t])return t;var e,n=_r[t];for(e in n)if(n.hasOwnProperty(e)&&e in Sr)return kr[t]=n[e];return t}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete _r.animationend.animation,delete _r.animationiteration.animation,delete _r.animationstart.animation),"TransitionEvent"in window||delete _r.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),Ir=Er("animationstart"),Pr=Er("transitionend"),Nr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,e){Nr.set(t,e),l(e,[t])}for(var Ar=0;Ar<Mr.length;Ar++){var Or=Mr[Ar];Dr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Dr(Tr,"onAnimationEnd"),Dr(Cr,"onAnimationIteration"),Dr(Ir,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Pr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rr));function jr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,a,l,c){if(zt.apply(this,arguments),Lt){if(!Lt)throw Error(s(198));var u=jt;Lt=!1,jt=null,Ft||(Ft=!0,Vt=u)}}(r,e,void 0,t),t.currentTarget=null}function Fr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break t;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break t;jr(i,a,c),s=l}}}if(Ft)throw t=Vt,Ft=!1,Vt=null,t}function Vr(t,e){var n=e[gi];void 0===n&&(n=e[gi]=new Set);var r=t+"__bubble";n.has(r)||(Hr(e,t,2,!1),n.add(r))}function Ur(t,e,n){var r=0;e&&(r|=4),Hr(n,t,r,e)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(t){if(!t[zr]){t[zr]=!0,o.forEach((function(e){"selectionchange"!==e&&(Lr.has(e)||Ur(e,!1,t),Ur(e,!0,t))}));var e=9===t.nodeType?t:t.ownerDocument;null===e||e[zr]||(e[zr]=!0,Ur("selectionchange",!1,e))}}function Hr(t,e,n,r){switch(Xe(e)){case 1:var i=qe;break;case 4:i=Ke;break;default:i=Ge}n=i.bind(null,e,n,t),i=void 0,!At||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Wr(t,e,n,r,i){var s=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=vi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue t}a=a.parentNode}}r=r.return}Mt((function(){var r=s,i=xt(n),o=[];t:{var a=Nr.get(t);if(void 0!==a){var l=un,c=t;switch(t){case"keypress":if(0===en(n))break t;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Pn;break;case Tr:case Cr:case Ir:l=yn;break;case Pr:l=Nn;break;case"scroll":l=dn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&e),h=!u&&"scroll"===t,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Dt(p,d))&&u.push(qr(p,g,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||n===wt||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(h=Bt(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(u=In,g="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:wi(l),f=null==c?a:wi(c),(a=new u(g,p+"leave",l,n,i)).target=h,a.relatedTarget=f,g=null,vi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,g=u),h=g,l&&c)t:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,g=d;g;g=Gr(g))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break t;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Yr(o,a,l,u,!1),null!==c&&null!==h&&Yr(o,h,c,u,!0)}if("select"===(l=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var m=Xn;else if(Wn(a))if($n)m=or;else{m=ir;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(m=sr);switch(m&&(m=m(t,r))?qn(o,m,n,i):(y&&y(t,a,r),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&tt(a,"number",a.value)),y=r?wi(r):window,t){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,vr=null);break;case"focusout":vr=yr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(o,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(o,n,i)}var v;if(On)t:{switch(t){case"compositionstart":var b="onCompositionStart";break t;case"compositionend":b="onCompositionEnd";break t;case"compositionupdate":b="onCompositionUpdate";break t}b=void 0}else Bn?Un(t,n)&&(b="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(v=tn()):(Je="value"in($e=i)?$e.value:$e.textContent,Bn=!0)),0<(y=Kr(r,b)).length&&(b=new wn(b,t,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Ln?function(t,e){switch(t){case"compositionend":return zn(e);case"keypress":return 32!==e.which?null:(Vn=!0,Fn);case"textInput":return(t=e.data)===Fn&&Vn?null:t;default:return null}}(t,n):function(t,e){if(Bn)return"compositionend"===t||!On&&Un(t,e)?(t=tn(),Ze=Je=$e=null,Bn=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return jn&&"ko"!==e.locale?null:e.data}}(t,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,e)}))}function qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Dt(t,n))&&r.unshift(qr(t,s,i)),null!=(s=Dt(t,e))&&r.push(qr(t,s,i))),t=t.return}return r}function Gr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Yr(t,e,n,r,i){for(var s=e._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Dt(n,s))&&o.unshift(qr(n,l,a)):i||null!=(l=Dt(n,s))&&o.push(qr(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}var Qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function $r(t){return("string"===typeof t?t:""+t).replace(Qr,"\n").replace(Xr,"")}function Jr(t,e,n){if(e=$r(e),$r(t)!==e&&n)throw Error(s(425))}function Zr(){}var ti=null,ei=null;function ni(t,e){return"textarea"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(t){return si.resolve(null).then(t).catch(ai)}:ri;function ai(t){setTimeout((function(){throw t}))}function li(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return t.removeChild(i),void Be(e);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Be(e)}function ci(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break;if(8===e){if("$"===(e=t.data)||"$!"===e||"$?"===e)break;if("/$"===e)return null}}return t}function ui(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(t){var e=t[di];if(e)return e;for(var n=t.parentNode;n;){if(e=n[pi]||n[di]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=ui(t);null!==t;){if(n=t[di])return n;t=ui(t)}return e}n=(t=n).parentNode}return null}function bi(t){return!(t=t[di]||t[pi])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function wi(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(s(33))}function xi(t){return t[fi]||null}var _i=[],ki=-1;function Si(t){return{current:t}}function Ei(t){0>ki||(t.current=_i[ki],_i[ki]=null,ki--)}function Ti(t,e){ki++,_i[ki]=t.current,t.current=e}var Ci={},Ii=Si(Ci),Pi=Si(!1),Ni=Ci;function Mi(t,e){var n=t.type.contextTypes;if(!n)return Ci;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Di(t){return null!==(t=t.childContextTypes)&&void 0!==t}function Ai(){Ei(Pi),Ei(Ii)}function Oi(t,e,n){if(Ii.current!==Ci)throw Error(s(168));Ti(Ii,e),Ti(Pi,n)}function Ri(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(s(108,H(t)||"Unknown",i));return j({},n,r)}function Li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ci,Ni=Ii.current,Ti(Ii,t),Ti(Pi,Pi.current),!0}function ji(t,e,n){var r=t.stateNode;if(!r)throw Error(s(169));n?(t=Ri(t,e,Ni),r.__reactInternalMemoizedMergedChildContext=t,Ei(Pi),Ei(Ii),Ti(Ii,t)):Ei(Pi),Ti(Pi,n)}var Fi=null,Vi=!1,Ui=!1;function zi(t){null===Fi?Fi=[t]:Fi.push(t)}function Bi(){if(!Ui&&null!==Fi){Ui=!0;var t=0,e=be;try{var n=Fi;for(be=1;t<n.length;t++){var r=n[t];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(t+1)),Gt(Zt,Bi),i}finally{be=e,Ui=!1}}return null}var Hi=[],Wi=0,qi=null,Ki=0,Gi=[],Yi=0,Qi=null,Xi=1,$i="";function Ji(t,e){Hi[Wi++]=Ki,Hi[Wi++]=qi,qi=t,Ki=e}function Zi(t,e,n){Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Qi=t;var r=Xi;t=$i;var i=32-oe(r)-1;r&=~(1<<i),n+=1;var s=32-oe(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-oe(e)+i|n<<i|r,$i=s+t}else Xi=1<<s|n<<i|r,$i=t}function ts(t){null!==t.return&&(Ji(t,1),Zi(t,1,0))}function es(t){for(;t===qi;)qi=Hi[--Wi],Hi[Wi]=null,Ki=Hi[--Wi],Hi[Wi]=null;for(;t===Qi;)Qi=Gi[--Yi],Gi[Yi]=null,$i=Gi[--Yi],Gi[Yi]=null,Xi=Gi[--Yi],Gi[Yi]=null}var ns=null,rs=null,is=!1,ss=null;function os(t,e){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,null===(e=t.deletions)?(t.deletions=[n],t.flags|=16):e.push(n)}function as(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,ns=t,rs=ci(e.firstChild),!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,ns=t,rs=null,!0);case 13:return null!==(e=8!==e.nodeType?null:e)&&(n=null!==Qi?{id:Xi,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=e,n.return=t,t.child=n,ns=t,rs=null,!0);default:return!1}}function ls(t){return 0!==(1&t.mode)&&0===(128&t.flags)}function cs(t){if(is){var e=rs;if(e){var n=e;if(!as(t,e)){if(ls(t))throw Error(s(418));e=ci(n.nextSibling);var r=ns;e&&as(t,e)?os(r,n):(t.flags=-4097&t.flags|2,is=!1,ns=t)}}else{if(ls(t))throw Error(s(418));t.flags=-4097&t.flags|2,is=!1,ns=t}}}function us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;ns=t}function hs(t){if(t!==ns)return!1;if(!is)return us(t),is=!0,!1;var e;if((e=3!==t.tag)&&!(e=5!==t.tag)&&(e="head"!==(e=t.type)&&"body"!==e&&!ni(t.type,t.memoizedProps)),e&&(e=rs)){if(ls(t))throw ds(),Error(s(418));for(;e;)os(t,e),e=ci(e.nextSibling)}if(us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(s(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){rs=ci(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}rs=null}}else rs=ns?ci(t.stateNode.nextSibling):null;return!0}function ds(){for(var t=rs;t;)t=ci(t.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(t){null===ss?ss=[t]:ss.push(t)}var gs=w.ReactCurrentBatchConfig;function ms(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,t));var i=r,o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}if("string"!==typeof t)throw Error(s(284));if(!n._owner)throw Error(s(290,t))}return t}function ys(t,e){throw t=Object.prototype.toString.call(e),Error(s(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vs(t){return(0,t._init)(t._payload)}function bs(t){function e(e,n){if(t){var r=e.deletions;null===r?(e.deletions=[n],e.flags|=16):r.push(n)}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ac(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags|=2,n):r:(e.flags|=2,n):(e.flags|=1048576,n)}function a(e){return t&&null===e.alternate&&(e.flags|=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=jc(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function c(t,e,n,r){var s=n.type;return s===k?h(t,e,n.props.children,r,n.key):null!==e&&(e.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&vs(s)===e.type)?((r=i(e,n.props)).ref=ms(t,e,n),r.return=t,r):((r=Oc(n.type,n.key,n.props,null,t.mode,r)).ref=ms(t,e,n),r.return=t,r)}function u(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Fc(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,s){return null===e||7!==e.tag?((e=Rc(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e&&""!==e||"number"===typeof e)return(e=jc(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Oc(e.type,e.key,e.props,null,t.mode,n)).ref=ms(t,null,e),n.return=t,n;case _:return(e=Fc(e,t.mode,n)).return=t,e;case D:return d(t,(0,e._init)(e._payload),n)}if(et(e)||R(e))return(e=Rc(e,t.mode,n,null)).return=t,e;ys(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?c(t,e,n,r):null;case _:return n.key===i?u(t,e,n,r):null;case D:return f(t,e,(i=n._init)(n._payload),r)}if(et(n)||R(n))return null!==i?null:h(t,e,n,r,null);ys(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i);case _:return u(e,t=t.get(null===r.key?n:r.key)||null,r,i);case D:return p(t,e,n,(0,r._init)(r._payload),i)}if(et(r)||R(r))return h(e,t=t.get(n)||null,r,i,null);ys(e,r)}return null}function g(i,s,a,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<a.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var y=f(i,h,a[g],l);if(null===y){null===h&&(h=m);break}t&&h&&null===y.alternate&&e(i,h),s=o(y,s,g),null===u?c=y:u.sibling=y,u=y,h=m}if(g===a.length)return n(i,h),is&&Ji(i,g),c;if(null===h){for(;g<a.length;g++)null!==(h=d(i,a[g],l))&&(s=o(h,s,g),null===u?c=h:u.sibling=h,u=h);return is&&Ji(i,g),c}for(h=r(i,h);g<a.length;g++)null!==(m=p(h,i,g,a[g],l))&&(t&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=o(m,s,g),null===u?c=m:u.sibling=m,u=m);return t&&h.forEach((function(t){return e(i,t)})),is&&Ji(i,g),c}function m(i,a,l,c){var u=R(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=a,m=a=0,y=null,v=l.next();null!==g&&!v.done;m++,v=l.next()){g.index>m?(y=g,g=null):y=g.sibling;var b=f(i,g,v.value,c);if(null===b){null===g&&(g=y);break}t&&g&&null===b.alternate&&e(i,g),a=o(b,a,m),null===h?u=b:h.sibling=b,h=b,g=y}if(v.done)return n(i,g),is&&Ji(i,m),u;if(null===g){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return is&&Ji(i,m),u}for(g=r(i,g);!v.done;m++,v=l.next())null!==(v=p(g,i,m,v.value,c))&&(t&&null!==v.alternate&&g.delete(null===v.key?m:v.key),a=o(v,a,m),null===h?u=v:h.sibling=v,h=v);return t&&g.forEach((function(t){return e(i,t)})),is&&Ji(i,m),u}return function t(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:t:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break t}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&vs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=ms(r,u,o),s.return=r,r=s;break t}n(r,u);break}e(r,u),u=u.sibling}o.type===k?((s=Rc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=ms(r,s,o),l.return=r,r=l)}return a(r);case _:t:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break t}n(r,s);break}e(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case D:return t(r,s,(u=o._init)(o._payload),l)}if(et(o))return g(r,s,o,l);if(R(o))return m(r,s,o,l);ys(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=jc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ws=bs(!0),xs=bs(!1),_s=Si(null),ks=null,Ss=null,Es=null;function Ts(){Es=Ss=ks=null}function Cs(t){var e=_s.current;Ei(_s),t._currentValue=e}function Is(t,e,n){for(;null!==t;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,null!==r&&(r.childLanes|=e)):null!==r&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ps(t,e){ks=t,Es=Ss=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(ba=!0),t.firstContext=null)}function Ns(t){var e=t._currentValue;if(Es!==t)if(t={context:t,memoizedValue:e,next:null},null===Ss){if(null===ks)throw Error(s(308));Ss=t,ks.dependencies={lanes:0,firstContext:t}}else Ss=Ss.next=t;return e}var Ms=null;function Ds(t){null===Ms?Ms=[t]:Ms.push(t)}function As(t,e,n,r){var i=e.interleaved;return null===i?(n.next=n,Ds(e)):(n.next=i.next,i.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}var Rs=!1;function Ls(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function js(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(t,e,n){var r=t.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Os(t,n)}return null===(i=r.interleaved)?(e.next=e,Ds(r)):(e.next=i.next,i.next=e),r.interleaved=e,Os(t,n)}function Us(t,e,n){if(null!==(e=e.updateQueue)&&(e=e.shared,0!==(4194240&n))){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}function zs(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bs(t,e,n,r){var i=t.updateQueue;Rs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=t.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(d=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){h=p.call(f,h,d);break t}h=p;break t;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=g.payload)?p.call(f,h,d):p)||void 0===d)break t;h=j({},h,d);break t;case 2:Rs=!0}}null!==a.callback&&0!==a.lane&&(t.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(e=i.shared.interleaved)){i=e;do{o|=i.lane,i=i.next}while(i!==e)}else null===s&&(i.shared.lanes=0);Ll|=o,t.lanes=o,t.memoizedState=h}}function Hs(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ws={},qs=Si(Ws),Ks=Si(Ws),Gs=Si(Ws);function Ys(t){if(t===Ws)throw Error(s(174));return t}function Qs(t,e){switch(Ti(Gs,e),Ti(Ks,t),Ti(qs,Ws),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lt(null,"");break;default:e=lt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}Ei(qs),Ti(qs,e)}function Xs(){Ei(qs),Ei(Ks),Ei(Gs)}function $s(t){Ys(Gs.current);var e=Ys(qs.current),n=lt(e,t.type);e!==n&&(Ti(Ks,t),Ti(qs,n))}function Js(t){Ks.current===t&&(Ei(qs),Ei(Ks))}var Zs=Si(0);function to(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(128&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eo=[];function no(){for(var t=0;t<eo.length;t++)eo[t]._workInProgressVersionPrimary=null;eo.length=0}var ro=w.ReactCurrentDispatcher,io=w.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(s(321))}function go(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function mo(t,e,n,r,i,o){if(so=o,oo=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ro.current=null===t||null===t.memoizedState?Zo:ta,t=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,e.updateQueue=null,ro.current=ea,t=n(r,i)}while(uo)}if(ro.current=Jo,e=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,co=!1,e)throw Error(s(300));return t}function yo(){var t=0!==ho;return ho=0,t}function vo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=t:lo=lo.next=t,lo}function bo(){if(null===ao){var t=oo.alternate;t=null!==t?t.memoizedState:null}else t=ao.next;var e=null===lo?oo.memoizedState:lo.next;if(null!==e)lo=e,ao=t;else{if(null===t)throw Error(s(310));t={memoizedState:(ao=t).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=t:lo=lo.next=t}return lo}function wo(t,e){return"function"===typeof e?e(t):e}function xo(t){var e=bo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((so&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,oo.lanes|=h,Ll|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,e.memoizedState)||(ba=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=c,n.lastRenderedState=r}if(null!==(t=n.interleaved)){i=t;do{o=i.lane,oo.lanes|=o,Ll|=o,i=i.next}while(i!==t)}else null===i&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _o(t){var e=bo(),n=e.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=t(o,a.action),a=a.next}while(a!==i);ar(o,e.memoizedState)||(ba=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function So(t,e){var n=oo,r=bo(),i=e(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Lo(Co.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Mo(9,To.bind(null,n,r,i,e),void 0,null),null===Pl)throw Error(s(349));0!==(30&so)||Eo(n,e,i)}return i}function Eo(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.stores=[t]):null===(n=e.stores)?e.stores=[t]:n.push(t)}function To(t,e,n,r){e.value=n,e.getSnapshot=r,Io(e)&&Po(t)}function Co(t,e,n){return n((function(){Io(e)&&Po(t)}))}function Io(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch(r){return!0}}function Po(t){var e=Os(t,1);null!==e&&nc(e,t,1,-1)}function No(t){var e=vo();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:t},e.queue=t,t=t.dispatch=Yo.bind(null,oo,t),[e.memoizedState,t]}function Mo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=oo.updateQueue)?(e={lastEffect:null,stores:null},oo.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Do(){return bo().memoizedState}function Ao(t,e,n,r){var i=vo();oo.flags|=t,i.memoizedState=Mo(1|e,n,void 0,void 0===r?null:r)}function Oo(t,e,n,r){var i=bo();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&go(r,o.deps))return void(i.memoizedState=Mo(e,n,s,r))}oo.flags|=t,i.memoizedState=Mo(1|e,n,s,r)}function Ro(t,e){return Ao(8390656,8,t,e)}function Lo(t,e){return Oo(2048,8,t,e)}function jo(t,e){return Oo(4,2,t,e)}function Fo(t,e){return Oo(4,4,t,e)}function Vo(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function Uo(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Oo(4,4,Vo.bind(null,e,t),n)}function zo(){}function Bo(t,e){var n=bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&go(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ho(t,e){var n=bo();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&go(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Wo(t,e,n){return 0===(21&so)?(t.baseState&&(t.baseState=!1,ba=!0),t.memoizedState=n):(ar(n,e)||(n=ge(),oo.lanes|=n,Ll|=n,t.baseState=!0),e)}function qo(t,e){var n=be;be=0!==n&&4>n?n:4,t(!0);var r=io.transition;io.transition={};try{t(!1),e()}finally{be=n,io.transition=r}}function Ko(){return bo().memoizedState}function Go(t,e,n){var r=ec(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(t))Xo(e,n);else if(null!==(n=As(t,e,n,r))){nc(n,t,r,tc()),$o(n,e,r)}}function Yo(t,e,n){var r=ec(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(t))Xo(e,i);else{var s=t.alternate;if(0===t.lanes&&(null===s||0===s.lanes)&&null!==(s=e.lastRenderedReducer))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=e.interleaved;return null===l?(i.next=i,Ds(e)):(i.next=l.next,l.next=i),void(e.interleaved=i)}}catch(c){}null!==(n=As(t,e,i,r))&&(nc(n,t,r,i=tc()),$o(n,e,r))}}function Qo(t){var e=t.alternate;return t===oo||null!==e&&e===oo}function Xo(t,e){uo=co=!0;var n=t.pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $o(t,e,n){if(0!==(4194240&n)){var r=e.lanes;n|=r&=t.pendingLanes,e.lanes=n,ve(t,n)}}var Jo={readContext:Ns,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Zo={readContext:Ns,useCallback:function(t,e){return vo().memoizedState=[t,void 0===e?null:e],t},useContext:Ns,useEffect:Ro,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,Ao(4194308,4,Vo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ao(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ao(4,2,t,e)},useMemo:function(t,e){var n=vo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=vo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Go.bind(null,oo,t),[r.memoizedState,t]},useRef:function(t){return t={current:t},vo().memoizedState=t},useState:No,useDebugValue:zo,useDeferredValue:function(t){return vo().memoizedState=t},useTransition:function(){var t=No(!1),e=t[0];return t=qo.bind(null,t[1]),vo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=oo,i=vo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=e(),null===Pl)throw Error(s(349));0!==(30&so)||Eo(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Ro(Co.bind(null,r,o,t),[t]),r.flags|=2048,Mo(9,To.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=vo(),e=Pl.identifierPrefix;if(is){var n=$i;e=":"+e+"R"+(n=(Xi&~(1<<32-oe(Xi)-1)).toString(32)+n),0<(n=ho++)&&(e+="H"+n.toString(32)),e+=":"}else e=":"+e+"r"+(n=fo++).toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},ta={readContext:Ns,useCallback:Bo,useContext:Ns,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:Ho,useReducer:xo,useRef:Do,useState:function(){return xo(wo)},useDebugValue:zo,useDeferredValue:function(t){return Wo(bo(),ao.memoizedState,t)},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1},ea={readContext:Ns,useCallback:Bo,useContext:Ns,useEffect:Lo,useImperativeHandle:Uo,useInsertionEffect:jo,useLayoutEffect:Fo,useMemo:Ho,useReducer:_o,useRef:Do,useState:function(){return _o(wo)},useDebugValue:zo,useDeferredValue:function(t){var e=bo();return null===ao?e.memoizedState=t:Wo(e,ao.memoizedState,t)},useTransition:function(){return[_o(wo)[0],bo().memoizedState]},useMutableSource:ko,useSyncExternalStore:So,useId:Ko,unstable_isNewReconciler:!1};function na(t,e){if(t&&t.defaultProps){for(var n in e=j({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}function ra(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:j({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var ia={isMounted:function(t){return!!(t=t._reactInternals)&&Bt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),s=Fs(r,i);s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Vs(t,s,i))&&(nc(e,t,i,r),Us(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tc(),i=ec(t),s=Fs(r,i);s.tag=1,s.payload=e,void 0!==n&&null!==n&&(s.callback=n),null!==(e=Vs(t,s,i))&&(nc(e,t,i,r),Us(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tc(),r=ec(t),i=Fs(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),null!==(e=Vs(t,i,r))&&(nc(e,t,r,n),Us(e,t,r))}};function sa(t,e,n,r,i,s,o){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,o):!e.prototype||!e.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(t,e,n){var r=!1,i=Ci,s=e.contextType;return"object"===typeof s&&null!==s?s=Ns(s):(i=Di(e)?Ni:Ii.current,s=(r=null!==(r=e.contextTypes)&&void 0!==r)?Mi(t,i):Ci),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ia,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aa(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ia.enqueueReplaceState(e,e.state,null)}function la(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},Ls(t);var s=e.contextType;"object"===typeof s&&null!==s?i.context=Ns(s):(s=Di(e)?Ni:Ii.current,i.context=Mi(t,s)),i.state=t.memoizedState,"function"===typeof(s=e.getDerivedStateFromProps)&&(ra(t,e,s,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:t,source:e,stack:i,digest:null}}function ua(t,e,n){return{value:t,source:null,stack:null!=n?n:null,digest:null!=e?e:null}}function ha(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function fa(t,e,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Wl||(Wl=!0,ql=r),ha(0,e)},n}function pa(t,e,n){(n=Fs(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,e)}}var s=t.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,e),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}function ga(t,e,n){var r=t.pingCache;if(null===r){r=t.pingCache=new da;var i=new Set;r.set(e,i)}else void 0===(i=r.get(e))&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Ec.bind(null,t,e,n),e.then(t,t))}function ma(t){do{var e;if((e=13===t.tag)&&(e=null===(e=t.memoizedState)||null!==e.dehydrated),e)return t;t=t.return}while(null!==t);return null}function ya(t,e,n,r,i){return 0===(1&t.mode)?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((e=Fs(-1,1)).tag=2,Vs(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var va=w.ReactCurrentOwner,ba=!1;function wa(t,e,n,r){e.child=null===t?xs(e,null,n,r):ws(e,t.child,n,r)}function xa(t,e,n,r,i){n=n.render;var s=e.ref;return Ps(e,i),r=mo(t,e,n,r,s,i),n=yo(),null===t||ba?(is&&n&&ts(e),e.flags|=1,wa(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wa(t,e,i))}function _a(t,e,n,r,i){if(null===t){var s=n.type;return"function"!==typeof s||Dc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Oc(n.type,null,r,e,e.mode,i)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,ka(t,e,s,r,i))}if(s=t.child,0===(t.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&t.ref===e.ref)return Wa(t,e,i)}return e.flags|=1,(t=Ac(s,r)).ref=e.ref,t.return=e,e.child=t}function ka(t,e,n,r,i){if(null!==t){var s=t.memoizedProps;if(lr(s,r)&&t.ref===e.ref){if(ba=!1,e.pendingProps=r=s,0===(t.lanes&i))return e.lanes=t.lanes,Wa(t,e,i);0!==(131072&t.flags)&&(ba=!0)}}return Ta(t,e,n,r,i)}function Sa(t,e,n){var r=e.pendingProps,i=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode)if(0===(1&e.mode))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Al,Dl),Dl|=n;else{if(0===(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ti(Al,Dl),Dl|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Al,Dl),Dl|=r}else null!==s?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ti(Al,Dl),Dl|=r;return wa(t,e,i,n),e.child}function Ea(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ta(t,e,n,r,i){var s=Di(n)?Ni:Ii.current;return s=Mi(e,s),Ps(e,i),n=mo(t,e,n,r,s,i),r=yo(),null===t||ba?(is&&r&&ts(e),e.flags|=1,wa(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Wa(t,e,i))}function Ca(t,e,n,r,i){if(Di(n)){var s=!0;Li(e)}else s=!1;if(Ps(e,i),null===e.stateNode)Ha(t,e),oa(e,n,r),la(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ns(c):c=Mi(e,c=Di(n)?Ni:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&aa(e,o,r,c),Rs=!1;var d=e.memoizedState;o.state=d,Bs(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Pi.current||Rs?("function"===typeof u&&(ra(e,n,u,r),l=e.memoizedState),(a=Rs||sa(e,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(e.flags|=4194308)):("function"===typeof o.componentDidMount&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,js(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:na(e.type,a),o.props=c,h=e.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ns(l):l=Mi(e,l=Di(n)?Ni:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(e,o,r,l),Rs=!1,d=e.memoizedState,o.state=d,Bs(e,r,o,i);var p=e.memoizedState;a!==h||d!==p||Pi.current||Rs?("function"===typeof f&&(ra(e,n,f,r),p=e.memoizedState),(c=Rs||sa(e,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(e.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(e.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Ia(t,e,n,r,s,i)}function Ia(t,e,n,r,i,s){Ea(t,e);var o=0!==(128&e.flags);if(!r&&!o)return i&&ji(e,n,!1),Wa(t,e,s);r=e.stateNode,va.current=e;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&o?(e.child=ws(e,t.child,null,s),e.child=ws(e,null,a,s)):wa(t,e,a,s),e.memoizedState=r.state,i&&ji(e,n,!0),e.child}function Pa(t){var e=t.stateNode;e.pendingContext?Oi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&Oi(0,e.context,!1),Qs(t,e.containerInfo)}function Na(t,e,n,r,i){return fs(),ps(i),e.flags|=256,wa(t,e,n,r),e.child}var Ma,Da,Aa,Oa,Ra={dehydrated:null,treeContext:null,retryLane:0};function La(t){return{baseLanes:t,cachePool:null,transitions:null}}function ja(t,e,n){var r,i=e.pendingProps,o=Zs.current,a=!1,l=0!==(128&e.flags);if((r=l)||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-129):null!==t&&null===t.memoizedState||(o|=1),Ti(Zs,1&o),null===t)return cs(e),null!==(t=e.memoizedState)&&null!==(t=t.dehydrated)?(0===(1&e.mode)?e.lanes=1:"$!"===t.data?e.lanes=8:e.lanes=1073741824,null):(l=i.children,t=i.fallback,a?(i=e.mode,a=e.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Lc(l,i,0,null),t=Rc(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=La(n),e.memoizedState=Ra,t):Fa(e,l));if(null!==(o=t.memoizedState)&&null!==(r=o.dehydrated))return function(t,e,n,r,i,o,a){if(n)return 256&e.flags?(e.flags&=-257,Va(t,e,a,r=ua(Error(s(422))))):null!==e.memoizedState?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Lc({mode:"visible",children:r.children},i,0,null),(o=Rc(o,i,a,null)).flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,0!==(1&e.mode)&&ws(e,t.child,null,a),e.child.memoizedState=La(a),e.memoizedState=Ra,o);if(0===(1&e.mode))return Va(t,e,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(t,e,a,r=ua(o=Error(s(419)),r,void 0))}if(l=0!==(a&t.childLanes),ba||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Os(t,i),nc(r,t,i,-1))}return gc(),Va(t,e,a,r=ua(Error(s(421))))}return"$?"===i.data?(e.flags|=128,e.child=t.child,e=Cc.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,rs=ci(i.nextSibling),ns=e,is=!0,ss=null,null!==t&&(Gi[Yi++]=Xi,Gi[Yi++]=$i,Gi[Yi++]=Qi,Xi=t.id,$i=t.overflow,Qi=e),e=Fa(e,r.children),e.flags|=4096,e)}(t,e,l,i,r,o,n);if(a){a=i.fallback,l=e.mode,r=(o=t.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&e.child!==o?((i=e.child).childLanes=0,i.pendingProps=c,e.deletions=null):(i=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ac(r,a):(a=Rc(a,l,n,null)).flags|=2,a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,l=null===(l=t.child.memoizedState)?La(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=Ra,i}return t=(a=t.child).sibling,i=Ac(a,{mode:"visible",children:i.children}),0===(1&e.mode)&&(i.lanes=n),i.return=e,i.sibling=null,null!==t&&(null===(n=e.deletions)?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Fa(t,e){return(e=Lc({mode:"visible",children:e},t.mode,0,null)).return=t,t.child=e}function Va(t,e,n,r){return null!==r&&ps(r),ws(e,t.child,null,n),(t=Fa(e,e.pendingProps.children)).flags|=2,e.memoizedState=null,t}function Ua(t,e,n){t.lanes|=e;var r=t.alternate;null!==r&&(r.lanes|=e),Is(t.return,e,n)}function za(t,e,n,r,i){var s=t.memoizedState;null===s?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(wa(t,e,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,e.flags|=128;else{if(null!==t&&0!==(128&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ua(t,n,e);else if(19===t.tag)Ua(t,n,e);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ti(Zs,r),0===(1&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===to(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),za(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===to(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}za(e,!0,n,null,s);break;case"together":za(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ha(t,e){0===(1&e.mode)&&null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wa(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Ll|=e.lanes,0===(n&e.childLanes))return null;if(null!==t&&e.child!==t.child)throw Error(s(153));if(null!==e.child){for(n=Ac(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ac(t,t.pendingProps)).return=e;n.sibling=null}return e.child}function qa(t,e){if(!is)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ka(t){var e=null!==t.alternate&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=t,i=i.sibling;else for(i=t.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Ga(t,e,n){var r=e.pendingProps;switch(es(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(e),null;case 1:case 17:return Di(e.type)&&Ai(),Ka(e),null;case 3:return r=e.stateNode,Xs(),Ei(Pi),Ei(Ii),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(hs(e)?e.flags|=4:null===t||t.memoizedState.isDehydrated&&0===(256&e.flags)||(e.flags|=1024,null!==ss&&(oc(ss),ss=null))),Da(t,e),Ka(e),null;case 5:Js(e);var i=Ys(Gs.current);if(n=e.type,null!==t&&null!=e.stateNode)Aa(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(null===e.stateNode)throw Error(s(166));return Ka(e),null}if(t=Ys(qs.current),hs(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[di]=e,r[fi]=o,t=0!==(1&e.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":it(r,o),Vr("invalid",r)}for(var l in vt(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Jr(r.textContent,c,t),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),ot(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,e.updateQueue=r,null!==r&&(e.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===t&&(t=at(n)),"http://www.w3.org/1999/xhtml"===t?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[di]=e,t[fi]=r,Ma(t,e,!1,!1),e.stateNode=t;t:{switch(l=bt(n,r),n){case"dialog":Vr("cancel",t),Vr("close",t),i=r;break;case"iframe":case"object":case"embed":Vr("load",t),i=r;break;case"video":case"audio":for(i=0;i<Rr.length;i++)Vr(Rr[i],t);i=r;break;case"source":Vr("error",t),i=r;break;case"img":case"image":case"link":Vr("error",t),Vr("load",t),i=r;break;case"details":Vr("toggle",t),i=r;break;case"input":X(t,r),i=Q(t,r),Vr("invalid",t);break;case"option":default:i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Vr("invalid",t);break;case"textarea":it(t,r),i=rt(t,r),Vr("invalid",t)}for(o in vt(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?mt(t,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ht(t,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&dt(t,u):"number"===typeof u&&dt(t,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Vr("scroll",t):null!=u&&b(t,o,u,l))}switch(n){case"input":K(t),Z(t,r,!1);break;case"textarea":K(t),ot(t);break;case"option":null!=r.value&&t.setAttribute("value",""+W(r.value));break;case"select":t.multiple=!!r.multiple,null!=(o=r.value)?nt(t,!!r.multiple,o,!1):null!=r.defaultValue&&nt(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(t.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break t;case"img":r=!0;break t;default:r=!1}}r&&(e.flags|=4)}null!==e.ref&&(e.flags|=512,e.flags|=2097152)}return Ka(e),null;case 6:if(t&&null!=e.stateNode)Oa(t,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(s(166));if(n=Ys(Gs.current),Ys(qs.current),hs(e)){if(r=e.stateNode,n=e.memoizedProps,r[di]=e,(o=r.nodeValue!==n)&&null!==(t=ns))switch(t.tag){case 3:Jr(r.nodeValue,n,0!==(1&t.mode));break;case 5:!0!==t.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&t.mode))}o&&(e.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=e,e.stateNode=r}return Ka(e),null;case 13:if(Ei(Zs),r=e.memoizedState,null===t||null!==t.memoizedState&&null!==t.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&e.mode)&&0===(128&e.flags))ds(),fs(),e.flags|=98560,o=!1;else if(o=hs(e),null!==r&&null!==r.dehydrated){if(null===t){if(!o)throw Error(s(318));if(!(o=null!==(o=e.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=e}else fs(),0===(128&e.flags)&&(e.memoizedState=null),e.flags|=4;Ka(e),o=!1}else null!==ss&&(oc(ss),ss=null),o=!0;if(!o)return 65536&e.flags?e:null}return 0!==(128&e.flags)?(e.lanes=n,e):((r=null!==r)!==(null!==t&&null!==t.memoizedState)&&r&&(e.child.flags|=8192,0!==(1&e.mode)&&(null===t||0!==(1&Zs.current)?0===Ol&&(Ol=3):gc())),null!==e.updateQueue&&(e.flags|=4),Ka(e),null);case 4:return Xs(),Da(t,e),null===t&&Br(e.stateNode.containerInfo),Ka(e),null;case 10:return Cs(e.type._context),Ka(e),null;case 19:if(Ei(Zs),null===(o=e.memoizedState))return Ka(e),null;if(r=0!==(128&e.flags),null===(l=o.rendering))if(r)qa(o,!1);else{if(0!==Ol||null!==t&&0!==(128&t.flags))for(t=e.child;null!==t;){if(null!==(l=to(t))){for(e.flags|=128,qa(o,!1),null!==(r=l.updateQueue)&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;null!==n;)t=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ti(Zs,1&Zs.current|2),e.child}t=t.sibling}null!==o.tail&&$t()>Bl&&(e.flags|=128,r=!0,qa(o,!1),e.lanes=4194304)}else{if(!r)if(null!==(t=to(l))){if(e.flags|=128,r=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),qa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(e),null}else 2*$t()-o.renderingStartTime>Bl&&1073741824!==n&&(e.flags|=128,r=!0,qa(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=o.last)?n.sibling=l:e.child=l,o.last=l)}return null!==o.tail?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$t(),e.sibling=null,n=Zs.current,Ti(Zs,r?1&n|2:1&n),e):(Ka(e),null);case 22:case 23:return hc(),r=null!==e.memoizedState,null!==t&&null!==t.memoizedState!==r&&(e.flags|=8192),r&&0!==(1&e.mode)?0!==(1073741824&Dl)&&(Ka(e),6&e.subtreeFlags&&(e.flags|=8192)):Ka(e),null;case 24:case 25:return null}throw Error(s(156,e.tag))}function Ya(t,e){switch(es(e),e.tag){case 1:return Di(e.type)&&Ai(),65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 3:return Xs(),Ei(Pi),Ei(Ii),no(),0!==(65536&(t=e.flags))&&0===(128&t)?(e.flags=-65537&t|128,e):null;case 5:return Js(e),null;case 13:if(Ei(Zs),null!==(t=e.memoizedState)&&null!==t.dehydrated){if(null===e.alternate)throw Error(s(340));fs()}return 65536&(t=e.flags)?(e.flags=-65537&t|128,e):null;case 19:return Ei(Zs),null;case 4:return Xs(),null;case 10:return Cs(e.type._context),null;case 22:case 23:return hc(),null;default:return null}}Ma=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Aa=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ys(qs.current);var s,o=null;switch(n){case"input":i=Q(t,i),r=Q(t,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=rt(t,i),r=rt(t,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(t.onclick=Zr)}for(u in vt(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Vr("scroll",t),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}},Oa=function(t,e,n,r){n!==r&&(e.flags|=4)};var Qa=!1,Xa=!1,$a="function"===typeof WeakSet?WeakSet:Set,Ja=null;function Za(t,e){var n=t.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(t,e,r)}else n.current=null}function tl(t,e,n){try{n()}catch(r){Sc(t,e,r)}}var el=!1;function nl(t,e,n){var r=e.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(e,n,s)}i=i.next}while(i!==r)}}function rl(t,e){if(null!==(e=null!==(e=e.updateQueue)?e.lastEffect:null)){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function il(t){var e=t.ref;if(null!==e){var n=t.stateNode;t.tag,t=n,"function"===typeof e?e(t):e.current=t}}function sl(t){var e=t.alternate;null!==e&&(t.alternate=null,sl(e)),t.child=null,t.deletions=null,t.sibling=null,5===t.tag&&(null!==(e=t.stateNode)&&(delete e[di],delete e[fi],delete e[gi],delete e[mi],delete e[yi])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ol(t){return 5===t.tag||3===t.tag||4===t.tag}function al(t){t:for(;;){for(;null===t.sibling;){if(null===t.return||ol(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;5!==t.tag&&6!==t.tag&&18!==t.tag;){if(2&t.flags)continue t;if(null===t.child||4===t.tag)continue t;t.child.return=t,t=t.child}if(!(2&t.flags))return t.stateNode}}function ll(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Zr));else if(4!==r&&null!==(t=t.child))for(ll(t,e,n),t=t.sibling;null!==t;)ll(t,e,n),t=t.sibling}function cl(t,e,n){var r=t.tag;if(5===r||6===r)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(cl(t,e,n),t=t.sibling;null!==t;)cl(t,e,n),t=t.sibling}var ul=null,hl=!1;function dl(t,e,n){for(n=n.child;null!==n;)fl(t,e,n),n=n.sibling}function fl(t,e,n){if(se&&"function"===typeof se.onCommitFiberUnmount)try{se.onCommitFiberUnmount(ie,n)}catch(a){}switch(n.tag){case 5:Xa||Za(n,e);case 6:var r=ul,i=hl;ul=null,dl(t,e,n),hl=i,null!==(ul=r)&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?t.parentNode.removeChild(n):t.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(hl?(t=ul,n=n.stateNode,8===t.nodeType?li(t.parentNode,n):1===t.nodeType&&li(t,n),Be(t)):li(ul,n.stateNode));break;case 4:r=ul,i=hl,ul=n.stateNode.containerInfo,hl=!0,dl(t,e,n),ul=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,e,o),i=i.next}while(i!==r)}dl(t,e,n);break;case 1:if(!Xa&&(Za(n,e),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,e,a)}dl(t,e,n);break;case 21:dl(t,e,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(t,e,n),Xa=r):dl(t,e,n);break;default:dl(t,e,n)}}function pl(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new $a),e.forEach((function(e){var r=Ic.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function gl(t,e){var n=e.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,l=a;t:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,hl=!1;break t;case 3:case 4:ul=l.stateNode.containerInfo,hl=!0;break t}l=l.return}if(null===ul)throw Error(s(160));fl(o,a,i),ul=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Sc(i,e,u)}}if(12854&e.subtreeFlags)for(e=e.child;null!==e;)ml(e,t),e=e.sibling}function ml(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),yl(t),4&r){try{nl(3,t,t.return),rl(3,t)}catch(m){Sc(t,t.return,m)}try{nl(5,t,t.return)}catch(m){Sc(t,t.return,m)}}break;case 1:gl(e,t),yl(t),512&r&&null!==n&&Za(n,n.return);break;case 5:if(gl(e,t),yl(t),512&r&&null!==n&&Za(n,n.return),32&t.flags){var i=t.stateNode;try{dt(i,"")}catch(m){Sc(t,t.return,m)}}if(4&r&&null!=(i=t.stateNode)){var o=t.memoizedProps,a=null!==n?n.memoizedProps:o,l=t.type,c=t.updateQueue;if(t.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),bt(l,a);var u=bt(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?mt(i,d):"dangerouslySetInnerHTML"===h?ht(i,d):"children"===h?dt(i,d):b(i,h,d,u)}switch(l){case"input":J(i,o);break;case"textarea":st(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?nt(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?nt(i,!!o.multiple,o.defaultValue,!0):nt(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(m){Sc(t,t.return,m)}}break;case 6:if(gl(e,t),yl(t),4&r){if(null===t.stateNode)throw Error(s(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(m){Sc(t,t.return,m)}}break;case 3:if(gl(e,t),yl(t),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Be(e.containerInfo)}catch(m){Sc(t,t.return,m)}break;case 4:default:gl(e,t),yl(t);break;case 13:gl(e,t),yl(t),8192&(i=t.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$t())),4&r&&pl(t);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&t.mode?(Xa=(u=Xa)||h,gl(e,t),Xa=u):gl(e,t),yl(t),8192&r){if(u=null!==t.memoizedState,(t.stateNode.isHidden=u)&&!h&&0!==(1&t.mode))for(Ja=t,h=t.child;null!==h;){for(d=Ja=h;null!==Ja;){switch(p=(f=Ja).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Za(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(m){Sc(r,n,m)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){xl(d);continue}}null!==p?(p.return=f,Ja=p):xl(d)}h=h.sibling}t:for(h=null,d=t;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=gt("display",a))}catch(m){Sc(t,t.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){Sc(t,t.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===t)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===t)break t;for(;null===d.sibling;){if(null===d.return||d.return===t)break t;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),yl(t),4&r&&pl(t);case 21:}}function yl(t){var e=t.flags;if(2&e){try{t:{for(var n=t.return;null!==n;){if(ol(n)){var r=n;break t}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(dt(i,""),r.flags&=-33),cl(t,al(t),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(t,al(t),o);break;default:throw Error(s(161))}}catch(a){Sc(t,t.return,a)}t.flags&=-3}4096&e&&(t.flags&=-4097)}function vl(t,e,n){Ja=t,bl(t,e,n)}function bl(t,e,n){for(var r=0!==(1&t.mode);null!==Ja;){var i=Ja,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Qa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Qa;var c=Xa;if(Qa=o,(Xa=l)&&!c)for(Ja=i;null!==Ja;)l=(o=Ja).child,22===o.tag&&null!==o.memoizedState?_l(i):null!==l?(l.return=o,Ja=l):_l(i);for(;null!==s;)Ja=s,bl(s,e,n),s=s.sibling;Ja=i,Qa=a,Xa=c}wl(t)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ja=s):wl(t)}}function wl(t){for(;null!==Ja;){var e=Ja;if(0!==(8772&e.flags)){var n=e.alternate;try{if(0!==(8772&e.flags))switch(e.tag){case 0:case 11:case 15:Xa||rl(5,e);break;case 1:var r=e.stateNode;if(4&e.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:na(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;null!==o&&Hs(e,o,r);break;case 3:var a=e.updateQueue;if(null!==a){if(n=null,null!==e.child)switch(e.child.tag){case 5:case 1:n=e.child.stateNode}Hs(e,a,n)}break;case 5:var l=e.stateNode;if(null===n&&4&e.flags){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===e.memoizedState){var u=e.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Be(d)}}}break;default:throw Error(s(163))}Xa||512&e.flags&&il(e)}catch(f){Sc(e,e.return,f)}}if(e===t){Ja=null;break}if(null!==(n=e.sibling)){n.return=e.return,Ja=n;break}Ja=e.return}}function xl(t){for(;null!==Ja;){var e=Ja;if(e===t){Ja=null;break}var n=e.sibling;if(null!==n){n.return=e.return,Ja=n;break}Ja=e.return}}function _l(t){for(;null!==Ja;){var e=Ja;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rl(4,e)}catch(l){Sc(e,n,l)}break;case 1:var r=e.stateNode;if("function"===typeof r.componentDidMount){var i=e.return;try{r.componentDidMount()}catch(l){Sc(e,i,l)}}var s=e.return;try{il(e)}catch(l){Sc(e,s,l)}break;case 5:var o=e.return;try{il(e)}catch(l){Sc(e,o,l)}}}catch(l){Sc(e,e.return,l)}if(e===t){Ja=null;break}var a=e.sibling;if(null!==a){a.return=e.return,Ja=a;break}Ja=e.return}}var kl,Sl=Math.ceil,El=w.ReactCurrentDispatcher,Tl=w.ReactCurrentOwner,Cl=w.ReactCurrentBatchConfig,Il=0,Pl=null,Nl=null,Ml=0,Dl=0,Al=Si(0),Ol=0,Rl=null,Ll=0,jl=0,Fl=0,Vl=null,Ul=null,zl=0,Bl=1/0,Hl=null,Wl=!1,ql=null,Kl=null,Gl=!1,Yl=null,Ql=0,Xl=0,$l=null,Jl=-1,Zl=0;function tc(){return 0!==(6&Il)?$t():-1!==Jl?Jl:Jl=$t()}function ec(t){return 0===(1&t.mode)?1:0!==(2&Il)&&0!==Ml?Ml&-Ml:null!==gs.transition?(0===Zl&&(Zl=ge()),Zl):0!==(t=be)?t:t=void 0===(t=window.event)?16:Xe(t.type)}function nc(t,e,n,r){if(50<Xl)throw Xl=0,$l=null,Error(s(185));ye(t,n,r),0!==(2&Il)&&t===Pl||(t===Pl&&(0===(2&Il)&&(jl|=n),4===Ol&&ac(t,Ml)),rc(t,r),1===n&&0===Il&&0===(1&e.mode)&&(Bl=$t()+500,Vi&&Bi()))}function rc(t,e){var n=t.callbackNode;!function(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-oe(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=fe(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}(t,e);var r=de(t,t===Pl?Ml:0);if(0===r)null!==n&&Yt(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(null!=n&&Yt(n),1===e)0===t.tag?function(t){Vi=!0,zi(t)}(lc.bind(null,t)):zi(lc.bind(null,t)),oi((function(){0===(6&Il)&&Bi()})),n=null;else{switch(we(r)){case 1:n=Zt;break;case 4:n=te;break;case 16:default:n=ee;break;case 536870912:n=re}n=Pc(n,ic.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ic(t,e){if(Jl=-1,Zl=0,0!==(6&Il))throw Error(s(327));var n=t.callbackNode;if(_c()&&t.callbackNode!==n)return null;var r=de(t,t===Pl?Ml:0);if(0===r)return null;if(0!==(30&r)||0!==(r&t.expiredLanes)||e)e=mc(t,r);else{e=r;var i=Il;Il|=2;var o=pc();for(Pl===t&&Ml===e||(Hl=null,Bl=$t()+500,dc(t,e));;)try{vc();break}catch(l){fc(t,l)}Ts(),El.current=o,Il=i,null!==Nl?e=0:(Pl=null,Ml=0,e=Ol)}if(0!==e){if(2===e&&(0!==(i=pe(t))&&(r=i,e=sc(t,i))),1===e)throw n=Rl,dc(t,0),ac(t,r),rc(t,$t()),n;if(6===e)ac(t,r);else{if(i=t.current.alternate,0===(30&r)&&!function(t){for(var e=t;;){if(16384&e.flags){var n=e.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=e.child,16384&e.subtreeFlags&&null!==n)n.return=e,e=n;else{if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}(i)&&(2===(e=mc(t,r))&&(0!==(o=pe(t))&&(r=o,e=sc(t,o))),1===e))throw n=Rl,dc(t,0),ac(t,r),rc(t,$t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(s(345));case 2:case 5:xc(t,Ul,Hl);break;case 3:if(ac(t,r),(130023424&r)===r&&10<(e=zl+500-$t())){if(0!==de(t,0))break;if(((i=t.suspendedLanes)&r)!==r){tc(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ri(xc.bind(null,t,Ul,Hl),e);break}xc(t,Ul,Hl);break;case 4:if(ac(t,r),(4194240&r)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-oe(r);o=1<<a,(a=e[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$t()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sl(r/1960))-r)){t.timeoutHandle=ri(xc.bind(null,t,Ul,Hl),r);break}xc(t,Ul,Hl);break;default:throw Error(s(329))}}}return rc(t,$t()),t.callbackNode===n?ic.bind(null,t):null}function sc(t,e){var n=Vl;return t.current.memoizedState.isDehydrated&&(dc(t,e).flags|=256),2!==(t=mc(t,e))&&(e=Ul,Ul=n,null!==e&&oc(e)),t}function oc(t){null===Ul?Ul=t:Ul.push.apply(Ul,t)}function ac(t,e){for(e&=~Fl,e&=~jl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-oe(e),r=1<<n;t[n]=-1,e&=~r}}function lc(t){if(0!==(6&Il))throw Error(s(327));_c();var e=de(t,0);if(0===(1&e))return rc(t,$t()),null;var n=mc(t,e);if(0!==t.tag&&2===n){var r=pe(t);0!==r&&(e=r,n=sc(t,r))}if(1===n)throw n=Rl,dc(t,0),ac(t,e),rc(t,$t()),n;if(6===n)throw Error(s(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xc(t,Ul,Hl),rc(t,$t()),null}function cc(t,e){var n=Il;Il|=1;try{return t(e)}finally{0===(Il=n)&&(Bl=$t()+500,Vi&&Bi())}}function uc(t){null!==Yl&&0===Yl.tag&&0===(6&Il)&&_c();var e=Il;Il|=1;var n=Cl.transition,r=be;try{if(Cl.transition=null,be=1,t)return t()}finally{be=r,Cl.transition=n,0===(6&(Il=e))&&Bi()}}function hc(){Dl=Al.current,Ei(Al)}function dc(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(es(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ai();break;case 3:Xs(),Ei(Pi),Ei(Ii),no();break;case 5:Js(r);break;case 4:Xs();break;case 13:case 19:Ei(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Pl=t,Nl=t=Ac(t.current,null),Ml=Dl=e,Ol=0,Rl=null,Fl=jl=Ll=0,Ul=Vl=null,null!==Ms){for(e=0;e<Ms.length;e++)if(null!==(r=(n=Ms[e]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Ms=null}return t}function fc(t,e){for(;;){var n=Nl;try{if(Ts(),ro.current=Jo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(so=0,lo=ao=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Ol=1,Rl=e,Nl=null;break}t:{var o=t,a=n.return,l=n,c=e;if(e=Ml,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ma(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,e),1&p.mode&&ga(o,u,e),c=u;var g=(e=p).updateQueue;if(null===g){var m=new Set;m.add(c),e.updateQueue=m}else g.add(c);break t}if(0===(1&e)){ga(o,u,e),gc();break t}c=Error(s(426))}else if(is&&1&l.mode){var y=ma(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,e),ps(ca(c,l));break t}}o=c=ca(c,l),4!==Ol&&(Ol=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e,zs(o,fa(0,c,e));break t;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){o.flags|=65536,e&=-e,o.lanes|=e,zs(o,pa(o,l,e));break t}}o=o.return}while(null!==o)}wc(n)}catch(w){e=w,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var t=El.current;return El.current=Jo,null===t?Jo:t}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Pl||0===(268435455&Ll)&&0===(268435455&jl)||ac(Pl,Ml)}function mc(t,e){var n=Il;Il|=2;var r=pc();for(Pl===t&&Ml===e||(Hl=null,dc(t,e));;)try{yc();break}catch(i){fc(t,i)}if(Ts(),Il=n,El.current=r,null!==Nl)throw Error(s(261));return Pl=null,Ml=0,Ol}function yc(){for(;null!==Nl;)bc(Nl)}function vc(){for(;null!==Nl&&!Qt();)bc(Nl)}function bc(t){var e=kl(t.alternate,t,Dl);t.memoizedProps=t.pendingProps,null===e?wc(t):Nl=e,Tl.current=null}function wc(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(32768&e.flags)){if(null!==(n=Ga(n,e,Dl)))return void(Nl=n)}else{if(null!==(n=Ya(n,e)))return n.flags&=32767,void(Nl=n);if(null===t)return Ol=6,void(Nl=null);t.flags|=32768,t.subtreeFlags=0,t.deletions=null}if(null!==(e=e.sibling))return void(Nl=e);Nl=e=t}while(null!==e);0===Ol&&(Ol=5)}function xc(t,e,n){var r=be,i=Cl.transition;try{Cl.transition=null,be=1,function(t,e,n,r){do{_c()}while(null!==Yl);if(0!==(6&Il))throw Error(s(327));n=t.finishedWork;var i=t.finishedLanes;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-oe(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}(t,o),t===Pl&&(Nl=Pl=null,Ml=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Pc(ee,(function(){return _c(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var a=be;be=1;var l=Il;Il|=4,Tl.current=null,function(t,e){if(ti=We,fr(t=dr())){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else t:{var r=(n=(n=t.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break t}var a=0,l=-1,c=-1,u=0,h=0,d=t,f=null;e:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===t)break e;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ei={focusedElem:t,selectionRange:n},We=!1,Ja=e;null!==Ja;)if(t=(e=Ja).child,0!==(1028&e.subtreeFlags)&&null!==t)t.return=e,Ja=t;else for(;null!==Ja;){e=Ja;try{var g=e.alternate;if(0!==(1024&e.flags))switch(e.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,y=g.memoizedState,v=e.stateNode,b=v.getSnapshotBeforeUpdate(e.elementType===e.type?m:na(e.type,m),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=e.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(x){Sc(e,e.return,x)}if(null!==(t=e.sibling)){t.return=e.return,Ja=t;break}Ja=e.return}g=el,el=!1}(t,n),ml(n,t),pr(ei),We=!!ti,ei=ti=null,t.current=n,vl(n,t,i),Xt(),Il=l,be=a,Cl.transition=o}else t.current=n;if(Gl&&(Gl=!1,Yl=t,Ql=i),o=t.pendingLanes,0===o&&(Kl=null),function(t){if(se&&"function"===typeof se.onCommitFiberRoot)try{se.onCommitFiberRoot(ie,t,void 0,128===(128&t.current.flags))}catch(e){}}(n.stateNode),rc(t,$t()),null!==e)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,t=ql,ql=null,t;0!==(1&Ql)&&0!==t.tag&&_c(),o=t.pendingLanes,0!==(1&o)?t===$l?Xl++:(Xl=0,$l=t):Xl=0,Bi()}(t,e,n,r)}finally{Cl.transition=i,be=r}return null}function _c(){if(null!==Yl){var t=we(Ql),e=Cl.transition,n=be;try{if(Cl.transition=null,be=16>t?16:t,null===Yl)var r=!1;else{if(t=Yl,Yl=null,Ql=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Ja=t.current;null!==Ja;){var o=Ja,a=o.child;if(0!==(16&Ja.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Ja=u;null!==Ja;){var h=Ja;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ja=d;else for(;null!==Ja;){var f=(h=Ja).sibling,p=h.return;if(sl(h),h===u){Ja=null;break}if(null!==f){f.return=p,Ja=f;break}Ja=p}}}var g=o.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}Ja=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ja=a;else t:for(;null!==Ja;){if(0!==(2048&(o=Ja).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Ja=v;break t}Ja=o.return}}var b=t.current;for(Ja=b;null!==Ja;){var w=(a=Ja).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Ja=w;else t:for(a=b;null!==Ja;){if(0!==(2048&(l=Ja).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(_){Sc(l,l.return,_)}if(l===a){Ja=null;break t}var x=l.sibling;if(null!==x){x.return=l.return,Ja=x;break t}Ja=l.return}}if(Il=i,Bi(),se&&"function"===typeof se.onPostCommitFiberRoot)try{se.onPostCommitFiberRoot(ie,t)}catch(_){}r=!0}return r}finally{be=n,Cl.transition=e}}return!1}function kc(t,e,n){t=Vs(t,e=fa(0,e=ca(n,e),1),1),e=tc(),null!==t&&(ye(t,1,e),rc(t,e))}function Sc(t,e,n){if(3===t.tag)kc(t,t,n);else for(;null!==e;){if(3===e.tag){kc(e,t,n);break}if(1===e.tag){var r=e.stateNode;if("function"===typeof e.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){e=Vs(e,t=pa(e,t=ca(n,t),1),1),t=tc(),null!==e&&(ye(e,1,t),rc(e,t));break}}e=e.return}}function Ec(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=tc(),t.pingedLanes|=t.suspendedLanes&n,Pl===t&&(Ml&n)===n&&(4===Ol||3===Ol&&(130023424&Ml)===Ml&&500>$t()-zl?dc(t,0):Fl|=n),rc(t,e)}function Tc(t,e){0===e&&(0===(1&t.mode)?e=1:(e=ue,0===(130023424&(ue<<=1))&&(ue=4194304)));var n=tc();null!==(t=Os(t,e))&&(ye(t,e,n),rc(t,n))}function Cc(t){var e=t.memoizedState,n=0;null!==e&&(n=e.retryLane),Tc(t,n)}function Ic(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(e),Tc(t,n)}function Pc(t,e){return Gt(t,e)}function Nc(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(t,e,n,r){return new Nc(t,e,n,r)}function Dc(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ac(t,e){var n=t.alternate;return null===n?((n=Mc(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&t.flags,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Oc(t,e,n,r,i,o){var a=2;if(r=t,"function"===typeof t)Dc(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case k:return Rc(n.children,i,o,e);case S:a=8,i|=8;break;case E:return(t=Mc(12,n,e,2|i)).elementType=E,t.lanes=o,t;case P:return(t=Mc(13,n,e,i)).elementType=P,t.lanes=o,t;case N:return(t=Mc(19,n,e,i)).elementType=N,t.lanes=o,t;case A:return Lc(n,i,o,e);default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:a=10;break t;case C:a=9;break t;case I:a=11;break t;case M:a=14;break t;case D:a=16,r=null;break t}throw Error(s(130,null==t?t:typeof t,""))}return(e=Mc(a,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Rc(t,e,n,r){return(t=Mc(7,t,r,e)).lanes=n,t}function Lc(t,e,n,r){return(t=Mc(22,t,r,e)).elementType=A,t.lanes=n,t.stateNode={isHidden:!1},t}function jc(t,e,n){return(t=Mc(6,t,null,e)).lanes=n,t}function Fc(t,e,n){return(e=Mc(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Vc(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=me(0),this.expirationTimes=me(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=me(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(t,e,n,r,i,s,o,a,l){return t=new Vc(t,e,n,a,l),1===e?(e=1,!0===s&&(e|=8)):e=0,s=Mc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ls(s),t}function zc(t){if(!t)return Ci;t:{if(Bt(t=t._reactInternals)!==t||1!==t.tag)throw Error(s(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break t;case 1:if(Di(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break t}}e=e.return}while(null!==e);throw Error(s(171))}if(1===t.tag){var n=t.type;if(Di(n))return Ri(t,n,e)}return e}function Bc(t,e,n,r,i,s,o,a,l){return(t=Uc(n,r,!0,t,0,s,0,a,l)).context=zc(null),n=t.current,(s=Fs(r=tc(),i=ec(n))).callback=void 0!==e&&null!==e?e:null,Vs(n,s,i),t.current.lanes=i,ye(t,i,r),rc(t,r),t}function Hc(t,e,n,r){var i=e.current,s=tc(),o=ec(i);return n=zc(n),null===e.context?e.context=n:e.pendingContext=n,(e=Fs(s,o)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),null!==(t=Vs(i,e,o))&&(nc(t,i,o,s),Us(t,i,o)),o}function Wc(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function qc(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Kc(t,e){qc(t,e),(t=t.alternate)&&qc(t,e)}kl=function(t,e,n){if(null!==t)if(t.memoizedProps!==e.pendingProps||Pi.current)ba=!0;else{if(0===(t.lanes&n)&&0===(128&e.flags))return ba=!1,function(t,e,n){switch(e.tag){case 3:Pa(e),fs();break;case 5:$s(e);break;case 1:Di(e.type)&&Li(e);break;case 4:Qs(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ti(_s,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=e.memoizedState))return null!==r.dehydrated?(Ti(Zs,1&Zs.current),e.flags|=128,null):0!==(n&e.child.childLanes)?ja(t,e,n):(Ti(Zs,1&Zs.current),null!==(t=Wa(t,e,n))?t.sibling:null);Ti(Zs,1&Zs.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(128&t.flags)){if(r)return Ba(t,e,n);e.flags|=128}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Zs,Zs.current),r)break;return null;case 22:case 23:return e.lanes=0,Sa(t,e,n)}return Wa(t,e,n)}(t,e,n);ba=0!==(131072&t.flags)}else ba=!1,is&&0!==(1048576&e.flags)&&Zi(e,Ki,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ha(t,e),t=e.pendingProps;var i=Mi(e,Ii.current);Ps(e,n),i=mo(null,e,r,t,i,n);var o=yo();return e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Di(r)?(o=!0,Li(e)):o=!1,e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ls(e),i.updater=ia,e.stateNode=i,i._reactInternals=e,la(e,r,t,n),e=Ia(null,e,r,!0,o,n)):(e.tag=0,is&&o&&ts(e),wa(null,e,i,n),e=e.child),e;case 16:r=e.elementType;t:{switch(Ha(t,e),t=e.pendingProps,r=(i=r._init)(r._payload),e.type=r,i=e.tag=function(t){if("function"===typeof t)return Dc(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===I)return 11;if(t===M)return 14}return 2}(r),t=na(r,t),i){case 0:e=Ta(null,e,r,t,n);break t;case 1:e=Ca(null,e,r,t,n);break t;case 11:e=xa(null,e,r,t,n);break t;case 14:e=_a(null,e,r,na(r.type,t),n);break t}throw Error(s(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,Ta(t,e,r,i=e.elementType===r?i:na(r,i),n);case 1:return r=e.type,i=e.pendingProps,Ca(t,e,r,i=e.elementType===r?i:na(r,i),n);case 3:t:{if(Pa(e),null===t)throw Error(s(387));r=e.pendingProps,i=(o=e.memoizedState).element,js(t,e),Bs(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,256&e.flags){e=Na(t,e,r,n,i=ca(Error(s(423)),e));break t}if(r!==i){e=Na(t,e,r,n,i=ca(Error(s(424)),e));break t}for(rs=ci(e.stateNode.containerInfo.firstChild),ns=e,is=!0,ss=null,n=xs(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){e=Wa(t,e,n);break t}wa(t,e,r,n)}e=e.child}return e;case 5:return $s(e),null===t&&cs(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(e.flags|=32),Ea(t,e),wa(t,e,a,n),e.child;case 6:return null===t&&cs(e),null;case 13:return ja(t,e,n);case 4:return Qs(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ws(e,null,r,n):wa(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,xa(t,e,r,i=e.elementType===r?i:na(r,i),n);case 7:return wa(t,e,e.pendingProps,n),e.child;case 8:case 12:return wa(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,Ti(_s,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Pi.current){e=Wa(t,e,n);break t}}else for(null!==(o=e.child)&&(o.return=e);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fs(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Is(o.return,n,e),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===e.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Is(a,n,e),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===e){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ps(e,n),r=r(i=Ns(i)),e.flags|=1,wa(t,e,r,n),e.child;case 14:return i=na(r=e.type,e.pendingProps),_a(t,e,r,i=na(r.type,i),n);case 15:return ka(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:na(r,i),Ha(t,e),e.tag=1,Di(r)?(t=!0,Li(e)):t=!1,Ps(e,n),oa(e,r,i),la(e,r,i,n),Ia(null,e,r,!0,t,n);case 19:return Ba(t,e,n);case 22:return Sa(t,e,n)}throw Error(s(156,e.tag))};var Gc="function"===typeof reportError?reportError:function(t){console.error(t)};function Yc(t){this._internalRoot=t}function Qc(t){this._internalRoot=t}function Xc(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)}function $c(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Jc(){}function Zc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var t=Wc(o);a.call(t)}}Hc(e,o,t,i)}else o=function(t,e,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var t=Wc(o);s.call(t)}}var o=Bc(e,r,t,0,null,!1,0,"",Jc);return t._reactRootContainer=o,t[pi]=o.current,Br(8===t.nodeType?t.parentNode:t),uc(),o}for(;i=t.lastChild;)t.removeChild(i);if("function"===typeof r){var a=r;r=function(){var t=Wc(l);a.call(t)}}var l=Uc(t,0,!1,null,0,!1,0,"",Jc);return t._reactRootContainer=l,t[pi]=l.current,Br(8===t.nodeType?t.parentNode:t),uc((function(){Hc(e,l,n,r)})),l}(n,e,t,i,r);return Wc(o)}Qc.prototype.render=Yc.prototype.render=function(t){var e=this._internalRoot;if(null===e)throw Error(s(409));Hc(t,e,null,null)},Qc.prototype.unmount=Yc.prototype.unmount=function(){var t=this._internalRoot;if(null!==t){this._internalRoot=null;var e=t.containerInfo;uc((function(){Hc(null,t,null,null)})),e[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Se();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ae.length&&0!==e&&e<Ae[n].priority;n++);Ae.splice(n,0,t),0===n&&je(t)}},xe=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=he(e.pendingLanes);0!==n&&(ve(e,1|n),rc(e,$t()),0===(6&Il)&&(Bl=$t()+500,Bi()))}break;case 13:uc((function(){var e=Os(t,1);if(null!==e){var n=tc();nc(e,t,1,n)}})),Kc(t,1)}},_e=function(t){if(13===t.tag){var e=Os(t,134217728);if(null!==e)nc(e,t,134217728,tc());Kc(t,134217728)}},ke=function(t){if(13===t.tag){var e=ec(t),n=Os(t,e);if(null!==n)nc(n,t,e,tc());Kc(t,e)}},Se=function(){return be},Ee=function(t,e){var n=be;try{return be=t,e()}finally{be=n}},_t=function(t,e,n){switch(e){case"input":if(J(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=xi(r);if(!i)throw Error(s(90));G(r),J(r,i)}}}break;case"textarea":st(t,n);break;case"select":null!=(e=n.value)&&nt(t,!!n.multiple,e,!1)}},It=cc,Pt=uc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,xi,Tt,Ct,cc]},eu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:eu.bundleType,version:eu.version,rendererPackageName:eu.rendererPackageName,rendererConfig:eu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=qt(t))?null:t.stateNode},findFiberByHostInstance:eu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ie=ru.inject(nu),se=ru}catch(ut){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,e.createPortal=function(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(e))throw Error(s(200));return function(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:_,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}(t,e,null,n)},e.createRoot=function(t,e){if(!Xc(t))throw Error(s(299));var n=!1,r="",i=Gc;return null!==e&&void 0!==e&&(!0===e.unstable_strictMode&&(n=!0),void 0!==e.identifierPrefix&&(r=e.identifierPrefix),void 0!==e.onRecoverableError&&(i=e.onRecoverableError)),e=Uc(t,1,!1,null,0,n,0,r,i),t[pi]=e.current,Br(8===t.nodeType?t.parentNode:t),new Yc(e)},e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(s(188));throw t=Object.keys(t).join(","),Error(s(268,t))}return t=null===(t=qt(e))?null:t.stateNode},e.flushSync=function(t){return uc(t)},e.hydrate=function(t,e,n){if(!$c(e))throw Error(s(200));return Zc(null,t,e,!0,n)},e.hydrateRoot=function(t,e,n){if(!Xc(t))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),e=Bc(e,null,t,1,null!=n?n:null,i,0,o,a),t[pi]=e.current,Br(t),r)for(t=0;t<r.length;t++)i=(i=(n=r[t])._getVersion)(n._source),null==e.mutableSourceEagerHydrationData?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qc(e)},e.render=function(t,e,n){if(!$c(e))throw Error(s(200));return Zc(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!$c(t))throw Error(s(40));return!!t._reactRootContainer&&(uc((function(){Zc(null,null,t,!1,(function(){t._reactRootContainer=null,t[pi]=null}))})),!0)},e.unstable_batchedUpdates=cc,e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!$c(n))throw Error(s(200));if(null==t||void 0===t._reactInternals)throw Error(s(38));return Zc(t,e,n,!1,r)},e.version="18.3.1-next-f1338f8080-20240426"},950:(t,e,n)=>{"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(730)},153:(t,e,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(t,e,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==e.key&&(c=""+e.key),void 0!==e.ref&&(u=e.ref),e)o.call(e,r)&&!l.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===s[r]&&(s[r]=e[r]);return{$$typeof:i,type:t,key:c,ref:u,props:s,_owner:a.current}}e.Fragment=s,e.jsx=c,e.jsxs=c},202:(t,e)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function y(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function b(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,g(w,y.prototype),w.isPureReactComponent=!0;var x=Array.isArray,_=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(t,e,r){var i,s={},o=null,a=null;if(null!=e)for(i in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)_.call(e,i)&&!S.hasOwnProperty(i)&&(s[i]=e[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(i in l=t.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:t,key:o,ref:a,props:s,_owner:k.current}}function T(t){return"object"===typeof t&&null!==t&&t.$$typeof===n}var C=/\/+/g;function I(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function P(t,e,i,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=t),t=""===s?"."+I(l,0):s,x(o)?(i="",null!=t&&(i=t.replace(C,"$&/")+"/"),P(o,e,i,"",(function(t){return t}))):null!=o&&(T(o)&&(o=function(t,e){return{$$typeof:n,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",x(t))for(var c=0;c<t.length;c++){var u=s+I(a=t[c],c);l+=P(a,e,i,u,o)}else if(u=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"===typeof u)for(t=u.call(t),c=0;!(a=t.next()).done;)l+=P(a=a.value,e,i,u=s+I(a,c++),o);else if("object"===a)throw e=String(t),Error("Objects are not valid as a React child (found: "+("[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function N(t,e,n){if(null==t)return t;var r=[],i=0;return P(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;(e=e()).then((function(e){0!==t._status&&-1!==t._status||(t._status=1,t._result=e)}),(function(e){0!==t._status&&-1!==t._status||(t._status=2,t._result=e)})),-1===t._status&&(t._status=0,t._result=e)}if(1===t._status)return t._result.default;throw t._result}var D={current:null},A={transition:null},O={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:A,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}e.Children={map:N,forEach:function(t,e,n){N(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return N(t,(function(){e++})),e},toArray:function(t){return N(t,(function(t){return t}))||[]},only:function(t){if(!T(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},e.Component=y,e.Fragment=i,e.Profiler=o,e.PureComponent=b,e.StrictMode=s,e.Suspense=u,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,e.act=R,e.cloneElement=function(t,e,r){if(null===t||void 0===t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=g({},t.props),s=t.key,o=t.ref,a=t._owner;if(null!=e){if(void 0!==e.ref&&(o=e.ref,a=k.current),void 0!==e.key&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)_.call(e,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:t.type,key:s,ref:o,props:i,_owner:a}},e.createContext=function(t){return(t={$$typeof:l,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=E,e.createFactory=function(t){var e=E.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:c,render:t}},e.isValidElement=T,e.lazy=function(t){return{$$typeof:d,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:h,type:t,compare:void 0===e?null:e}},e.startTransition=function(t){var e=A.transition;A.transition={};try{t()}finally{A.transition=e}},e.unstable_act=R,e.useCallback=function(t,e){return D.current.useCallback(t,e)},e.useContext=function(t){return D.current.useContext(t)},e.useDebugValue=function(){},e.useDeferredValue=function(t){return D.current.useDeferredValue(t)},e.useEffect=function(t,e){return D.current.useEffect(t,e)},e.useId=function(){return D.current.useId()},e.useImperativeHandle=function(t,e,n){return D.current.useImperativeHandle(t,e,n)},e.useInsertionEffect=function(t,e){return D.current.useInsertionEffect(t,e)},e.useLayoutEffect=function(t,e){return D.current.useLayoutEffect(t,e)},e.useMemo=function(t,e){return D.current.useMemo(t,e)},e.useReducer=function(t,e,n){return D.current.useReducer(t,e,n)},e.useRef=function(t){return D.current.useRef(t)},e.useState=function(t){return D.current.useState(t)},e.useSyncExternalStore=function(t,e,n){return D.current.useSyncExternalStore(t,e,n)},e.useTransition=function(){return D.current.useTransition()},e.version="18.3.1"},43:(t,e,n)=>{"use strict";t.exports=n(202)},579:(t,e,n)=>{"use strict";t.exports=n(153)},234:(t,e)=>{"use strict";function n(t,e){var n=t.length;t.push(e);t:for(;0<n;){var r=n-1>>>1,i=t[r];if(!(0<s(i,e)))break t;t[r]=e,t[n]=i,n=r}}function r(t){return 0===t.length?null:t[0]}function i(t){if(0===t.length)return null;var e=t[0],n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=t[a],c=a+1,u=t[c];if(0>s(l,n))c<i&&0>s(u,l)?(t[r]=u,t[c]=n,r=c):(t[r]=l,t[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break t;t[r]=u,t[c]=n,r=c}}}return e}function s(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,g=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(t){for(var e=r(u);null!==e;){if(null===e.callback)i(u);else{if(!(e.startTime<=t))break;i(u),e.sortIndex=e.expirationTime,n(c,e)}e=r(u)}}function x(t){if(m=!1,w(t),!g)if(null!==r(c))g=!0,A(_);else{var e=r(u);null!==e&&O(x,e.startTime-t)}}function _(t,n){g=!1,m&&(m=!1,v(T),T=-1),p=!0;var s=f;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||t&&!P());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=e.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&O(x,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,E=null,T=-1,C=5,I=-1;function P(){return!(e.unstable_now()-I<C)}function N(){if(null!==E){var t=e.unstable_now();I=t;var n=!0;try{n=E(!0,t)}finally{n?k():(S=!1,E=null)}}else S=!1}if("function"===typeof b)k=function(){b(N)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,D=M.port2;M.port1.onmessage=N,k=function(){D.postMessage(null)}}else k=function(){y(N,0)};function A(t){E=t,S||(S=!0,k())}function O(t,n){T=y((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){g||p||(g=!0,A(_))},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<t?Math.floor(1e3/t):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(t){switch(f){case 1:case 2:case 3:var e=3;break;default:e=f}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_scheduleCallback=function(t,i,s){var o=e.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,t){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return t={id:h++,callback:i,priorityLevel:t,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(t.sortIndex=s,n(u,t),null===r(c)&&t===r(u)&&(m?(v(T),T=-1):m=!0,O(x,s-o))):(t.sortIndex=a,n(c,t),g||p||(g=!0,A(_))),t},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(t){var e=f;return function(){var n=f;f=e;try{return t.apply(this,arguments)}finally{f=n}}}},853:(t,e,n)=>{"use strict";t.exports=n(234)},440:t=>{"use strict";var e=function(){};t.exports=e},139:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t="",e=0;e<arguments.length;e++){var n=arguments[e];n&&(t=o(t,s(n)))}return t}function s(t){if("string"===typeof t||"number"===typeof t)return t;if("object"!==typeof t)return"";if(Array.isArray(t))return i.apply(null,t);if(t.toString!==Object.prototype.toString&&!t.toString.toString().includes("[native code]"))return t.toString();var e="";for(var n in t)r.call(t,n)&&t[n]&&(e=o(e,n));return e}function o(t,e){return e?t?t+" "+e:t+e:t}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={exports:{}};return t[r](s,s.exports,n),s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},(()=>{var t,e=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};t=t||[null,e({}),e([]),e(e)];for(var a=2&i&&r;"object"==typeof a&&!~t.indexOf(a);a=e(a))Object.getOwnPropertyNames(a).forEach((t=>o[t]=()=>r[t]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t,e=n(43),r=n.t(e,2),i=n(950),s=n.t(i,2);function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o.apply(this,arguments)}!function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"}(t||(t={}));const a="popstate";function l(t,e){if(!1===t||null===t||"undefined"===typeof t)throw new Error(e)}function c(t,e){if(!t){"undefined"!==typeof console&&console.warn(e);try{throw new Error(e)}catch(n){}}}function u(t,e){return{usr:t.state,key:t.key,idx:e}}function h(t,e,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof t?t:t.pathname,search:"",hash:""},"string"===typeof e?f(e):e,{state:n,key:e&&e.key||r||Math.random().toString(36).substr(2,8)})}function d(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&"?"!==n&&(e+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(e+="#"===r.charAt(0)?r:"#"+r),e}function f(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:c=!1}=i,f=s.history,p=t.Pop,g=null,m=y();function y(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=y(),n=null==e?null:e-m;m=e,g&&g({action:p,location:w.location,delta:n})}function b(t){let e="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof t?t:d(t);return n=n.replace(/ $/,"%20"),l(e,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,e)}null==m&&(m=0,f.replaceState(o({},f.state,{idx:m}),""));let w={get action(){return p},get location(){return e(s,f)},listen(t){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(a,v),g=t,()=>{s.removeEventListener(a,v),g=null}},createHref:t=>n(s,t),createURL:b,encodeLocation(t){let e=b(t);return{pathname:e.pathname,search:e.search,hash:e.hash}},push:function(e,n){p=t.Push;let i=h(w.location,e,n);r&&r(i,e),m=y()+1;let o=u(i,m),a=w.createHref(i);try{f.pushState(o,"",a)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;s.location.assign(a)}c&&g&&g({action:p,location:w.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(w.location,e,n);r&&r(i,e),m=y();let s=u(i,m),o=w.createHref(i);f.replaceState(s,"",o),c&&g&&g({action:p,location:w.location,delta:0})},go:t=>f.go(t)};return w}var g;!function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(t,e,n){void 0===n&&(n="/");let r=N(("string"===typeof e?f(e):e).pathname||"/",n);if(null==r)return null;let i=y(t);!function(t){t.sort(((t,e)=>t.score!==e.score?e.score-t.score:function(t,e){let n=t.length===e.length&&t.slice(0,-1).every(((t,n)=>t===e[n]));return n?t[t.length-1]-e[e.length-1]:0}(t.routesMeta.map((t=>t.childrenIndex)),e.routesMeta.map((t=>t.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let t=P(r);s=C(i[o],t)}return s}function y(t,e,n,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(t,i,s)=>{let o={relativePath:void 0===s?t.path||"":s,caseSensitive:!0===t.caseSensitive,childrenIndex:i,route:t};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=R([r,o.relativePath]),c=n.concat(o);t.children&&t.children.length>0&&(l(!0!==t.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),y(t.children,e,c,a)),(null!=t.path||t.index)&&e.push({path:a,score:T(a,t.index),routesMeta:c})};return t.forEach(((t,e)=>{var n;if(""!==t.path&&null!=(n=t.path)&&n.includes("?"))for(let r of v(t.path))i(t,e,r);else i(t,e)})),e}function v(t){let e=t.split("/");if(0===e.length)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=v(r.join("/")),a=[];return a.push(...o.map((t=>""===t?s:[s,t].join("/")))),i&&a.push(...o),a.map((e=>t.startsWith("/")&&""===e?"/":e))}const b=/^:[\w-]+$/,w=3,x=2,_=1,k=10,S=-2,E=t=>"*"===t;function T(t,e){let n=t.split("/"),r=n.length;return n.some(E)&&(r+=S),e&&(r+=x),n.filter((t=>!E(t))).reduce(((t,e)=>t+(b.test(e)?w:""===e?_:k)),r)}function C(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let t=n[o],a=o===n.length-1,l="/"===i?e:e.slice(i.length)||"/",c=I({path:t.relativePath,caseSensitive:t.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=t.route;s.push({params:r,pathname:R([i,c.pathname]),pathnameBase:L(R([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=R([i,c.pathnameBase]))}return s}function I(t,e){"string"===typeof t&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=function(t,e,n){void 0===e&&(e=!1);void 0===n&&(n=!0);c("*"===t||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were "'+t.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+t.replace(/\*$/,"/*")+'".');let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((t,e,n)=>(r.push({paramName:e,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));t.endsWith("*")?(r.push({paramName:"*"}),i+="*"===t||"/*"===t?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==t&&"/"!==t&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,e?void 0:"i");return[s,r]}(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((t,e,n)=>{let{paramName:r,isOptional:i}=e;if("*"===r){let t=a[n]||"";o=s.slice(0,s.length-t.length).replace(/(.)\/+$/,"$1")}const l=a[n];return t[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),t}),{});return{params:l,pathname:s,pathnameBase:o,pattern:t}}function P(t){try{return t.split("/").map((t=>decodeURIComponent(t).replace(/\//g,"%2F"))).join("/")}catch(e){return c(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+e+")."),t}}function N(t,e){if("/"===e)return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&"/"!==r?null:t.slice(n)||"/"}function M(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified `to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(t){return t.filter(((t,e)=>0===e||t.route.path&&t.route.path.length>0))}function A(t,e){let n=D(t);return e?n.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)):n.map((t=>t.pathnameBase))}function O(t,e,n,r){let i;void 0===r&&(r=!1),"string"===typeof t?i=f(t):(i=o({},t),l(!i.pathname||!i.pathname.includes("?"),M("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),M("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),M("#","search","hash",i)));let s,a=""===t||""===i.pathname,c=a?"/":i.pathname;if(null==c)s=n;else{let t=e.length-1;if(!r&&c.startsWith("..")){let e=c.split("/");for(;".."===e[0];)e.shift(),t-=1;i.pathname=e.join("/")}s=t>=0?e[t]:"/"}let u=function(t,e){void 0===e&&(e="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof t?f(t):t,s=n?n.startsWith("/")?n:function(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach((t=>{".."===t?n.length>1&&n.pop():"."!==t&&n.push(t)})),n.length>1?n.join("/"):"/"}(n,e):e;return{pathname:s,search:j(r),hash:F(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const R=t=>t.join("/").replace(/\/\/+/g,"/"),L=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),j=t=>t&&"?"!==t?t.startsWith("?")?t:"?"+t:"",F=t=>t&&"#"!==t?t.startsWith("#")?t:"#"+t:"";Error;function V(t){return null!=t&&"number"===typeof t.status&&"string"===typeof t.statusText&&"boolean"===typeof t.internal&&"data"in t}const U=["post","put","patch","delete"],z=(new Set(U),["get",...U]);new Set(z),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},B.apply(this,arguments)}const H=e.createContext(null);const W=e.createContext(null);const q=e.createContext(null);const K=e.createContext(null);const G=e.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=e.createContext(null);function Q(){return null!=e.useContext(K)}function X(){return Q()||l(!1),e.useContext(K).location}function $(t){e.useContext(q).static||e.useLayoutEffect(t)}function J(){let{isDataRoute:t}=e.useContext(G);return t?function(){let{router:t}=ct(at.UseNavigateStable),n=ht(lt.UseNavigateStable),r=e.useRef(!1);$((()=>{r.current=!0}));let i=e.useCallback((function(e,i){void 0===i&&(i={}),r.current&&("number"===typeof e?t.navigate(e):t.navigate(e,B({fromRouteId:n},i)))}),[t,n]);return i}():function(){Q()||l(!1);let t=e.useContext(H),{basename:n,future:r,navigator:i}=e.useContext(q),{matches:s}=e.useContext(G),{pathname:o}=X(),a=JSON.stringify(A(s,r.v7_relativeSplatPath)),c=e.useRef(!1);$((()=>{c.current=!0}));let u=e.useCallback((function(e,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof e)return void i.go(e);let s=O(e,JSON.parse(a),o,"path"===r.relative);null==t&&"/"!==n&&(s.pathname="/"===s.pathname?n:R([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,a,o,t]);return u}()}const Z=e.createContext(null);function tt(t,n){let{relative:r}=void 0===n?{}:n,{future:i}=e.useContext(q),{matches:s}=e.useContext(G),{pathname:o}=X(),a=JSON.stringify(A(s,i.v7_relativeSplatPath));return e.useMemo((()=>O(t,JSON.parse(a),o,"path"===r)),[t,a,o,r])}function et(n,r,i,s){Q()||l(!1);let{navigator:o}=e.useContext(q),{matches:a}=e.useContext(G),c=a[a.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,p=X();if(r){var g;let t="string"===typeof r?f(r):r;"/"===h||(null==(g=t.pathname)?void 0:g.startsWith(h))||l(!1),d=t}else d=p;let y=d.pathname||"/",v=y;if("/"!==h){let t=h.replace(/^\//,"").split("/");v="/"+y.replace(/^\//,"").split("/").slice(t.length).join("/")}let b=m(n,{pathname:v});let w=ot(b&&b.map((t=>Object.assign({},t,{params:Object.assign({},u,t.params),pathname:R([h,o.encodeLocation?o.encodeLocation(t.pathname).pathname:t.pathname]),pathnameBase:"/"===t.pathnameBase?h:R([h,o.encodeLocation?o.encodeLocation(t.pathnameBase).pathname:t.pathnameBase])}))),a,i,s);return r&&w?e.createElement(K.Provider,{value:{location:B({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},w):w}function nt(){let t=function(){var t;let n=e.useContext(Y),r=ut(lt.UseRouteError),i=ht(lt.UseRouteError);if(void 0!==n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=V(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:s},r):null,null)}const rt=e.createElement(nt,null);class it extends e.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||"idle"!==e.revalidation&&"idle"===t.revalidation?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:void 0!==t.error?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return void 0!==this.state.error?e.createElement(G.Provider,{value:this.props.routeContext},e.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function st(t){let{routeContext:n,match:r,children:i}=t,s=e.useContext(H);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(G.Provider,{value:n},i)}function ot(t,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==t){var o;if(null==(o=r)||!o.errors)return null;t=r.matches}let a=t,c=null==(s=r)?void 0:s.errors;if(null!=c){let t=a.findIndex((t=>t.route.id&&void 0!==(null==c?void 0:c[t.route.id])));t>=0||l(!1),a=a.slice(0,Math.min(a.length,t+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(h=e),t.route.id){let{loaderData:e,errors:n}=r,i=t.route.loader&&void 0===e[t.route.id]&&(!n||void 0===n[t.route.id]);if(t.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((t,i,s)=>{let o,l=!1,d=null,f=null;var p;r&&(o=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||rt,u&&(h<0&&0===s?(p="route-fallback",!1||dt[p]||(dt[p]=!0),l=!0,f=null):h===s&&(l=!0,f=i.route.hydrateFallbackElement||null)));let g=n.concat(a.slice(0,s+1)),m=()=>{let n;return n=o?d:l?f:i.route.Component?e.createElement(i.route.Component,null):i.route.element?i.route.element:t,e.createElement(st,{match:i,routeContext:{outlet:t,matches:g,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?e.createElement(it,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()}),null)}var at=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(at||{}),lt=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lt||{});function ct(t){let n=e.useContext(H);return n||l(!1),n}function ut(t){let n=e.useContext(W);return n||l(!1),n}function ht(t){let n=function(t){let n=e.useContext(G);return n||l(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||l(!1),r.route.id}const dt={};r.startTransition;function ft(t){let{to:n,replace:r,state:i,relative:s}=t;Q()||l(!1);let{future:o,static:a}=e.useContext(q),{matches:c}=e.useContext(G),{pathname:u}=X(),h=J(),d=O(n,A(c,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return e.useEffect((()=>h(JSON.parse(f),{replace:r,state:i,relative:s})),[h,f,s,r,i]),null}function pt(t){return function(t){let n=e.useContext(G).outlet;return n?e.createElement(Z.Provider,{value:t},n):n}(t.context)}function gt(t){l(!1)}function mt(n){let{basename:r="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:c=!1,future:u}=n;Q()&&l(!1);let h=r.replace(/^\/*/,"/"),d=e.useMemo((()=>({basename:h,navigator:a,static:c,future:B({v7_relativeSplatPath:!1},u)})),[h,u,a,c]);"string"===typeof s&&(s=f(s));let{pathname:p="/",search:g="",hash:m="",state:y=null,key:v="default"}=s,b=e.useMemo((()=>{let t=N(p,h);return null==t?null:{location:{pathname:t,search:g,hash:m,state:y,key:v},navigationType:o}}),[h,p,g,m,y,v,o]);return null==b?null:e.createElement(q.Provider,{value:d},e.createElement(K.Provider,{children:i,value:b}))}function yt(t){let{children:e,location:n}=t;return et(vt(e),n)}new Promise((()=>{}));e.Component;function vt(t,n){void 0===n&&(n=[]);let r=[];return e.Children.forEach(t,((t,i)=>{if(!e.isValidElement(t))return;let s=[...n,i];if(t.type===e.Fragment)return void r.push.apply(r,vt(t.props.children,s));t.type!==gt&&l(!1),t.props.index&&t.props.children&&l(!1);let o={id:t.props.id||s.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=vt(t.props.children,s)),r.push(o)})),r}function bt(){return bt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bt.apply(this,arguments)}function wt(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const xt=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(yD){}new Map;const _t=r.startTransition;s.flushSync,r.useId;function kt(t){let{basename:n,children:r,future:i,window:s}=t,o=e.useRef();null==o.current&&(o.current=function(t){return void 0===t&&(t={}),p((function(t,e){let{pathname:n,search:r,hash:i}=t.location;return h("",{pathname:n,search:r,hash:i},e.state&&e.state.usr||null,e.state&&e.state.key||"default")}),(function(t,e){return"string"===typeof e?e:d(e)}),null,t)}({window:s,v5Compat:!0}));let a=o.current,[l,c]=e.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},f=e.useCallback((t=>{u&&_t?_t((()=>c(t))):c(t)}),[c,u]);return e.useLayoutEffect((()=>a.listen(f)),[a,f]),e.createElement(mt,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:a,future:i})}const St="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Et=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Tt=e.forwardRef((function(t,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=t,g=wt(t,xt),{basename:m}=e.useContext(q),y=!1;if("string"===typeof h&&Et.test(h)&&(r=h,St))try{let t=new URL(window.location.href),e=h.startsWith("//")?new URL(t.protocol+h):new URL(h),n=N(e.pathname,m);e.origin===t.origin&&null!=n?h=n+e.search+e.hash:y=!0}catch(yD){}let v=function(t,n){let{relative:r}=void 0===n?{}:n;Q()||l(!1);let{basename:i,navigator:s}=e.useContext(q),{hash:o,pathname:a,search:c}=tt(t,{relative:r}),u=a;return"/"!==i&&(u="/"===a?i:R([i,a])),s.createHref({pathname:u,search:c,hash:o})}(h,{relative:s}),b=function(t,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=J(),u=X(),h=tt(t,{relative:a});return e.useCallback((e=>{if(function(t,e){return 0===t.button&&(!e||"_self"===e)&&!function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)}(e,r)){e.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(t,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,r,t,o,a,l])}(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:p});return e.createElement("a",bt({},g,{href:r||v,onClick:y||o?i:function(t){i&&i(t),t.defaultPrevented||b(t)},ref:n,target:u}))}));var Ct,It;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ct||(Ct={})),function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"}(It||(It={}));var Pt=n(139),Nt=n.n(Pt);const Mt=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=t?String(t):e||null},Dt=e.createContext(null);function At(){return At=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},At.apply(this,arguments)}function Ot(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}n(740);function Rt(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Lt(t){var e=function(t,e){if("object"!==typeof t||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===typeof e?e:String(e)}function jt(t,n){return Object.keys(n).reduce((function(r,i){var s,o=r,a=o[Rt(i)],l=o[i],c=Ot(o,[Rt(i),i].map(Lt)),u=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),s=(0,e.useState)(n),o=s[0],a=s[1],l=void 0!==t,c=i.current;return i.current=l,!l&&c&&o!==n&&a(n),[l?t:o,(0,e.useCallback)((function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[t].concat(n)),a(t)}),[r])]}(l,a,t[u]),d=h[0],f=h[1];return At({},c,((s={})[i]=d,s[u]=f,s))}),t)}function Ft(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function Vt(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function Ut(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Ft.__suppressDeprecationWarning=!0,Vt.__suppressDeprecationWarning=!0,Ut.__suppressDeprecationWarning=!0;var zt=n(579);const Bt=["xxl","xl","lg","md","sm","xs"],Ht="xs",Wt=e.createContext({prefixes:{},breakpoints:Bt,minBreakpoint:Ht}),{Consumer:qt,Provider:Kt}=Wt;function Gt(t,n){const{prefixes:r}=(0,e.useContext)(Wt);return t||r[n]||n}function Yt(){const{breakpoints:t}=(0,e.useContext)(Wt);return t}function Qt(){const{minBreakpoint:t}=(0,e.useContext)(Wt);return t}const Xt=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:i,...s}=t;n=Gt(n,"navbar-brand");const o=i||(s.href?"a":"span");return(0,zt.jsx)(o,{...s,ref:e,className:Nt()(r,n)})}));Xt.displayName="NavbarBrand";const $t=Xt;function Jt(t){return t&&t.ownerDocument||document}function Zt(t,e){return function(t){var e=Jt(t);return e&&e.defaultView||window}(t).getComputedStyle(t,e)}var te=/([A-Z])/g;var ee=/^ms-/;function ne(t){return function(t){return t.replace(te,"-$1").toLowerCase()}(t).replace(ee,"-ms-")}var re=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ie=function(t,e){var n="",r="";if("string"===typeof e)return t.style.getPropertyValue(ne(e))||Zt(t).getPropertyValue(ne(e));Object.keys(e).forEach((function(i){var s=e[i];s||0===s?!function(t){return!(!t||!re.test(t))}(i)?n+=ne(i)+": "+s+";":r+=i+"("+s+") ":t.style.removeProperty(ne(i))})),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n};function se(t,e){return se=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},se(t,e)}const oe=!1,ae=e.createContext(null);var le="unmounted",ce="exited",ue="entering",he="entered",de="exiting",fe=function(t){var n,r;function s(e,n){var r;r=t.call(this,e,n)||this;var i,s=n&&!n.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?s?(i=ce,r.appearStatus=ue):i=he:i=e.unmountOnExit||e.mountOnEnter?le:ce,r.state={status:i},r.nextCallback=null,r}r=t,(n=s).prototype=Object.create(r.prototype),n.prototype.constructor=n,se(n,r),s.getDerivedStateFromProps=function(t,e){return t.in&&e.status===le?{status:ce}:null};var o=s.prototype;return o.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},o.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==ue&&n!==he&&(e=ue):n!==ue&&n!==he||(e=de)}this.updateStatus(!1,e)},o.componentWillUnmount=function(){this.cancelNextCallback()},o.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},o.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===ue){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this);n&&function(t){t.scrollTop}(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ce&&this.setState({status:le})},o.performEnter=function(t){var e=this,n=this.props.enter,r=this.context?this.context.isMounting:t,s=this.props.nodeRef?[r]:[i.findDOMNode(this),r],o=s[0],a=s[1],l=this.getTimeouts(),c=r?l.appear:l.enter;!t&&!n||oe?this.safeSetState({status:he},(function(){e.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:ue},(function(){e.props.onEntering(o,a),e.onTransitionEnd(c,(function(){e.safeSetState({status:he},(function(){e.props.onEntered(o,a)}))}))})))},o.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:i.findDOMNode(this);e&&!oe?(this.props.onExit(r),this.safeSetState({status:de},(function(){t.props.onExiting(r),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:ce},(function(){t.props.onExited(r)}))}))}))):this.safeSetState({status:ce},(function(){t.props.onExited(r)}))},o.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},o.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},o.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:i.findDOMNode(this),r=null==t&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var s=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=s[0],a=s[1];this.props.addEndListener(o,a)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},o.render=function(){var t=this.state.status;if(t===le)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ot(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(ae.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},s}(e.Component);function pe(){}fe.contextType=ae,fe.propTypes={},fe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pe,onEntering:pe,onEntered:pe,onExit:pe,onExiting:pe,onExited:pe},fe.UNMOUNTED=le,fe.EXITED=ce,fe.ENTERING=ue,fe.ENTERED=he,fe.EXITING=de;const ge=fe,me=!("undefined"===typeof window||!window.document||!window.document.createElement);var ye=!1,ve=!1;try{var be={get passive(){return ye=!0},get once(){return ve=ye=!0}};me&&(window.addEventListener("test",be,be),window.removeEventListener("test",be,!0))}catch(yD){}const we=function(t,e,n,r){if(r&&"boolean"!==typeof r&&!ve){var i=r.once,s=r.capture,o=n;!ve&&i&&(o=n.__once||function t(r){this.removeEventListener(e,t,s),n.call(this,r)},n.__once=o),t.addEventListener(e,o,ye?r:s)}t.addEventListener(e,n,r)};const xe=function(t,e,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)};const _e=function(t,e,n,r){return we(t,e,n,r),function(){xe(t,e,n,r)}};function ke(t,e,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(t,e,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),t){var i=document.createEvent("HTMLEvents");i.initEvent(e,n,r),t.dispatchEvent(i)}}(t,"transitionend",!0)}),e+n),s=_e(t,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function Se(t,e,n,r){null==n&&(n=function(t){var e=ie(t,"transitionDuration")||"",n=-1===e.indexOf("ms")?1e3:1;return parseFloat(e)*n}(t)||0);var i=ke(t,n,r),s=_e(t,"transitionend",e);return function(){i(),s()}}function Ee(t,e){const n=ie(t,e)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Te(t,e){const n=Ee(t,"transitionDuration"),r=Ee(t,"transitionDelay"),i=Se(t,(n=>{n.target===t&&(i(),e(n))}),n+r)}const Ce=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e.filter((t=>null!=t)).reduce(((t,e)=>{if("function"!==typeof e)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.apply(this,r),e.apply(this,r)}}),null)};function Ie(t){t.offsetHeight}const Pe=t=>t&&"function"!==typeof t?e=>{t.current=e}:t;const Ne=function(t,n){return(0,e.useMemo)((()=>function(t,e){const n=Pe(t),r=Pe(e);return t=>{n&&n(t),r&&r(t)}}(t,n)),[t,n])};const Me=e.forwardRef(((t,n)=>{let{onEnter:r,onEntering:s,onEntered:o,onExit:a,onExiting:l,onExited:c,addEndListener:u,children:h,childRef:d,...f}=t;const p=(0,e.useRef)(null),g=Ne(p,d),m=t=>{var e;g((e=t)&&"setState"in e?i.findDOMNode(e):null!=e?e:null)},y=t=>e=>{t&&p.current&&t(p.current,e)},v=(0,e.useCallback)(y(r),[r]),b=(0,e.useCallback)(y(s),[s]),w=(0,e.useCallback)(y(o),[o]),x=(0,e.useCallback)(y(a),[a]),_=(0,e.useCallback)(y(l),[l]),k=(0,e.useCallback)(y(c),[c]),S=(0,e.useCallback)(y(u),[u]);return(0,zt.jsx)(ge,{ref:n,...f,onEnter:v,onEntered:w,onEntering:b,onExit:x,onExited:k,onExiting:_,addEndListener:S,nodeRef:p,children:"function"===typeof h?(t,e)=>h(t,{...e,ref:m}):e.cloneElement(h,{ref:m})})})),De=Me,Ae={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Oe(t,e){const n=e["offset".concat(t[0].toUpperCase()).concat(t.slice(1))],r=Ae[t];return n+parseInt(ie(e,r[0]),10)+parseInt(ie(e,r[1]),10)}const Re={[ce]:"collapse",[de]:"collapsing",[ue]:"collapsing",[he]:"collapse show"},Le=e.forwardRef(((t,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:o,onExiting:a,className:l,children:c,dimension:u="height",in:h=!1,timeout:d=300,mountOnEnter:f=!1,unmountOnExit:p=!1,appear:g=!1,getDimensionValue:m=Oe,...y}=t;const v="function"===typeof u?u():u,b=(0,e.useMemo)((()=>Ce((t=>{t.style[v]="0"}),r)),[v,r]),w=(0,e.useMemo)((()=>Ce((t=>{const e="scroll".concat(v[0].toUpperCase()).concat(v.slice(1));t.style[v]="".concat(t[e],"px")}),i)),[v,i]),x=(0,e.useMemo)((()=>Ce((t=>{t.style[v]=null}),s)),[v,s]),_=(0,e.useMemo)((()=>Ce((t=>{t.style[v]="".concat(m(v,t),"px"),Ie(t)}),o)),[o,m,v]),k=(0,e.useMemo)((()=>Ce((t=>{t.style[v]=null}),a)),[v,a]);return(0,zt.jsx)(De,{ref:n,addEndListener:Te,...y,"aria-expanded":y.role?h:null,onEnter:b,onEntering:w,onEntered:x,onExit:_,onExiting:k,childRef:c.ref,in:h,timeout:d,mountOnEnter:f,unmountOnExit:p,appear:g,children:(t,n)=>e.cloneElement(c,{...n,className:Nt()(l,c.props.className,Re[t],"width"===v&&"collapse-horizontal")})})})),je=e.createContext(null);je.displayName="NavbarContext";const Fe=je,Ve=e.forwardRef(((t,n)=>{let{children:r,bsPrefix:i,...s}=t;i=Gt(i,"navbar-collapse");const o=(0,e.useContext)(Fe);return(0,zt.jsx)(Le,{in:!(!o||!o.expanded),...s,children:(0,zt.jsx)("div",{ref:n,className:i,children:r})})}));Ve.displayName="NavbarCollapse";const Ue=Ve;const ze=function(t){const n=(0,e.useRef)(t);return(0,e.useEffect)((()=>{n.current=t}),[t]),n};function Be(t){const n=ze(t);return(0,e.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const He=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,children:s,label:o="Toggle navigation",as:a="button",onClick:l,...c}=t;r=Gt(r,"navbar-toggler");const{onToggle:u,expanded:h}=(0,e.useContext)(Fe)||{},d=Be((t=>{l&&l(t),u&&u()}));return"button"===a&&(c.type="button"),(0,zt.jsx)(a,{...c,ref:n,onClick:d,"aria-label":o,className:Nt()(i,r,!h&&"collapsed"),children:s||(0,zt.jsx)("span",{className:"".concat(r,"-icon")})})}));He.displayName="NavbarToggle";const We=He,qe="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,Ke="undefined"!==typeof document||qe?e.useLayoutEffect:e.useEffect,Ge=new WeakMap,Ye=(t,e)=>{if(!t||!e)return;const n=Ge.get(e)||new Map;Ge.set(e,n);let r=n.get(t);return r||(r=e.matchMedia(t),r.refCount=0,n.set(r.media,r)),r};function Qe(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=Ye(t,n),[i,s]=(0,e.useState)((()=>!!r&&r.matches));return Ke((()=>{let e=Ye(t,n);if(!e)return s(!1);let r=Ge.get(n);const i=()=>{s(e.matches)};return e.refCount++,e.addListener(i),i(),()=>{e.removeListener(i),e.refCount--,e.refCount<=0&&(null==r||r.delete(e.media)),e=void 0}}),[t]),i}const Xe=function(t){const n=Object.keys(t);function r(t,e){return t===e?e:t?"".concat(t," and ").concat(e):e}function i(e){const r=function(t){return n[Math.min(n.indexOf(t)+1,n.length-1)]}(e);let i=t[r];return i="number"===typeof i?"".concat(i-.2,"px"):"calc(".concat(i," - 0.2px)"),"(max-width: ".concat(i,")")}return function(n,s,o){let a;"object"===typeof n?(a=n,o=s,s=!0):(s=s||!0,a={[n]:s});let l=(0,e.useMemo)((()=>Object.entries(a).reduce(((e,n)=>{let[s,o]=n;return"up"!==o&&!0!==o||(e=r(e,function(e){let n=t[e];return"number"===typeof n&&(n="".concat(n,"px")),"(min-width: ".concat(n,")")}(s))),"down"!==o&&!0!==o||(e=r(e,i(s))),e}),"")),[JSON.stringify(a)]);return Qe(l,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),$e=Xe;function Je(t){void 0===t&&(t=Jt());try{var e=t.activeElement;return e&&e.nodeName?e:null}catch(yD){return t.body}}function Ze(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}function tn(t){const n=function(t){const n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((()=>()=>n.current()),[])}const en="data-rr-ui-";function nn(t){return"".concat(en).concat(t)}const rn=nn("modal-open");const sn=class{constructor(){let{ownerDocument:t,handleContainerOverflow:e=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=e,this.isRTL=n,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const e={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();t.style={overflow:r.style.overflow,[n]:r.style[n]},t.scrollBarWidth&&(e[n]="".concat(parseInt(ie(r,n)||"0",10)+t.scrollBarWidth,"px")),r.setAttribute(rn,""),ie(r,e)}reset(){[...this.modals].forEach((t=>this.remove(t)))}removeContainerStyle(t){const e=this.getElement();e.removeAttribute(rn),Object.assign(e.style,t.style)}add(t){let e=this.modals.indexOf(t);return-1!==e?e:(e=this.modals.length,this.modals.push(t),this.setModalAttributes(t),0!==e||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),e)}remove(t){const e=this.modals.indexOf(t);-1!==e&&(this.modals.splice(e,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}},on=(0,e.createContext)(me?window:void 0);on.Provider;function an(){return(0,e.useContext)(on)}const ln=(t,e)=>me?null==t?(e||Jt()).body:("function"===typeof t&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;const cn=function(t){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:o}=t;const a=(0,e.useRef)(null),l=(0,e.useRef)(r),c=Be(i);(0,e.useEffect)((()=>{r?l.current=!0:c(a.current)}),[r,c]);const u=Ne(a,n.ref),h=(0,e.cloneElement)(n,{ref:u});return r?h:o||!l.current&&s?null:h};const un=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function hn(t){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:o,onExited:a,addEndListener:l,children:c}=t,u=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,un);const{major:h}=function(){const t=e.version.split(".");return{major:+t[0],minor:+t[1],patch:+t[2]}}(),d=h>=19?c.props.ref:c.ref,f=(0,e.useRef)(null),p=Ne(f,"function"===typeof c?null:d),g=t=>e=>{t&&f.current&&t(f.current,e)},m=(0,e.useCallback)(g(n),[n]),y=(0,e.useCallback)(g(r),[r]),v=(0,e.useCallback)(g(i),[i]),b=(0,e.useCallback)(g(s),[s]),w=(0,e.useCallback)(g(o),[o]),x=(0,e.useCallback)(g(a),[a]),_=(0,e.useCallback)(g(l),[l]);return Object.assign({},u,{nodeRef:f},n&&{onEnter:m},r&&{onEntering:y},i&&{onEntered:v},s&&{onExit:b},o&&{onExiting:w},a&&{onExited:x},l&&{addEndListener:_},{children:"function"===typeof c?(t,e)=>c(t,Object.assign({},e,{ref:p})):(0,e.cloneElement)(c,{ref:p})})}const dn=["component"];const fn=e.forwardRef(((t,e)=>{let{component:n}=t;const r=hn(function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,dn));return(0,zt.jsx)(n,Object.assign({ref:e},r))})),pn=fn;function gn(t){let{children:n,in:r,onExited:i,onEntered:s,transition:o}=t;const[a,l]=(0,e.useState)(!r);r&&a&&l(!1);const c=function(t){let{in:n,onTransition:r}=t;const i=(0,e.useRef)(null),s=(0,e.useRef)(!0),o=Be(r);return Ke((()=>{if(!i.current)return;let t=!1;return o({in:n,element:i.current,initial:s.current,isStale:()=>t}),()=>{t=!0}}),[n,o]),Ke((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:t=>{Promise.resolve(o(t)).then((()=>{t.isStale()||(t.in?null==s||s(t.element,t.initial):(l(!0),null==i||i(t.element)))}),(e=>{throw t.in||l(!0),e}))}}),u=Ne(c,n.ref);return a&&!r?null:(0,e.cloneElement)(n,{ref:u})}function mn(t,e,n){return t?(0,zt.jsx)(pn,Object.assign({},n,{component:t})):e?(0,zt.jsx)(gn,Object.assign({},n,{transition:e})):(0,zt.jsx)(cn,Object.assign({},n))}const yn=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let vn;function bn(t){const n=an(),r=t||function(t){return vn||(vn=new sn({ownerDocument:null==t?void 0:t.document})),vn}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,e.useCallback)((t=>{i.current.dialog=t}),[]),setBackdropRef:(0,e.useCallback)((t=>{i.current.backdrop=t}),[])})}const wn=(0,e.forwardRef)(((t,n)=>{let{show:r=!1,role:s="dialog",className:o,style:a,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:g,runBackdropTransition:m,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:b=!0,restoreFocusOptions:w,renderDialog:x,renderBackdrop:_=(t=>(0,zt.jsx)("div",Object.assign({},t))),manager:k,container:S,onShow:E,onHide:T=(()=>{}),onExit:C,onExited:I,onExiting:P,onEnter:N,onEntering:M,onEntered:D}=t,A=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,yn);const O=an(),R=function(t,n){const r=an(),[i,s]=(0,e.useState)((()=>ln(t,null==r?void 0:r.document)));if(!i){const e=ln(t);e&&s(e)}return(0,e.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,e.useEffect)((()=>{const e=ln(t);e!==i&&s(e)}),[t,i]),i}(S),L=bn(k),j=function(){const t=(0,e.useRef)(!0),n=(0,e.useRef)((()=>t.current));return(0,e.useEffect)((()=>(t.current=!0,()=>{t.current=!1})),[]),n.current}(),F=function(t){const n=(0,e.useRef)(null);return(0,e.useEffect)((()=>{n.current=t})),n.current}(r),[V,U]=(0,e.useState)(!r),z=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,(()=>L),[L]),me&&!F&&r&&(z.current=Je(null==O?void 0:O.document)),r&&V&&U(!1);const B=Be((()=>{if(L.add(),Y.current=_e(document,"keydown",K),G.current=_e(document,"focus",(()=>setTimeout(W)),!0),E&&E(),y){var t,e;const n=Je(null!=(t=null==(e=L.dialog)?void 0:e.ownerDocument)?t:null==O?void 0:O.document);L.dialog&&n&&!Ze(L.dialog,n)&&(z.current=n,L.dialog.focus())}})),H=Be((()=>{var t;(L.remove(),null==Y.current||Y.current(),null==G.current||G.current(),b)&&(null==(t=z.current)||null==t.focus||t.focus(w),z.current=null)}));(0,e.useEffect)((()=>{r&&R&&B()}),[r,R,B]),(0,e.useEffect)((()=>{V&&H()}),[V,H]),tn((()=>{H()}));const W=Be((()=>{if(!v||!j()||!L.isTopModal())return;const t=Je(null==O?void 0:O.document);L.dialog&&t&&!Ze(L.dialog,t)&&L.dialog.focus()})),q=Be((t=>{t.target===t.currentTarget&&(null==h||h(t),!0===c&&T())})),K=Be((t=>{u&&function(t){return"Escape"===t.code||27===t.keyCode}(t)&&L.isTopModal()&&(null==d||d(t),t.defaultPrevented||T())})),G=(0,e.useRef)(),Y=(0,e.useRef)();if(!R)return null;const Q=Object.assign({role:s,ref:L.setDialogRef,"aria-modal":"dialog"===s||void 0},A,{style:a,className:o,tabIndex:-1});let X=x?x(Q):(0,zt.jsx)("div",Object.assign({},Q,{children:e.cloneElement(l,{role:"document"})}));X=mn(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:C,onExiting:P,onExited:function(){U(!0),null==I||I(...arguments)},onEnter:N,onEntering:M,onEntered:D,children:X});let $=null;return c&&($=_({ref:L.setBackdropRef,onClick:q}),$=mn(g,m,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:$})),(0,zt.jsx)(zt.Fragment,{children:i.createPortal((0,zt.jsxs)(zt.Fragment,{children:[$,X]}),R)})}));wn.displayName="Modal";const xn=Object.assign(wn,{Manager:sn}),_n={[ue]:"show",[he]:"show"},kn=e.forwardRef(((t,n)=>{let{className:r,children:i,transitionClasses:s={},onEnter:o,...a}=t;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=(0,e.useCallback)(((t,e)=>{Ie(t),null==o||o(t,e)}),[o]);return(0,zt.jsx)(De,{ref:n,addEndListener:Te,...l,onEnter:c,childRef:i.ref,children:(t,n)=>e.cloneElement(i,{...n,className:Nt()("fade",r,i.props.className,_n[t],s[t])})})}));kn.displayName="Fade";const Sn=kn,En=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"offcanvas-body"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));En.displayName="OffcanvasBody";const Tn=En,Cn={[ue]:"show",[he]:"show"},In=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,children:s,in:o=!1,mountOnEnter:a=!1,unmountOnExit:l=!1,appear:c=!1,...u}=t;return r=Gt(r,"offcanvas"),(0,zt.jsx)(De,{ref:n,addEndListener:Te,in:o,mountOnEnter:a,unmountOnExit:l,appear:c,...u,childRef:s.ref,children:(t,n)=>e.cloneElement(s,{...n,className:Nt()(i,s.props.className,(t===ue||t===de)&&"".concat(r,"-toggling"),Cn[t])})})}));In.displayName="OffcanvasToggling";const Pn=In,Nn=e.createContext({onHide(){}});var Mn=n(173),Dn=n.n(Mn);const An={"aria-label":Dn().string,onClick:Dn().func,variant:Dn().oneOf(["white"])},On=e.forwardRef(((t,e)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=t;return(0,zt.jsx)("button",{ref:e,type:"button",className:Nt()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...s})}));On.displayName="CloseButton",On.propTypes=An;const Rn=On,Ln=e.forwardRef(((t,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:o,children:a,...l}=t;const c=(0,e.useContext)(Nn),u=Be((()=>{null==c||c.onHide(),null==o||o()}));return(0,zt.jsxs)("div",{ref:n,...l,children:[a,s&&(0,zt.jsx)(Rn,{"aria-label":r,variant:i,onClick:u})]})})),jn=Ln,Fn=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...o}=t;return n=Gt(n,"offcanvas-header"),(0,zt.jsx)(jn,{ref:e,...o,className:Nt()(r,n),closeLabel:i,closeButton:s})}));Fn.displayName="OffcanvasHeader";const Vn=Fn,Un=t=>e.forwardRef(((e,n)=>(0,zt.jsx)("div",{...e,ref:n,className:Nt()(e.className,t)}))),zn=Un("h5"),Bn=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=zn,...s}=t;return r=Gt(r,"offcanvas-title"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Bn.displayName="OffcanvasTitle";const Hn=Bn;var Wn=Function.prototype.bind.call(Function.prototype.call,[].slice);function qn(t,e){return Wn(t.querySelectorAll(e))}function Kn(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const Gn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Yn=".sticky-top",Qn=".navbar-toggler";class Xn extends sn{adjustAndStore(t,e,n){const r=e.style[t];e.dataset[t]=r,ie(e,{[t]:"".concat(parseFloat(ie(e,t))+n,"px")})}restore(t,e){const n=e.dataset[t];void 0!==n&&(delete e.dataset[t],ie(e,{[t]:n}))}setContainerStyle(t){super.setContainerStyle(t);const e=this.getElement();var n,r;if(r="modal-open",(n=e).classList?n.classList.add(r):function(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!t.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";qn(e,Gn).forEach((e=>this.adjustAndStore(i,e,t.scrollBarWidth))),qn(e,Yn).forEach((e=>this.adjustAndStore(s,e,-t.scrollBarWidth))),qn(e,Qn).forEach((e=>this.adjustAndStore(s,e,t.scrollBarWidth)))}removeContainerStyle(t){super.removeContainerStyle(t);const e=this.getElement();var n,r;r="modal-open",(n=e).classList?n.classList.remove(r):"string"===typeof n.className?n.className=Kn(n.className,r):n.setAttribute("class",Kn(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";qn(e,Gn).forEach((t=>this.restore(i,t))),qn(e,Yn).forEach((t=>this.restore(s,t))),qn(e,Qn).forEach((t=>this.restore(s,t)))}}let $n;function Jn(t){return $n||($n=new Xn(t)),$n}const Zn=Xn;function tr(t){return(0,zt.jsx)(Pn,{...t})}function er(t){return(0,zt.jsx)(Sn,{...t})}const nr=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,children:s,"aria-labelledby":o,placement:a="start",responsive:l,show:c=!1,backdrop:u=!0,keyboard:h=!0,scroll:d=!1,onEscapeKeyDown:f,onShow:p,onHide:g,container:m,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:b=!0,restoreFocusOptions:w,onEntered:x,onExit:_,onExiting:k,onEnter:S,onEntering:E,onExited:T,backdropClassName:C,manager:I,renderStaticNode:P=!1,...N}=t;const M=(0,e.useRef)();r=Gt(r,"offcanvas");const{onToggle:D}=(0,e.useContext)(Fe)||{},[A,O]=(0,e.useState)(!1),R=$e(l||"xs","up");(0,e.useEffect)((()=>{O(l?c&&!R:c)}),[c,l,R]);const L=Be((()=>{null==D||D(),null==g||g()})),j=(0,e.useMemo)((()=>({onHide:L})),[L]);const F=(0,e.useCallback)((t=>(0,zt.jsx)("div",{...t,className:Nt()("".concat(r,"-backdrop"),C)})),[C,r]),V=t=>(0,zt.jsx)("div",{...t,...N,className:Nt()(i,l?"".concat(r,"-").concat(l):r,"".concat(r,"-").concat(a)),"aria-labelledby":o,children:s});return(0,zt.jsxs)(zt.Fragment,{children:[!A&&(l||P)&&V({}),(0,zt.jsx)(Nn.Provider,{value:j,children:(0,zt.jsx)(xn,{show:A,ref:n,backdrop:u,container:m,keyboard:h,autoFocus:y,enforceFocus:v&&!d,restoreFocus:b,restoreFocusOptions:w,onEscapeKeyDown:f,onShow:p,onHide:L,onEnter:function(t){t&&(t.style.visibility="visible");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];null==S||S(t,...n)},onEntering:E,onEntered:x,onExit:_,onExiting:k,onExited:function(t){t&&(t.style.visibility="");for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];null==T||T(...n)},manager:I||(d?(M.current||(M.current=new Zn({handleContainerOverflow:!1})),M.current):Jn()),transition:tr,backdropTransition:er,renderBackdrop:F,renderDialog:V})})]})}));nr.displayName="Offcanvas";const rr=Object.assign(nr,{Body:Tn,Header:Vn,Title:Hn}),ir=e.forwardRef(((t,n)=>{const r=(0,e.useContext)(Fe);return(0,zt.jsx)(rr,{ref:n,show:!(null==r||!r.expanded),...t,renderStaticNode:!0})}));ir.displayName="NavbarOffcanvas";const sr=ir,or=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="span",...s}=t;return r=Gt(r,"navbar-text"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));or.displayName="NavbarText";const ar=or,lr=e.forwardRef(((t,n)=>{const{bsPrefix:r,expand:i=!0,variant:s="light",bg:o,fixed:a,sticky:l,className:c,as:u="nav",expanded:h,onToggle:d,onSelect:f,collapseOnSelect:p=!1,...g}=jt(t,{expanded:"onToggle"}),m=Gt(r,"navbar"),y=(0,e.useCallback)((function(){null==f||f(...arguments),p&&h&&(null==d||d(!1))}),[f,p,h,d]);void 0===g.role&&"nav"!==u&&(g.role="navigation");let v="".concat(m,"-expand");"string"===typeof i&&(v="".concat(v,"-").concat(i));const b=(0,e.useMemo)((()=>({onToggle:()=>null==d?void 0:d(!h),bsPrefix:m,expanded:!!h,expand:i})),[m,h,i,d]);return(0,zt.jsx)(Fe.Provider,{value:b,children:(0,zt.jsx)(Dt.Provider,{value:y,children:(0,zt.jsx)(u,{ref:n,...g,className:Nt()(c,m,i&&v,s&&"".concat(m,"-").concat(s),o&&"bg-".concat(o),l&&"sticky-".concat(l),a&&"fixed-".concat(a))})})})}));lr.displayName="Navbar";const cr=Object.assign(lr,{Brand:$t,Collapse:Ue,Offcanvas:sr,Text:ar,Toggle:We});n(197);const ur=e.createContext(null);ur.displayName="NavContext";const hr=ur,dr=e.createContext(null),fr=["as","disabled"];function pr(t){let{tagName:e,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=t;e||(e=null!=r||null!=i||null!=s?"a":"button");const u={tagName:e};if("button"===e)return[{type:c||"button",disabled:n},u];const h=t=>{(n||"a"===e&&function(t){return!t||"#"===t.trim()}(r))&&t.preventDefault(),n?t.stopPropagation():null==a||a(t)};return"a"===e&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===e?i:void 0,"aria-disabled":n||void 0,rel:"a"===e?s:void 0,onClick:h,onKeyDown:t=>{" "===t.key&&(t.preventDefault(),h(t))}},u]}const gr=e.forwardRef(((t,e)=>{let{as:n,disabled:r}=t,i=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,fr);const[s,{tagName:o}]=pr(Object.assign({tagName:n,disabled:r},i));return(0,zt.jsx)(o,Object.assign({},i,s,{ref:e}))}));gr.displayName="Button";const mr=gr,yr=["as","active","eventKey"];function vr(t){let{key:n,onClick:r,active:i,id:s,role:o,disabled:a}=t;const l=(0,e.useContext)(Dt),c=(0,e.useContext)(hr),u=(0,e.useContext)(dr);let h=i;const d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");const t=c.getControllerId(null!=n?n:null),e=c.getControlledId(null!=n?n:null);d[nn("event-key")]=n,d.id=t||s,h=null==i&&null!=n?c.activeKey===n:i,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=e)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),a&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Be((t=>{a||(null==r||r(t),null!=n&&l&&!t.isPropagationStopped()&&l(n,t))})),[d,{isActive:h}]}const br=e.forwardRef(((t,e)=>{let{as:n=mr,active:r,eventKey:i}=t,s=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,yr);const[o,a]=vr(Object.assign({key:Mt(i,s.href),active:r},s));return o[nn("active")]=a.isActive,(0,zt.jsx)(n,Object.assign({},s,o,{ref:e}))}));br.displayName="NavItem";const wr=br,xr=["as","onSelect","activeKey","role","onKeyDown"];const _r=()=>{},kr=nn("event-key"),Sr=e.forwardRef(((t,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:o,onKeyDown:a}=t,l=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,xr);const c=function(){const[,t]=(0,e.useReducer)((t=>!t),!1);return t}(),u=(0,e.useRef)(!1),h=(0,e.useContext)(Dt),d=(0,e.useContext)(dr);let f,p;d&&(o=o||"tablist",s=d.activeKey,f=d.getControlledId,p=d.getControllerId);const g=(0,e.useRef)(null),m=t=>{const e=g.current;if(!e)return null;const n=qn(e,"[".concat(kr,"]:not([aria-disabled=true])")),r=e.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+t;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},y=(t,e)=>{null!=t&&(null==i||i(t,e),null==h||h(t,e))};(0,e.useEffect)((()=>{if(g.current&&u.current){const t=g.current.querySelector("[".concat(kr,"][aria-selected=true]"));null==t||t.focus()}u.current=!1}));const v=Ne(n,g);return(0,zt.jsx)(Dt.Provider,{value:y,children:(0,zt.jsx)(hr.Provider,{value:{role:o,activeKey:Mt(s),getControlledId:f||_r,getControllerId:p||_r},children:(0,zt.jsx)(r,Object.assign({},l,{onKeyDown:t=>{if(null==a||a(t),!d)return;let e;switch(t.key){case"ArrowLeft":case"ArrowUp":e=m(-1);break;case"ArrowRight":case"ArrowDown":e=m(1);break;default:return}var n;e&&(t.preventDefault(),y(e.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,t),u.current=!0,c())},ref:v,role:o}))})})}));Sr.displayName="Nav";const Er=Object.assign(Sr,{Item:wr}),Tr=e.createContext(null);Tr.displayName="CardHeaderContext";const Cr=Tr,Ir=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"nav-item"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Ir.displayName="NavItem";const Pr=Ir;new WeakMap;const Nr=["onKeyDown"];const Mr=e.forwardRef(((t,e)=>{let{onKeyDown:n}=t,r=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,Nr);const[i]=pr(Object.assign({tagName:"a"},r)),s=Be((t=>{i.onKeyDown(t),null==n||n(t)}));return(o=r.href)&&"#"!==o.trim()&&"button"!==r.role?(0,zt.jsx)("a",Object.assign({ref:e},r,{onKeyDown:n})):(0,zt.jsx)("a",Object.assign({ref:e},r,i,{onKeyDown:s}));var o}));Mr.displayName="Anchor";const Dr=Mr,Ar=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:i=Dr,active:s,eventKey:o,disabled:a=!1,...l}=t;n=Gt(n,"nav-link");const[c,u]=vr({key:Mt(o,l.href),active:s,disabled:a,...l});return(0,zt.jsx)(i,{...l,...c,ref:e,disabled:a,className:Nt()(r,n,a&&"disabled",u.isActive&&"active")})}));Ar.displayName="NavLink";const Or=Ar,Rr=e.forwardRef(((t,n)=>{const{as:r="div",bsPrefix:i,variant:s,fill:o=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:h,...d}=jt(t,{activeKey:"onSelect"}),f=Gt(i,"nav");let p,g,m=!1;const y=(0,e.useContext)(Fe),v=(0,e.useContext)(Cr);return y?(p=y.bsPrefix,m=null==l||l):v&&({cardHeaderBsPrefix:g}=v),(0,zt.jsx)(Er,{as:r,ref:n,activeKey:h,className:Nt()(u,{[f]:!m,["".concat(p,"-nav")]:m,["".concat(p,"-nav-scroll")]:m&&c,["".concat(g,"-").concat(s)]:!!g,["".concat(f,"-").concat(s)]:!!s,["".concat(f,"-fill")]:o,["".concat(f,"-justified")]:a}),...d})}));Rr.displayName="Nav";const Lr=Object.assign(Rr,{Item:Pr,Link:Or}),jr=e.forwardRef(((t,e)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:o=!1,disabled:a=!1,className:l,...c}=t;const u=Gt(r,"btn"),[h,{tagName:d}]=pr({tagName:n,disabled:a,...c}),f=d;return(0,zt.jsx)(f,{...h,...c,ref:e,disabled:a,className:Nt()(l,u,o&&"active",i&&"".concat(u,"-").concat(i),s&&"".concat(u,"-").concat(s),c.href&&a&&"disabled")})}));jr.displayName="Button";const Fr=jr,Vr=e.forwardRef(((t,e)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s,...o}=t;const a=Gt(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,zt.jsx)(i,{ref:e,...o,className:Nt()(s,r?"".concat(a).concat(l):a)})}));Vr.displayName="Container";const Ur=Vr,zr=Un("h4");zr.displayName="DivStyledAsH4";const Br=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=zr,...s}=t;return r=Gt(r,"alert-heading"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Br.displayName="AlertHeading";const Hr=Br,Wr=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=Dr,...s}=t;return r=Gt(r,"alert-link"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Wr.displayName="AlertLink";const qr=Wr,Kr=e.forwardRef(((t,e)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:u,transition:h=Sn,...d}=jt(t,{show:"onClose"}),f=Gt(n,"alert"),p=Be((t=>{c&&c(!1,t)})),g=!0===h?Sn:h,m=(0,zt.jsxs)("div",{role:"alert",...g?void 0:d,ref:e,className:Nt()(o,f,l&&"".concat(f,"-").concat(l),u&&"".concat(f,"-dismissible")),children:[u&&(0,zt.jsx)(Rn,{onClick:p,"aria-label":i,variant:s}),a]});return g?(0,zt.jsx)(g,{unmountOnExit:!0,...d,ref:void 0,in:r,children:m}):r?m:null}));Kr.displayName="Alert";const Gr=Object.assign(Kr,{Link:qr,Heading:Hr}),Yr={type:Dn().string,tooltip:Dn().bool,as:Dn().elementType},Qr=e.forwardRef(((t,e)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...o}=t;return(0,zt.jsx)(n,{...o,ref:e,className:Nt()(r,"".concat(i,"-").concat(s?"tooltip":"feedback"))})}));Qr.displayName="Feedback",Qr.propTypes=Yr;const Xr=Qr,$r=e.createContext({}),Jr=e.forwardRef(((t,n)=>{let{id:r,bsPrefix:i,className:s,type:o="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=t;const{controlId:h}=(0,e.useContext)($r);return i=Gt(i,"form-check-input"),(0,zt.jsx)(c,{...u,ref:n,type:o,id:r||h,className:Nt()(s,i,a&&"is-valid",l&&"is-invalid")})}));Jr.displayName="FormCheckInput";const Zr=Jr,ti=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,htmlFor:s,...o}=t;const{controlId:a}=(0,e.useContext)($r);return r=Gt(r,"form-check-label"),(0,zt.jsx)("label",{...o,ref:n,htmlFor:s||a,className:Nt()(i,r)})}));ti.displayName="FormCheckLabel";const ei=ti;const ni=e.forwardRef(((t,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:s,inline:o=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:f,className:p,style:g,title:m="",type:y="checkbox",label:v,children:b,as:w="input",...x}=t;i=Gt(i,"form-check"),s=Gt(s,"form-switch");const{controlId:_}=(0,e.useContext)($r),k=(0,e.useMemo)((()=>({controlId:r||_})),[_,r]),S=!b&&null!=v&&!1!==v||function(t,n){return e.Children.toArray(t).some((t=>e.isValidElement(t)&&t.type===n))}(b,ei),E=(0,zt.jsx)(Zr,{...x,type:"switch"===y?"checkbox":y,ref:n,isValid:c,isInvalid:u,disabled:l,as:w});return(0,zt.jsx)($r.Provider,{value:k,children:(0,zt.jsx)("div",{style:g,className:Nt()(p,S&&i,o&&"".concat(i,"-inline"),a&&"".concat(i,"-reverse"),"switch"===y&&s),children:b||(0,zt.jsxs)(zt.Fragment,{children:[E,S&&(0,zt.jsx)(ei,{title:m,children:v}),d&&(0,zt.jsx)(Xr,{type:f,tooltip:h,children:d})]})})})}));ni.displayName="FormCheck";const ri=Object.assign(ni,{Input:Zr,Label:ei});n(440);const ii=e.forwardRef(((t,n)=>{let{bsPrefix:r,type:i,size:s,htmlSize:o,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:h,readOnly:d,as:f="input",...p}=t;const{controlId:g}=(0,e.useContext)($r);return r=Gt(r,"form-control"),(0,zt.jsx)(f,{...p,type:i,size:o,ref:n,readOnly:d,id:a||g,className:Nt()(l,h?"".concat(r,"-plaintext"):r,s&&"".concat(r,"-").concat(s),"color"===i&&"".concat(r,"-color"),c&&"is-valid",u&&"is-invalid")})}));ii.displayName="FormControl";const si=Object.assign(ii,{Feedback:Xr}),oi=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"form-floating"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));oi.displayName="FormFloating";const ai=oi,li=e.forwardRef(((t,n)=>{let{controlId:r,as:i="div",...s}=t;const o=(0,e.useMemo)((()=>({controlId:r})),[r]);return(0,zt.jsx)($r.Provider,{value:o,children:(0,zt.jsx)(i,{...s,ref:n})})}));li.displayName="FormGroup";const ci=li;const ui=e.forwardRef(((t,e)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=function(t){let{as:e,bsPrefix:n,className:r,...i}=t;n=Gt(n,"col");const s=Yt(),o=Qt(),a=[],l=[];return s.forEach((t=>{const e=i[t];let r,s,c;delete i[t],"object"===typeof e&&null!=e?({span:r,offset:s,order:c}=e):r=e;const u=t!==o?"-".concat(t):"";r&&a.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=s&&l.push("offset".concat(u,"-").concat(s))})),[{...i,className:Nt()(r,...a,...l)},{as:e,bsPrefix:n,spans:a}]}(t);return(0,zt.jsx)(i,{...r,ref:e,className:Nt()(n,!o.length&&s)})}));ui.displayName="Col";const hi=ui,di=e.forwardRef(((t,n)=>{let{as:r="label",bsPrefix:i,column:s=!1,visuallyHidden:o=!1,className:a,htmlFor:l,...c}=t;const{controlId:u}=(0,e.useContext)($r);i=Gt(i,"form-label");let h="col-form-label";"string"===typeof s&&(h="".concat(h," ").concat(h,"-").concat(s));const d=Nt()(a,i,o&&"visually-hidden",s&&h);return l=l||u,s?(0,zt.jsx)(hi,{ref:n,as:"label",className:d,htmlFor:l,...c}):(0,zt.jsx)(r,{ref:n,className:d,htmlFor:l,...c})}));di.displayName="FormLabel";const fi=di,pi=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,id:s,...o}=t;const{controlId:a}=(0,e.useContext)($r);return r=Gt(r,"form-range"),(0,zt.jsx)("input",{...o,type:"range",ref:n,className:Nt()(i,r),id:s||a})}));pi.displayName="FormRange";const gi=pi,mi=e.forwardRef(((t,n)=>{let{bsPrefix:r,size:i,htmlSize:s,className:o,isValid:a=!1,isInvalid:l=!1,id:c,...u}=t;const{controlId:h}=(0,e.useContext)($r);return r=Gt(r,"form-select"),(0,zt.jsx)("select",{...u,size:s,ref:n,className:Nt()(o,r,i&&"".concat(r,"-").concat(i),a&&"is-valid",l&&"is-invalid"),id:c||h})}));mi.displayName="FormSelect";const yi=mi,vi=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...o}=t;return n=Gt(n,"form-text"),(0,zt.jsx)(i,{...o,ref:e,className:Nt()(r,n,s&&"text-muted")})}));vi.displayName="FormText";const bi=vi,wi=e.forwardRef(((t,e)=>(0,zt.jsx)(ri,{...t,ref:e,type:"switch"})));wi.displayName="Switch";const xi=Object.assign(wi,{Input:ri.Input,Label:ri.Label}),_i=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:o,...a}=t;return n=Gt(n,"form-floating"),(0,zt.jsxs)(ci,{ref:e,className:Nt()(r,n),controlId:s,...a,children:[i,(0,zt.jsx)("label",{htmlFor:s,children:o})]})}));_i.displayName="FloatingLabel";const ki=_i,Si={_ref:Dn().any,validated:Dn().bool,as:Dn().elementType},Ei=e.forwardRef(((t,e)=>{let{className:n,validated:r,as:i="form",...s}=t;return(0,zt.jsx)(i,{...s,ref:e,className:Nt()(n,r&&"was-validated")})}));Ei.displayName="Form",Ei.propTypes=Si;const Ti=Object.assign(Ei,{Group:ci,Control:si,Floating:ai,Check:ri,Switch:xi,Label:fi,Text:bi,Range:gi,Select:yi,FloatingLabel:ki}),Ci=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ii={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,l=a?t[i+2]:0,c=e>>2,u=(3&e)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ci(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw new Pi;const l=e<<2|s>>4;if(r.push(l),64!==o){const t=s<<4&240|o>>2;if(r.push(t),64!==a){const t=o<<6&192|a;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ni=function(t){return function(t){const e=Ci(t);return Ii.encodeByteArray(e,!0)}(t).replace(/\./g,"")},Mi=function(t){try{return Ii.decodeString(t,!0)}catch(yD){console.error("base64Decode failed: ",yD)}return null};const Di=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ai=()=>{try{return Di()||(()=>{if("undefined"===typeof process)return;const t={NODE_ENV:"production",PUBLIC_URL:"/workout-tracker",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAFsCOOnPOa7FfYZn_ohQFFfHKZkPhIv5Q",REACT_APP_FIREBASE_APP_ID:"1:356026845204:web:7a94d2907d821d1224bf01",REACT_APP_FIREBASE_AUTH_DOMAIN:"workout-tracker-9d1ec.firebaseapp.com",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-HHJ3X5BDJY",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"356026845204",REACT_APP_FIREBASE_PROJECT_ID:"workout-tracker-9d1ec",REACT_APP_FIREBASE_STORAGE_BUCKET:"workout-tracker-9d1ec.appspot.com"}.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"===typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(yD){return}const e=t&&Mi(t[1]);return e&&JSON.parse(e)})()}catch(yD){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(yD))}},Oi=t=>{var e,n;return null===(n=null===(e=Ai())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},Ri=()=>{var t;return null===(t=Ai())||void 0===t?void 0:t.config},Li=t=>{var e;return null===(e=Ai())||void 0===e?void 0:e["_".concat(t)]};class ji{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"===typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}function Fi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Vi(){const t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function Ui(){return!function(){var t;const e=null===(t=Ai())||void 0===t?void 0:t.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(yD){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zi(){try{return"object"===typeof indexedDB}catch(yD){return!1}}function Bi(){return new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}}))}class Hi extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wi.prototype.create)}}class Wi{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t){const e=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(t),r=this.errors[t],i=r?function(t,e){return t.replace(qi,((t,n)=>{const r=e[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,e):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Hi(n,s,e)}}const qi=/\{\$([^}]+)}/g;function Ki(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(Gi(n)&&Gi(s)){if(!Ki(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Gi(t){return null!==t&&"object"===typeof t}function Yi(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Qi(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function Xi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class $i{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!==typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"===typeof t[n])return!0;return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=Ji),void 0===r.error&&(r.error=Ji),void 0===r.complete&&(r.complete=Ji);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(yD){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(yD){"undefined"!==typeof console&&console.error&&console.error(yD)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ji(){}const Zi=1e3,ts=2,es=144e5,ns=.5;function rs(t){let e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ts;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Zi)*Math.pow(e,t),r=Math.round(ns*n*(Math.random()-.5)*2);return Math.min(es,n+r)}function is(t){return t&&t._delegate?t._delegate:t}class ss{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const os="[DEFAULT]";class as{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new ji;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(yD){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yD){if(r)return null;throw yD}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error("Mismatching Component ".concat(t.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:os})}catch(yD){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(yD){}}}}clearInstance(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.instances.has(t)}getOptions(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.instancesOptions.get(t)||{}}initialize(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&t(s,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const i of n)try{i(t,e)}catch(r){}}getOrInitializeService(t){let{instanceIdentifier:e,options:n={}}=t,r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=e,i===os?void 0:i),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:os;return this.component?this.component.multipleInstances?t:os:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ls{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component ".concat(t.name," has already been registered with ").concat(this.name));e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new as(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const cs=[];var us;!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(us||(us={}));const hs={debug:us.DEBUG,verbose:us.VERBOSE,info:us.INFO,warn:us.WARN,error:us.ERROR,silent:us.SILENT},ds=us.INFO,fs={[us.DEBUG]:"log",[us.VERBOSE]:"log",[us.INFO]:"info",[us.WARN]:"warn",[us.ERROR]:"error"},ps=function(t,e){if(e<t.logLevel)return;const n=(new Date).toISOString(),r=fs[e];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(e,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(t.name,":"),...s)};class gs{constructor(t){this.name=t,this._logLevel=ds,this._logHandler=ps,this._userLogHandler=null,cs.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in us))throw new TypeError('Invalid value "'.concat(t,'" assigned to `logLevel`'));this._logLevel=t}setLogLevel(t){this._logLevel="string"===typeof t?hs[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,us.DEBUG,...e),this._logHandler(this,us.DEBUG,...e)}log(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,us.VERBOSE,...e),this._logHandler(this,us.VERBOSE,...e)}info(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,us.INFO,...e),this._logHandler(this,us.INFO,...e)}warn(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,us.WARN,...e),this._logHandler(this,us.WARN,...e)}error(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,us.ERROR,...e),this._logHandler(this,us.ERROR,...e)}}const ms=(t,e)=>e.some((e=>t instanceof e));let ys,vs;const bs=new WeakMap,ws=new WeakMap,xs=new WeakMap,_s=new WeakMap,ks=new WeakMap;let Ss={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return ws.get(t);if("objectStoreNames"===e)return t.objectStoreNames||xs.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Es(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(vs||(vs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(Is(this),n),Cs(bs.get(this))}:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Cs(t.apply(Is(this),n))}:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=t.call(Is(this),e,...r);return xs.set(s,e.sort?e.sort():[e]),Cs(s)}}function Ts(t){return"function"===typeof t?Es(t):(t instanceof IDBTransaction&&function(t){if(ws.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));ws.set(t,e)}(t),ms(t,ys||(ys=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(t,Ss):t)}function Cs(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(Cs(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&bs.set(e,t)})).catch((()=>{})),ks.set(e,t),e}(t);if(_s.has(t))return _s.get(t);const e=Ts(t);return e!==t&&(_s.set(t,e),ks.set(e,t)),e}const Is=t=>ks.get(t);function Ps(t,e){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(t,e),a=Cs(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(Cs(o.result),t.oldVersion,t.newVersion,Cs(o.transaction),t)})),n&&o.addEventListener("blocked",(t=>n(t.oldVersion,t.newVersion,t))),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(t=>i(t.oldVersion,t.newVersion,t)))})).catch((()=>{})),a}const Ns=["get","getKey","getAll","getAllKeys","count"],Ms=["put","add","delete","clear"],Ds=new Map;function As(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!==typeof e)return;if(Ds.get(e))return Ds.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ms.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ns.includes(n))return;const s=async function(t){const e=this.transaction(t,i?"readwrite":"readonly");let s=e.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&e.done]))[0]};return Ds.set(e,s),s}!function(t){Ss=t(Ss)}((t=>({...t,get:(e,n,r)=>As(e,n)||t.get(e,n,r),has:(e,n)=>!!As(e,n)||t.has(e,n)})));class Os{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){const e=t.getImmediate();return"".concat(e.library,"/").concat(e.version)}return null})).filter((t=>t)).join(" ")}}const Rs="@firebase/app",Ls="0.10.4",js=new gs("@firebase/app"),Fs="@firebase/app-compat",Vs="@firebase/analytics-compat",Us="@firebase/analytics",zs="@firebase/app-check-compat",Bs="@firebase/app-check",Hs="@firebase/auth",Ws="@firebase/auth-compat",qs="@firebase/database",Ks="@firebase/database-compat",Gs="@firebase/functions",Ys="@firebase/functions-compat",Qs="@firebase/installations",Xs="@firebase/installations-compat",$s="@firebase/messaging",Js="@firebase/messaging-compat",Zs="@firebase/performance",to="@firebase/performance-compat",eo="@firebase/remote-config",no="@firebase/remote-config-compat",ro="@firebase/storage",io="@firebase/storage-compat",so="@firebase/firestore",oo="@firebase/vertexai-preview",ao="@firebase/firestore-compat",lo="firebase",co="[DEFAULT]",uo={[Rs]:"fire-core",[Fs]:"fire-core-compat",[Us]:"fire-analytics",[Vs]:"fire-analytics-compat",[Bs]:"fire-app-check",[zs]:"fire-app-check-compat",[Hs]:"fire-auth",[Ws]:"fire-auth-compat",[qs]:"fire-rtdb",[Ks]:"fire-rtdb-compat",[Gs]:"fire-fn",[Ys]:"fire-fn-compat",[Qs]:"fire-iid",[Xs]:"fire-iid-compat",[$s]:"fire-fcm",[Js]:"fire-fcm-compat",[Zs]:"fire-perf",[to]:"fire-perf-compat",[eo]:"fire-rc",[no]:"fire-rc-compat",[ro]:"fire-gcs",[io]:"fire-gcs-compat",[so]:"fire-fst",[ao]:"fire-fst-compat",[oo]:"fire-vertex","fire-js":"fire-js",[lo]:"fire-js-all"},ho=new Map,fo=new Map,po=new Map;function go(t,e){try{t.container.addComponent(e)}catch(yD){js.debug("Component ".concat(e.name," failed to register with FirebaseApp ").concat(t.name),yD)}}function mo(t){const e=t.name;if(po.has(e))return js.debug("There were multiple attempts to register component ".concat(e,".")),!1;po.set(e,t);for(const n of ho.values())go(n,t);for(const n of fo.values())go(n,t);return!0}function yo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function vo(t){return void 0!==t.settings}const bo=new Wi("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class wo{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ss("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bo.create("app-deleted",{appName:this._name})}}const xo="10.12.1";function _o(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;if("object"!==typeof e){e={name:e}}const r=Object.assign({name:co,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!==typeof i||!i)throw bo.create("bad-app-name",{appName:String(i)});if(n||(n=Ri()),!n)throw bo.create("no-options");const s=ho.get(i);if(s){if(Ki(n,s.options)&&Ki(r,s.config))return s;throw bo.create("duplicate-app",{appName:i})}const o=new ls(i);for(const l of po.values())o.addComponent(l);const a=new wo(n,r,o);return ho.set(i,a),a}function ko(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:co;const e=ho.get(t);if(!e&&t===co&&Ri())return _o();if(!e)throw bo.create("no-app",{appName:t});return e}function So(t,e,n){var r;let i=null!==(r=uo[t])&&void 0!==r?r:t;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const t=['Unable to register library "'.concat(i,'" with version "').concat(e,'":')];return s&&t.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&t.push("and"),o&&t.push('version name "'.concat(e,'" contains illegal characters (whitespace or "/")')),void js.warn(t.join(" "))}mo(new ss("".concat(i,"-version"),(()=>({library:i,version:e})),"VERSION"))}const Eo="firebase-heartbeat-database",To=1,Co="firebase-heartbeat-store";let Io=null;function Po(){return Io||(Io=Ps(Eo,To,{upgrade:(t,e)=>{if(0===e)try{t.createObjectStore(Co)}catch(yD){console.warn(yD)}}}).catch((t=>{throw bo.create("idb-open",{originalErrorMessage:t.message})}))),Io}async function No(t,e){try{const n=(await Po()).transaction(Co,"readwrite"),r=n.objectStore(Co);await r.put(e,Mo(t)),await n.done}catch(yD){if(yD instanceof Hi)js.warn(yD.message);else{const e=bo.create("idb-set",{originalErrorMessage:null===yD||void 0===yD?void 0:yD.message});js.warn(e.message)}}}function Mo(t){return"".concat(t.name,"!").concat(t.options.appId)}class Do{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Oo(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){var t,e;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Ao();if((null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((t=>t.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var t;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ao(),{heartbeatsToSend:n,unsentEntries:r}=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Ro(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ro(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ni(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Ao(){return(new Date).toISOString().substring(0,10)}class Oo{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!zi()&&Bi().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){try{const e=(await Po()).transaction(Co),n=await e.objectStore(Co).get(Mo(t));return await e.done,n}catch(yD){if(yD instanceof Hi)js.warn(yD.message);else{const e=bo.create("idb-get",{originalErrorMessage:null===yD||void 0===yD?void 0:yD.message});js.warn(e.message)}}}(this.app);return(null===t||void 0===t?void 0:t.heartbeats)?t:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return No(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return No(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Ro(t){return Ni(JSON.stringify({version:2,heartbeats:t})).length}var Lo;Lo="",mo(new ss("platform-logger",(t=>new Os(t)),"PRIVATE")),mo(new ss("heartbeat",(t=>new Do(t)),"PRIVATE")),So(Rs,Ls,Lo),So(Rs,Ls,"esm2017"),So("fire-js","");So("firebase","10.12.1","app");const jo="@firebase/installations",Fo="0.6.7",Vo=1e4,Uo="w:".concat(Fo),zo="FIS_v2",Bo="https://firebaseinstallations.googleapis.com/v1",Ho=36e5,Wo=new Wi("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function qo(t){return t instanceof Hi&&t.code.includes("request-failed")}function Ko(t){let{projectId:e}=t;return"".concat(Bo,"/projects/").concat(e,"/installations")}function Go(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}async function Yo(t,e){const n=(await e.json()).error;return Wo.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Qo(t){let{apiKey:e}=t;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Xo(t,e){let{refreshToken:n}=e;const r=Qo(t);return r.append("Authorization",function(t){return"".concat(zo," ").concat(t)}(n)),r}async function $o(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Jo(t){return new Promise((e=>{setTimeout(e,t)}))}const Zo=/^[cdef][\w-]{21}$/,ta="";function ea(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){const e=(n=t,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return e.substr(0,22)}(t);return Zo.test(e)?e:ta}catch(t){return ta}}function na(t){return"".concat(t.appName,"!").concat(t.appId)}const ra=new Map;function ia(t,e){const n=na(t);sa(n,e),function(t,e){const n=aa();n&&n.postMessage({key:t,fid:e});la()}(n,e)}function sa(t,e){const n=ra.get(t);if(n)for(const r of n)r(e)}let oa=null;function aa(){return!oa&&"BroadcastChannel"in self&&(oa=new BroadcastChannel("[Firebase] FID Change"),oa.onmessage=t=>{sa(t.data.key,t.data.fid)}),oa}function la(){0===ra.size&&oa&&(oa.close(),oa=null)}const ca="firebase-installations-database",ua=1,ha="firebase-installations-store";let da=null;function fa(){return da||(da=Ps(ca,ua,{upgrade:(t,e)=>{if(0===e)t.createObjectStore(ha)}})),da}async function pa(t,e){const n=na(t),r=(await fa()).transaction(ha,"readwrite"),i=r.objectStore(ha),s=await i.get(n);return await i.put(e,n),await r.done,s&&s.fid===e.fid||ia(t,e.fid),e}async function ga(t){const e=na(t),n=(await fa()).transaction(ha,"readwrite");await n.objectStore(ha).delete(e),await n.done}async function ma(t,e){const n=na(t),r=(await fa()).transaction(ha,"readwrite"),i=r.objectStore(ha),s=await i.get(n),o=e(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||ia(t,o.fid),o}async function ya(t){let e;const n=await ma(t.appConfig,(n=>{const r=function(t){const e=t||{fid:ea(),registrationStatus:0};return wa(e)}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){return{installationEntry:e,registrationPromise:Promise.reject(Wo.create("app-offline"))}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(t,e){try{const n=await async function(t,e){let{appConfig:n,heartbeatServiceProvider:r}=t,{fid:i}=e;const s=Ko(n),o=Qo(n),a=r.getImmediate({optional:!0});if(a){const t=await a.getHeartbeatsHeader();t&&o.append("x-firebase-client",t)}const l={fid:i,authVersion:zo,appId:n.appId,sdkVersion:Uo},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await $o((()=>fetch(s,c)));if(u.ok){const t=await u.json();return{fid:t.fid||i,registrationStatus:2,refreshToken:t.refreshToken,authToken:Go(t.authToken)}}throw await Yo("Create Installation",u)}(t,e);return pa(t.appConfig,n)}catch(yD){throw qo(yD)&&409===yD.customData.serverCode?await ga(t.appConfig):await pa(t.appConfig,{fid:e.fid,registrationStatus:0}),yD}}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:va(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}));return n.fid===ta?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}async function va(t){let e=await ba(t.appConfig);for(;1===e.registrationStatus;)await Jo(100),e=await ba(t.appConfig);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=await ya(t);return n||e}return e}function ba(t){return ma(t,(t=>{if(!t)throw Wo.create("installation-not-found");return wa(t)}))}function wa(t){return 1===(e=t).registrationStatus&&e.registrationTime+Vo<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e}async function xa(t,e){let{appConfig:n,heartbeatServiceProvider:r}=t;const i=function(t,e){let{fid:n}=e;return"".concat(Ko(t),"/").concat(n,"/authTokens:generate")}(n,e),s=Xo(n,e),o=r.getImmediate({optional:!0});if(o){const t=await o.getHeartbeatsHeader();t&&s.append("x-firebase-client",t)}const a={installation:{sdkVersion:Uo,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await $o((()=>fetch(i,l)));if(c.ok){return Go(await c.json())}throw await Yo("Generate Auth Token",c)}async function _a(t){let e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await ma(t.appConfig,(r=>{if(!Sa(r))throw Wo.create("not-registered");const i=r.authToken;if(!n&&function(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Ho}(t)}(i))return r;if(1===i.requestStatus)return e=async function(t,e){let n=await ka(t.appConfig);for(;1===n.authToken.requestStatus;)await Jo(100),n=await ka(t.appConfig);const r=n.authToken;return 0===r.requestStatus?_a(t,e):r}(t,n),r;{if(!navigator.onLine)throw Wo.create("app-offline");const n=function(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(r);return e=async function(t,e){try{const n=await xa(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await pa(t.appConfig,r),n}catch(yD){if(!qo(yD)||401!==yD.customData.serverCode&&404!==yD.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await pa(t.appConfig,n)}else await ga(t.appConfig);throw yD}}(t,n),n}}));return e?await e:r.authToken}function ka(t){return ma(t,(t=>{if(!Sa(t))throw Wo.create("not-registered");const e=t.authToken;return 1===(n=e).requestStatus&&n.requestTime+Vo<Date.now()?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t;var n}))}function Sa(t){return void 0!==t&&2===t.registrationStatus}async function Ea(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=t;await async function(t){const{registrationPromise:e}=await ya(t);e&&await e}(n);return(await _a(n,e)).token}function Ta(t){return Wo.create("missing-app-config-values",{valueName:t})}const Ca="installations",Ia=t=>{const e=t.getProvider("app").getImmediate(),n=function(t){if(!t||!t.options)throw Ta("App Configuration");if(!t.name)throw Ta("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Ta(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:yo(e,"heartbeat"),_delete:()=>Promise.resolve()}},Pa=t=>{const e=yo(t.getProvider("app").getImmediate(),Ca).getImmediate();return{getId:()=>async function(t){const e=t,{installationEntry:n,registrationPromise:r}=await ya(e);return r?r.catch(console.error):_a(e).catch(console.error),n.fid}(e),getToken:t=>Ea(e,t)}};mo(new ss(Ca,Ia,"PUBLIC")),mo(new ss("installations-internal",Pa,"PRIVATE")),So(jo,Fo),So(jo,Fo,"esm2017");const Na="analytics",Ma="firebase_id",Da="origin",Aa=6e4,Oa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ra="https://www.googletagmanager.com/gtag/js",La=new gs("@firebase/analytics"),ja=new Wi("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Fa(t){if(!t.startsWith(Ra)){const e=ja.create("invalid-gtag-resource",{gtagURL:t});return La.warn(e.message),""}return t}function Va(t){return Promise.all(t.map((t=>t.catch((t=>t)))))}function Ua(t,e){const n=function(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:Fa}),r=document.createElement("script"),i="".concat(Ra,"?l=").concat(t,"&id=").concat(e);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function za(t,e,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=await Va(n);for(const n of t){const t=r.find((t=>t.measurementId===n)),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(yD){La.error(yD)}}(t,e,n,r,i)}else if("config"===i){const[i,s]=o;await async function(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const t=(await Va(n)).find((t=>t.measurementId===i));t&&await e[t.appId]}}catch(yD){La.error(yD)}t("config",i,s)}(t,e,n,r,i,s)}else if("consent"===i){const[e,n]=o;t("consent",e,n)}else if("get"===i){const[e,n,r]=o;t("get",e,n,r)}else if("set"===i){const[e]=o;t("set",e)}else t(i,...o)}catch(yD){La.error(yD)}}}const Ba=30;const Ha=new class{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function Wa(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function qa(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ha,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ja.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ja.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ga;return setTimeout((async()=>{a.abort()}),void 0!==n?n:Aa),Ka({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Ka(t,e,n){let{throttleEndTimeMillis:r,backoffCount:i}=e,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ha;var o;const{appId:a,measurementId:l}=t;try{await function(t,e){return new Promise(((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener((()=>{clearTimeout(s),r(ja.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}(n,r)}catch(yD){if(l)return La.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===yD||void 0===yD?void 0:yD.message,"]")),{appId:a,measurementId:l};throw yD}try{const e=await async function(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Wa(r)},s=Oa.replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=await o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw ja.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()}(t);return s.deleteThrottleMetadata(a),e}catch(yD){const r=yD;if(!function(t){if(!(t instanceof Hi)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(r)){if(s.deleteThrottleMetadata(a),l)return La.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(l)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===r||void 0===r?void 0:r.message,"]")),{appId:a,measurementId:l};throw yD}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?rs(i,s.intervalMillis,Ba):rs(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(a,u),La.debug("Calling attemptFetch again in ".concat(c," millis")),Ka(t,u,n,s)}}class Ga{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach((t=>t()))}}let Ya,Qa;function Xa(t){Qa=t}function $a(t){Ya=t}async function Ja(t,e,n,r,i,s,o){var a;const l=qa(t);l.then((e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&La.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((t=>La.error(t))),e.push(l);const c=async function(){if(!zi())return La.warn(ja.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Bi()}catch(yD){return La.warn(ja.create("indexeddb-unavailable",{errorInfo:null===yD||void 0===yD?void 0:yD.toString()}).message),!1}return!0}().then((t=>t?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ra)&&n.src.includes(t))return n;return null})(s)||Ua(s,u.measurementId),Qa&&(i("consent","default",Qa),Xa(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d[Da]="firebase",d.update=!0,null!=h&&(d[Ma]=h),i("config",u.measurementId,d),Ya&&(i("set",Ya),$a(void 0)),u.measurementId}class Za{constructor(t){this.app=t}_delete(){return delete tl[this.app.options.appId],Promise.resolve()}}let tl={},el=[];const nl={};let rl,il,sl="dataLayer",ol="gtag",al=!1;function ll(){const t=[];if(Vi()&&t.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||t.push("Cookies are not available."),t.length>0){const e=t.map(((t,e)=>"(".concat(e+1,") ").concat(t))).join(" "),n=ja.create("invalid-analytics-context",{errorInfo:e});La.warn(n.message)}}function cl(t,e,n){ll();const r=t.options.appId;if(!r)throw ja.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw ja.create("no-api-key");La.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(t.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=tl[r])throw ja.create("already-exists",{id:r});if(!al){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(sl);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let s=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=za(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(tl,el,nl,sl,ol);il=t,rl=e,al=!0}tl[r]=Ja(t,el,nl,e,rl,sl,n);return new Za(t)}function ul(t,e,n,r){t=is(t),async function(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=await e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(il,tl[t.app.options.appId],e,n,r).catch((t=>La.error(t)))}const hl="@firebase/analytics",dl="0.10.4";mo(new ss(Na,((t,e)=>{let{options:n}=e;return cl(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),mo(new ss("analytics-internal",(function(t){try{const e=t.getProvider(Na).getImmediate();return{logEvent:(t,n,r)=>ul(e,t,n,r)}}catch(yD){throw ja.create("interop-component-reg-failed",{reason:yD})}}),"PRIVATE")),So(hl,dl),So(hl,dl,"esm2017");function fl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function pl(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gl=pl,ml=new Wi("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),yl=new gs("@firebase/auth");function vl(t){if(yl.logLevel<=us.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];yl.error("Auth (".concat(xo,"): ").concat(t),...n)}}function bl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw kl(t,...n)}function wl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return kl(t,...n)}function xl(t,e,n){const r=Object.assign(Object.assign({},gl()),{[e]:n});return new Wi("auth","Firebase",r).create(e,{appName:t.name})}function _l(t){return xl(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kl(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];if("string"!==typeof t){const e=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(e,...r)}return ml.create(t,...n)}function Sl(t,e){if(!t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kl(e,...r)}}function El(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vl(e),new Error(e)}function Tl(t,e){t||El(e)}function Cl(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Il(){return"http:"===Pl()||"https:"===Pl()}function Pl(){var t;return"undefined"!==typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Nl{constructor(t,e){this.shortDelay=t,this.longDelay=e,Tl(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fi())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Il()||Vi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ml(t,e){Tl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?"".concat(n).concat(e.startsWith("/")?e.slice(1):e):n}class Dl{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void El("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void El("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void El("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Al={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ol=new Nl(3e4,6e4);function Rl(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ll(t,e,n,r){return jl(t,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===e?s=r:i={body:JSON.stringify(r)});const o=Yi(Object.assign({key:t.config.apiKey},s)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Dl.fetch()(Vl(t,t.config.apiHost,n,o),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},i))}))}async function jl(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Al),e);try{const e=new zl(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Bl(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Bl(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Bl(t,"email-already-in-use",s);if("USER_DISABLED"===n)throw Bl(t,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw xl(t,a,o);bl(t,a)}}catch(yD){if(yD instanceof Hi)throw yD;bl(t,"network-request-failed",{message:String(yD)})}}async function Fl(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Ll(t,e,n,r,i);return"mfaPendingCredential"in s&&bl(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Vl(t,e,n,r){const i="".concat(e).concat(n,"?").concat(r);return t.config.emulator?Ml(t.config,i):"".concat(t.config.apiScheme,"://").concat(i)}function Ul(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zl{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(wl(this.auth,"network-request-failed"))),Ol.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=wl(t,e,r);return i.customData._tokenResponse=n,i}function Hl(t){return void 0!==t&&void 0!==t.enterprise}class Wl{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Ul(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}async function ql(t,e){return Ll(t,"GET","/v2/recaptchaConfig",Rl(t,e))}async function Kl(t,e){return Ll(t,"POST","/v1/accounts:lookup",e)}function Gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(yD){}}function Yl(t){return 1e3*Number(t)}function Ql(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return vl("JWT malformed, contained fewer than 3 sections"),null;try{const t=Mi(n);return t?JSON.parse(t):(vl("Failed to decode base64 JWT payload"),null)}catch(yD){return vl("Caught error parsing JWT payload as JSON",null===yD||void 0===yD?void 0:yD.toString()),null}}function Xl(t){const e=Ql(t);return Sl(e,"internal-error"),Sl("undefined"!==typeof e.exp,"internal-error"),Sl("undefined"!==typeof e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}async function $l(t,e){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return e;try{return await e}catch(yD){throw yD instanceof Hi&&function(t){let{code:e}=t;return e==="auth/".concat("user-disabled")||e==="auth/".concat("user-token-expired")}(yD)&&t.auth.currentUser===t&&await t.auth.signOut(),yD}}class Jl{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){try{await this.user.getIdToken(!0)}catch(yD){return void((null===yD||void 0===yD?void 0:yD.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Zl{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function tc(t){var e;const n=t.auth,r=await t.getIdToken(),i=await $l(t,Kl(n,{idToken:r}));Sl(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?ec(s.providerUserInfo):[],a=(l=t.providerData,c=o,[...l.filter((t=>!c.some((e=>e.providerId===t.providerId)))),...c]);var l,c;const u=t.isAnonymous,h=!(t.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Zl(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,f)}function ec(t){return t.map((t=>{var{providerId:e}=t,n=fl(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Sl(t.idToken,"internal-error"),Sl("undefined"!==typeof t.idToken,"internal-error"),Sl("undefined"!==typeof t.refreshToken,"internal-error");const e="expiresIn"in t&&"undefined"!==typeof t.expiresIn?Number(t.expiresIn):Xl(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Sl(0!==t.length,"internal-error");const e=Xl(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Sl(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await jl(t,{},(async()=>{const n=Yi({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,s=Vl(t,r,"/v1/token","key=".concat(i)),o=await t._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Dl.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new nc;return n&&(Sl("string"===typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(Sl("string"===typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(Sl("number"===typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new nc,this.toJSON())}_performRefresh(){return El("not implemented")}}function rc(t,e){Sl("string"===typeof t||"undefined"===typeof t,"internal-error",{appName:e})}class ic{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=fl(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Jl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Zl(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await $l(this,this.stsTokenManager.getToken(this.auth,t));return Sl(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=is(t),r=await n.getIdToken(e),i=Ql(r);Sl(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Gl(Yl(i.auth_time)),issuedAtTime:Gl(Yl(i.iat)),expirationTime:Gl(Yl(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=is(t);await tc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(Sl(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new ic(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){Sl(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await tc(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(vo(this.auth.app))return Promise.reject(_l(this.auth));const t=await this.getIdToken();return await $l(this,async function(t,e){return Ll(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,l,c;const u=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(l=e.createdAt)&&void 0!==l?l:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:w,providerData:x,stsTokenManager:_}=e;Sl(v&&_,t,"internal-error");const k=nc.fromJSON(this.name,_);Sl("string"===typeof v,t,"internal-error"),rc(u,t.name),rc(h,t.name),Sl("boolean"===typeof b,t,"internal-error"),Sl("boolean"===typeof w,t,"internal-error"),rc(d,t.name),rc(f,t.name),rc(p,t.name),rc(g,t.name),rc(m,t.name),rc(y,t.name);const S=new ic({uid:v,auth:t,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:k,createdAt:m,lastLoginAt:y});return x&&Array.isArray(x)&&(S.providerData=x.map((t=>Object.assign({},t)))),g&&(S._redirectEventId=g),S}static async _fromIdTokenResponse(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new nc;r.updateFromServerResponse(e);const i=new ic({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await tc(i),i}static async _fromGetAccountInfoResponse(t,e,n){const r=e.users[0];Sl(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?ec(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new nc;o.updateFromIdToken(n);const a=new ic({uid:r.localId,auth:t,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Zl(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const sc=new Map;function oc(t){Tl(t instanceof Function,"Expected a class definition");let e=sc.get(t);return e?(Tl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,sc.set(t,e),e)}class ac{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ac.type="NONE";const lc=ac;function cc(t,e,n){return"firebase".concat(":",t,":").concat(e,":").concat(n)}class uc{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=cc(this.userKey,r.apiKey,i),this.fullPersistenceKey=cc("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ic._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!e.length)return new uc(oc(lc),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||oc(lc);const s=cc(n,t.config.apiKey,t.name);let o=null;for(const c of e)try{const e=await c._get(s);if(e){const n=ic._fromJSON(t,e);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(s)}catch(l){}}))),new uc(i,t,n)):new uc(i,t,n)}}function hc(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gc(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dc(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yc(e))return"Blackberry";if(vc(e))return"Webos";if(fc(e))return"Safari";if((e.includes("chrome/")||pc(e))&&!e.includes("edge/"))return"Chrome";if(mc(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function dc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/firefox\//i.test(t)}function fc(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi()).toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function pc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/crios\//i.test(t)}function gc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/iemobile/i.test(t)}function mc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/android/i.test(t)}function yc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/blackberry/i.test(t)}function vc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/webos/i.test(t)}function bc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wc(){return function(){const t=Fi();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}function xc(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi();return bc(t)||mc(t)||vc(t)||yc(t)||/windows phone/i.test(t)||gc(t)}function _c(t){let e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(t){case"Browser":e=hc(Fi());break;case"Worker":e="".concat(hc(Fi()),"-").concat(t);break;default:e=t}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(e,"/","JsCore","/").concat(xo,"/").concat(r)}class kc{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(yD){r(yD)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const n of this.queue)await n(t),n.onAbort&&e.push(n.onAbort)}catch(yD){e.reverse();for(const r of e)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===yD||void 0===yD?void 0:yD.message})}}}class Sc{constructor(t){var e,n,r,i;const s=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=s.minPasswordLength)&&void 0!==e?e:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=t.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,a),this.validatePasswordCharacterOptions(t,a),a.isValid&&(a.isValid=null===(e=a.meetsMinPasswordLength)||void 0===e||e),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=i))}}class Ec{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Cc(this),this.idTokenSubscription=new Cc(this),this.beforeStateQueue=new kc(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ml,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=oc(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await uc.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(yD){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUserFromIdToken(t){try{const e=await Kl(this,{idToken:t}),n=await ic._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var e;if(vo(this.app)){const t=this.app.settings.authIdToken;return t?new Promise((e=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(t).then(e,e)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(t);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(yD){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(yD)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Sl(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(yD){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await tc(t)}catch(yD){if((null===yD||void 0===yD?void 0:yD.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(vo(this.app))return Promise.reject(_l(this));const e=t?is(t):null;return e&&Sl(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return t&&Sl(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return vo(this.app)?Promise.reject(_l(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return vo(this.app)?Promise.reject(_l(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(oc(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await async function(t){return Ll(t,"GET","/v2/passwordPolicy",Rl(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),e=new Sc(t);null===this.tenantId?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Wi("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise(((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged((()=>{n(),t()}),e)}}))}async revokeAccessToken(t){if(this.currentUser){const e={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(e.tenantId=this.tenantId),await async function(t,e){return Ll(t,"POST","/v2/accounts:revokeToken",Rl(t,e))}(this,e)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&oc(t)||this._popupRedirectResolver;Sl(e,this,"argument-error"),this.redirectPersistenceManager=await uc.create(this,[oc(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"===typeof e?e:e.next.bind(e);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Sl(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof e){const i=t.addObserver(e,n,r);return()=>{s=!0,i()}}{const n=t.addObserver(e);return()=>{s=!0,n()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Sl(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=_c(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;const e=await(null===(t=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken());return(null===e||void 0===e?void 0:e.error)&&function(t){if(yl.logLevel<=us.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];yl.warn("Auth (".concat(xo,"): ").concat(t),...n)}}("Error while retrieving App Check token: ".concat(e.error)),null===e||void 0===e?void 0:e.token}}function Tc(t){return is(t)}class Cc{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new $i(t,e);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return Sl(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ic={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pc(t){return Ic.loadJS(t)}function Nc(t){return"__".concat(t).concat(Math.floor(1e6*Math.random()))}class Mc{constructor(t){this.type="recaptcha-enterprise",this.auth=Tc(t)}async verify(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(e,n,r){const i=window.grecaptcha;Hl(i)?i.enterprise.ready((()=>{i.enterprise.execute(e,{action:t}).then((t=>{n(t)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((t,r)=>{(async function(t){if(!e){if(null==t.tenantId&&null!=t._agentRecaptchaConfig)return t._agentRecaptchaConfig.siteKey;if(null!=t.tenantId&&void 0!==t._tenantRecaptchaConfigs[t.tenantId])return t._tenantRecaptchaConfigs[t.tenantId].siteKey}return new Promise((async(e,n)=>{ql(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Wl(r);return null==t.tenantId?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,e(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((t=>{n(t)}))}))})(this.auth).then((i=>{if(!e&&Hl(window.grecaptcha))n(i,t,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let e=Ic.recaptchaEnterpriseScript;0!==e.length&&(e+=i),Pc(e).then((()=>{n(i,t,r)})).catch((t=>{r(t)}))}})).catch((t=>{r(t)}))}))}}async function Dc(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Mc(t);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ac(t,e,n,r){var i;if(null===(i=t._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Dc(t,e,n,"getOobCode"===n);return r(t,i)}return r(t,e).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Dc(t,e,n,"getOobCode"===n);return r(t,i)}return Promise.reject(i)}))}function Oc(t,e,n){const r=Tc(t);Sl(r._canInitEmulator,r,"emulator-config-failed"),Sl(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Rc(e),{host:o,port:a}=function(t){const e=Rc(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Lc(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Lc(e)}}}(e),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}function Rc(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Lc(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class jc{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return El("not implemented")}_getIdTokenResponse(t){return El("not implemented")}_linkToIdToken(t,e){return El("not implemented")}_getReauthenticationResolver(t){return El("not implemented")}}async function Fc(t,e){return Ll(t,"POST","/v1/accounts:signUp",e)}async function Vc(t,e){return Fl(t,"POST","/v1/accounts:signInWithPassword",Rl(t,e))}class Uc extends jc{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Uc(t,e,"password")}static _fromEmailAndCode(t,e){return new Uc(t,e,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t;if((null===e||void 0===e?void 0:e.email)&&(null===e||void 0===e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return Ac(t,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Vc);case"emailLink":return async function(t,e){return Fl(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}(t,{email:this._email,oobCode:this._password});default:bl(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return Ac(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fc);case"emailLink":return async function(t,e){return Fl(t,"POST","/v1/accounts:signInWithEmailLink",Rl(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:bl(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function zc(t,e){return Fl(t,"POST","/v1/accounts:signInWithIdp",Rl(t,e))}class Bc extends jc{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Bc(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):bl("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"===typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=fl(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Bc(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return zc(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,zc(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,zc(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Yi(e)}return t}}const Hc={USER_NOT_FOUND:"user-not-found"};class Wc extends jc{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Wc({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Wc({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return Fl(t,"POST","/v1/accounts:signInWithPhoneNumber",Rl(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await Fl(t,"POST","/v1/accounts:signInWithPhoneNumber",Rl(t,e));if(n.temporaryProof)throw Bl(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return Fl(t,"POST","/v1/accounts:signInWithPhoneNumber",Rl(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Hc)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"===typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new Wc({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class qc{constructor(t){var e,n,r,i,s,o;const a=Qi(Xi(t)),l=null!==(e=a.apiKey)&&void 0!==e?e:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Sl(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(t){const e=function(t){const e=Qi(Xi(t)).link,n=e?Qi(Xi(e)).deep_link_id:null,r=Qi(Xi(t)).deep_link_id;return(r?Qi(Xi(r)).link:null)||r||n||e||t}(t);try{return new qc(e)}catch(n){return null}}}class Kc{constructor(){this.providerId=Kc.PROVIDER_ID}static credential(t,e){return Uc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=qc.parseLink(e);return Sl(n,"argument-error"),Uc._fromEmailAndCode(t,n.code,n.tenantId)}}Kc.PROVIDER_ID="password",Kc.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Kc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Gc{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Yc extends Gc{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qc extends Yc{constructor(){super("facebook.com")}static credential(t){return Bc._fromParams({providerId:Qc.PROVIDER_ID,signInMethod:Qc.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qc.credentialFromTaggedObject(t)}static credentialFromError(t){return Qc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return Qc.credential(e.oauthAccessToken)}catch(n){return null}}}Qc.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qc.PROVIDER_ID="facebook.com";class Xc extends Yc{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Bc._fromParams({providerId:Xc.PROVIDER_ID,signInMethod:Xc.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Xc.credentialFromTaggedObject(t)}static credentialFromError(t){return Xc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xc.credential(n,r)}catch(i){return null}}}Xc.GOOGLE_SIGN_IN_METHOD="google.com",Xc.PROVIDER_ID="google.com";class $c extends Yc{constructor(){super("github.com")}static credential(t){return Bc._fromParams({providerId:$c.PROVIDER_ID,signInMethod:$c.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return $c.credentialFromTaggedObject(t)}static credentialFromError(t){return $c.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return $c.credential(e.oauthAccessToken)}catch(n){return null}}}$c.GITHUB_SIGN_IN_METHOD="github.com",$c.PROVIDER_ID="github.com";class Jc extends Yc{constructor(){super("twitter.com")}static credential(t,e){return Bc._fromParams({providerId:Jc.PROVIDER_ID,signInMethod:Jc.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Jc.credentialFromTaggedObject(t)}static credentialFromError(t){return Jc.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Jc.credential(n,r)}catch(i){return null}}}async function Zc(t,e){return Fl(t,"POST","/v1/accounts:signUp",Rl(t,e))}Jc.TWITTER_SIGN_IN_METHOD="twitter.com",Jc.PROVIDER_ID="twitter.com";class tu{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ic._fromIdTokenResponse(t,n,r),s=eu(n);return new tu({user:i,providerId:s,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=eu(n);return new tu({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function eu(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class nu extends Hi{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,nu.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new nu(t,e,n,r)}}function ru(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw nu._fromErrorAndOperation(t,n,e,r);throw n}))}async function iu(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await $l(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return tu._forOperation(t,"link",r)}async function su(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=t;if(vo(r.app))return Promise.reject(_l(r));const i="reauthenticate";try{const s=await $l(t,ru(r,i,e,t),n);Sl(s.idToken,r,"internal-error");const o=Ql(s.idToken);Sl(o,r,"internal-error");const{sub:a}=o;return Sl(t.uid===a,r,"user-mismatch"),tu._forOperation(t,i,s)}catch(yD){throw(null===yD||void 0===yD?void 0:yD.code)==="auth/".concat("user-not-found")&&bl(r,"user-mismatch"),yD}}async function ou(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vo(t.app))return Promise.reject(_l(t));const r="signIn",i=await ru(t,r,e),s=await tu._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function au(t,e){return ou(Tc(t),e)}async function lu(t){const e=Tc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}new WeakMap;const cu="__sak";class uu{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cu,"1"),this.storage.removeItem(cu),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class hu extends uu{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=Fi();return fc(t)||bc(t)}()&&function(){try{return!(!window||window===window.top)}catch(yD){return!1}}(),this.fallbackToPolling=xc(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);wc()&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}hu.type="LOCAL";const du=hu;class fu extends uu{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}fu.type="SESSION";const pu=fu;class gu{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new gu(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async t=>t(e.origin,i))),a=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}})))}(o);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mu(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}gu.receivers=[];class yu{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=mu("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===l)switch(e.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(e.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:t,eventId:l,data:e},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function vu(){return window}function bu(){return"undefined"!==typeof vu().WorkerGlobalScope&&"function"===typeof vu().importScripts}const wu="firebaseLocalStorageDb",xu="firebaseLocalStorage",_u="fbase_key";class ku{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Su(t,e){return t.transaction([xu],e?"readwrite":"readonly").objectStore(xu)}function Eu(){const t=indexedDB.open(wu,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(xu,{keyPath:_u})}catch(yD){n(yD)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(xu)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(wu);return new ku(t).toPromise()}(),e(await Eu()))}))}))}async function Tu(t,e,n){const r=Su(t,!0).put({[_u]:e,value:n});return new ku(r).toPromise()}function Cu(t,e){const n=Su(t,!0).delete(e);return new ku(n).toPromise()}class Iu{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Eu()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(yD){if(e++>3)throw yD;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return bu()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=gu._getInstance(bu()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new yu(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(e){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Eu();return await Tu(t,cu,"1"),await Cu(t,cu),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>Tu(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Su(t,!1).get(e),r=await new ku(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>Cu(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Su(t,!1).getAll();return new ku(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;if(0!==t.length)for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Iu.type="LOCAL";const Pu=Iu;Nc("rcb"),new Nl(3e4,6e4);const Nu="recaptcha";async function Mu(t,e,n){var r;const i=await n.verify();try{let s;if(Sl("string"===typeof i,t,"argument-error"),Sl(n.type===Nu,t,"argument-error"),s="string"===typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s){Sl("enroll"===e.type,t,"internal-error");const n=await function(t,e){return Ll(t,"POST","/v2/accounts/mfaEnrollment:start",Rl(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Sl("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Sl(n,t,"missing-multi-factor-info");const o=await function(t,e){return Ll(t,"POST","/v2/accounts/mfaSignIn:start",Rl(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return Ll(t,"POST","/v1/accounts:sendVerificationCode",Rl(t,e))}(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}class Du{constructor(t){this.providerId=Du.PROVIDER_ID,this.auth=Tc(t)}verifyPhoneNumber(t,e){return Mu(this.auth,t,is(e))}static credential(t,e){return Wc._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Du.credentialFromTaggedObject(e)}static credentialFromError(t){return Du.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject(t){let{_tokenResponse:e}=t;if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Wc._fromTokenResponse(n,r):null}}function Au(t,e){return e?oc(e):(Sl(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}Du.PROVIDER_ID="phone",Du.PHONE_SIGN_IN_METHOD="phone";class Ou extends jc{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return zc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return zc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return zc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Ru(t){return ou(t.auth,new Ou(t),t.bypassAuthState)}function Lu(t){const{auth:e,user:n}=t;return Sl(n,e,"internal-error"),su(n,new Ou(t),t.bypassAuthState)}async function ju(t){const{auth:e,user:n}=t;return Sl(n,e,"internal-error"),iu(n,new Ou(t),t.bypassAuthState)}class Fu{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(yD){this.reject(yD)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=t;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(yD){this.reject(yD)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Ru;case"linkViaPopup":case"linkViaRedirect":return ju;case"reauthViaPopup":case"reauthViaRedirect":return Lu;default:bl(this.auth,"internal-error")}}resolve(t){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Tl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vu=new Nl(2e3,1e4);class Uu extends Fu{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Uu.currentPopupAction&&Uu.currentPopupAction.cancel(),Uu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Sl(t,this.auth,"internal-error"),t}async onExecution(){Tl(1===this.filter.length,"Popup operations only handle one event");const t=mu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(wl(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(wl(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Uu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(wl(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(t,Vu.get())};t()}}Uu.currentPopupAction=null;const zu="pendingRedirect",Bu=new Map;class Hu extends Fu{constructor(t,e){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let t=Bu.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=Ku(e),r=qu(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(yD){t=()=>Promise.reject(yD)}Bu.set(this.auth._key(),t)}return this.bypassAuthState||Bu.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Wu(t,e){Bu.set(t._key(),e)}function qu(t){return oc(t._redirectPersistence)}function Ku(t){return cc(zu,t.config.apiKey,t.name)}async function Gu(t,e){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(vo(t.app))return Promise.reject(_l(t));const r=Tc(t),i=Au(r,e),s=new Hu(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}class Yu{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xu(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Xu(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(wl(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qu(t))}saveEventToCache(t){this.cachedEventUids.add(Qu(t)),this.lastProcessedEventTime=Date.now()}}function Qu(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function Xu(t){let{type:e,error:n}=t;return"unknown"===e&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const $u=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ju=/^https?/;async function Zu(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t){return Ll(t,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(t);for(const r of e)try{if(th(r))return}catch(n){}bl(t,"unauthorized-domain")}function th(t){const e=Cl(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Ju.test(n))return!1;if($u.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const eh=new Nl(3e4,6e4);function nh(){const t=vu().___jsl;if(null===t||void 0===t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}function rh(t){return new Promise(((e,n)=>{var r,i,s;function o(){nh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nh(),n(wl(t,"network-request-failed"))},timeout:eh.get()})}if(null===(i=null===(r=vu().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=vu().gapi)||void 0===s?void 0:s.load)){const e=Nc("iframefcb");return vu()[e]=()=>{gapi.load?o():n(wl(t,"network-request-failed"))},Pc("".concat(Ic.gapiScript,"?onload=").concat(e)).catch((t=>n(t)))}o()}})).catch((t=>{throw ih=null,t}))}let ih=null;const sh=new Nl(5e3,15e3),oh="__/auth/iframe",ah="emulator/auth/iframe",lh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ch=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function uh(t){const e=t.config;Sl(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Ml(e,ah):"https://".concat(t.config.authDomain,"/").concat(oh),r={apiKey:e.apiKey,appName:t.name,v:xo},i=ch.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Yi(r).slice(1))}async function hh(t){const e=await function(t){return ih=ih||rh(t),ih}(t),n=vu().gapi;return Sl(n,t,"internal-error"),e.open({where:document.body,url:uh(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:lh,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=wl(t,"network-request-failed"),s=vu().setTimeout((()=>{r(i)}),sh.get());function o(){vu().clearTimeout(s),n(e)}e.ping(o).then(o,(()=>{r(i)}))}))))}const dh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fh{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(yD){}}}function ph(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},dh),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Fi().toLowerCase();n&&(a=pc(c)?"_blank":n),dc(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((t,e)=>{let[n,r]=e;return"".concat(t).concat(n,"=").concat(r,",")}),"");if(function(){var t;return bc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fi())&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(c)&&"_self"!==a)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new fh(null);const h=window.open(e||"",a,u);Sl(h,t,"popup-blocked");try{h.focus()}catch(yD){}return new fh(h)}const gh="__/auth/handler",mh="emulator/auth/handler",yh=encodeURIComponent("fac");async function vh(t,e,n,r,i,s){Sl(t.config.authDomain,t,"auth-domain-config-required"),Sl(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:xo,eventId:i};if(e instanceof Gc){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(s||{}))o[t]=e}if(e instanceof Yc){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(o.scopes=t.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await t._getAppCheckToken(),c=l?"#".concat(yh,"=").concat(encodeURIComponent(l)):"";return"".concat(function(t){let{config:e}=t;if(!e.emulator)return"https://".concat(e.authDomain,"/").concat(gh);return Ml(e,mh)}(t),"?").concat(Yi(a).slice(1)).concat(c)}const bh="webStorageSupport";const wh=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pu,this._completeRedirectFn=Gu,this._overrideRedirectResult=Wu}async _openPopup(t,e,n,r){var i;Tl(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return ph(t,await vh(t,e,n,Cl(),r),mu())}async _openRedirect(t,e,n,r){await this._originValidation(t);return function(t){vu().location.href=t}(await vh(t,e,n,Cl(),r)),new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(Tl(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await hh(t),n=new Yu(t);return e.register("authEvent",(e=>{Sl(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event");return{status:n.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(bh,{type:bh},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[bh];void 0!==i&&e(!!i),bl(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Zu(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return xc()||fc()||bc()}};var xh="@firebase/auth",_h="1.7.3";class kh{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(t)}}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{t((null===e||void 0===e?void 0:e.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Sl(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Sh=Li("authIdTokenMaxAge")||300;let Eh=null;var Th,Ch;Th={loadJS:t=>new Promise(((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=wl("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ic=Th,Ch="Browser",mo(new ss("auth",((t,e)=>{let{options:n}=e;const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Sl(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Ch,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_c(Ch)},c=new Ec(r,i,s,l);return function(t,e){const n=(null===e||void 0===e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oc);(null===e||void 0===e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null===e||void 0===e?void 0:e.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),mo(new ss("auth-internal",(t=>(t=>new kh(t))(Tc(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),So(xh,_h,function(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ch)),So(xh,_h,"esm2017");var Ih,Ph,Nh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Mh={};(function(){var t;function e(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(t,e,n){n||(n=0);var r=Array(16);if("string"===typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function r(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}!function(t,e){function n(){}n.prototype=e.prototype,t.D=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.C=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}(e,(function(){this.blockSize=-1})),e.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},e.prototype.u=function(t,e){void 0===e&&(e=t.length);for(var r=e-this.blockSize,i=this.B,s=this.h,o=0;o<e;){if(0==s)for(;o<=r;)n(this,t,o),o+=this.blockSize;if("string"===typeof t){for(;o<e;)if(i[s++]=t.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<e;)if(i[s++]=t[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=e},e.prototype.v=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.o;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.u(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var i={};function s(t){return-128<=t&&128>t?function(t,e){var n=i;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(t){return new r([0|t],0>t?-1:0)})):new r([0|t],0>t?-1:0)}function o(t){if(isNaN(t)||!isFinite(t))return a;if(0>t)return d(o(-t));for(var e=[],n=1,i=0;t>=n;i++)e[i]=t/n|0,n*=4294967296;return new r(e,0)}var a=s(0),l=s(1),c=s(16777216);function u(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function h(t){return-1==t.h}function d(t){for(var e=t.g.length,n=[],i=0;i<e;i++)n[i]=~t.g[i];return new r(n,~t.h).add(l)}function f(t,e){return t.add(d(e))}function p(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function g(t,e){this.g=t,this.h=e}function m(t,e){if(u(e))throw Error("division by zero");if(u(t))return new g(a,a);if(h(t))return e=m(d(t),e),new g(d(e.g),d(e.h));if(h(e))return e=m(t,d(e)),new g(d(e.g),e.h);if(30<t.g.length){if(h(t)||h(e))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=e;0>=r.l(t);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(t)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return e=f(t,i.j(e)),new g(i,e)}for(i=a;0<=t.l(e);){for(n=Math.max(1,Math.floor(t.m()/e.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(e);h(c)||0<c.l(t);)c=(s=o(n-=r)).j(e);u(s)&&(s=l),i=i.add(s),t=f(t,c)}return new g(i,t)}function y(t){for(var e=t.g.length+1,n=[],i=0;i<e;i++)n[i]=t.i(i)<<1|t.i(i-1)>>>31;return new r(n,t.h)}function v(t,e){var n=e>>5;e%=32;for(var i=t.g.length-n,s=[],o=0;o<i;o++)s[o]=0<e?t.i(o+n)>>>e|t.i(o+n+1)<<32-e:t.i(o+n);return new r(s,t.h)}(t=r.prototype).m=function(){if(h(this))return-d(this).m();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.i(n);t+=(0<=r?r:4294967296+r)*e,e*=4294967296}return t},t.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(u(this))return"0";if(h(this))return"-"+d(this).toString(t);for(var e=o(Math.pow(t,6)),n=this,r="";;){var i=m(n,e).g,s=((0<(n=f(n,i.j(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},t.l=function(t){return h(t=f(this,t))?-1:u(t)?0:1},t.abs=function(){return h(this)?d(this):this},t.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0,s=0;s<=e;s++){var o=i+(65535&this.i(s))+(65535&t.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(t.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(t){if(u(this)||u(t))return a;if(h(this))return h(t)?d(this).j(d(t)):d(d(this).j(t));if(h(t))return d(this.j(d(t)));if(0>this.l(c)&&0>t.l(c))return o(this.m()*t.m());for(var e=this.g.length+t.g.length,n=[],i=0;i<2*e;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<t.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),g=t.i(s)>>>16,m=65535&t.i(s);n[2*i+2*s]+=f*m,p(n,2*i+2*s),n[2*i+2*s+1]+=l*m,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*g,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,p(n,2*i+2*s+2)}for(i=0;i<e;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=e;i<2*e;i++)n[i]=0;return new r(n,0)},t.A=function(t){return m(this,t).h},t.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)&t.i(i);return new r(n,this.h&t.h)},t.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)|t.i(i);return new r(n,this.h|t.h)},t.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],i=0;i<e;i++)n[i]=this.i(i)^t.i(i);return new r(n,this.h^t.h)},e.prototype.digest=e.prototype.v,e.prototype.reset=e.prototype.s,e.prototype.update=e.prototype.u,Ph=Mh.Md5=e,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function t(e,n){if(0==e.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==e.charAt(0))return d(t(e.substring(1),n));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<e.length;s+=8){var l=Math.min(8,e.length-s),c=parseInt(e.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Ih=Mh.Integer=r}).apply("undefined"!==typeof Nh?Nh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Dh,Ah,Oh,Rh,Lh,jh,Fh,Vh,Uh,zh="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Bh={};(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){return t==Array.prototype||t==Object.prototype||(t[e]=n.value),t};var n=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof zh&&zh];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,r){if(r)t:{var i=n;t=t.split(".");for(var s=0;s<t.length-1;s++){var o=t[s];if(!(o in i))break t;i=i[o]}(r=r(s=i[t=t[t.length-1]]))!=s&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(t){return t||function(){return function(t,e){t instanceof String&&(t+="");var n=0,r=!1,i={next:function(){if(!r&&n<t.length){var i=n++;return{value:e(i,t[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(t,e){return e}))}}));var r=r||{},i=this||self;function s(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function o(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function a(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function c(t,e,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function h(t,e){function n(){}n.prototype=e.prototype,t.aa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Qb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function d(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function f(t,e){for(let n=1;n<arguments.length;n++){const e=arguments[n];if(s(e)){const n=t.length||0,r=e.length||0;t.length=n+r;for(let i=0;i<r;i++)t[n+i]=e[i]}else t.push(e)}}function p(t){return/^[\s\xa0]*$/.test(t)}function g(){var t=i.navigator;return t&&(t=t.userAgent)?t:""}function m(t){return m[" "](t),t}m[" "]=function(){};var y=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function v(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function b(t){const e={};for(const n in t)e[n]=t[n];return e}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<w.length;e++)n=w[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function k(t){i.setTimeout((()=>{throw t}),0)}function S(){var t=P;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var E=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new T),(t=>t.reset()));class T{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let C,I=!1,P=new class{constructor(){this.h=this.g=null}add(t,e){const n=E.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const t=i.Promise.resolve(void 0);C=()=>{t.then(M)}};var M=()=>{for(var t;t=S();){try{t.h.call(t.g)}catch(n){k(n)}var e=E;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}I=!1};function D(){this.s=this.s,this.C=this.C}function A(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var O=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const t=()=>{};i.addEventListener("test",t,e),i.removeEventListener("test",t,e)}catch(n){}return t}();function R(t,e){if(A.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(y){t:{try{m(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:L[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&R.aa.h.call(this)}}h(R,A);var L={2:"touch",3:"pen",4:"mouse"};R.prototype.h=function(){R.aa.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var j="closure_listenable_"+(1e6*Math.random()|0),F=0;function V(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function U(t){t.da=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function z(t){this.src=t,this.g={},this.h=0}function B(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Array.prototype.indexOf.call(i,e,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(U(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function H(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.da&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=H(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new V(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var W="closure_lm_"+(1e6*Math.random()|0),q={};function K(t,e,n,r,i){if(r&&r.once)return Y(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)K(t,e[s],n,r,i);return null}return n=et(n),t&&t[j]?t.K(e,n,o(r)?!!r.capture:!!r,i):G(t,e,n,!1,r,i)}function G(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(t);if(l||(t[W]=l=new z(t)),(n=l.add(e,n,r,a,s)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}const e=J;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)O||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent($(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Y(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)Y(t,e[s],n,r,i);return null}return n=et(n),t&&t[j]?t.L(e,n,o(r)?!!r.capture:!!r,i):G(t,e,n,!0,r,i)}function Q(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Q(t,e[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=et(n),t&&t[j]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=H(s=t.g[e],n,r,i))&&(U(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--)))):t&&(t=Z(t))&&(e=t.g[e.toString()],t=-1,e&&(t=H(e,n,r,i)),(n=-1<t?e[t]:null)&&X(n))}function X(t){if("number"!==typeof t&&t&&!t.da){var e=t.src;if(e&&e[j])B(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Z(e))?(B(n,t),0==n.h&&(n.src=null,e[W]=null)):U(t)}}}function $(t){return t in q?q[t]:q[t]="on"+t}function J(t,e){if(t.da)t=!0;else{e=new R(e,this);var n=t.listener,r=t.ha||t.src;t.fa&&X(t),t=n.call(r,e)}return t}function Z(t){return(t=t[W])instanceof z?t:null}var tt="__closure_events_fn_"+(1e9*Math.random()>>>0);function et(t){return"function"===typeof t?t:(t[tt]||(t[tt]=function(e){return t.handleEvent(e)}),t[tt])}function nt(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function rt(t,e){var n,r=t.F;if(r)for(n=[];r;r=r.F)n.push(r);if(t=t.M,r=e.type||e,"string"===typeof e)e=new A(e,t);else if(e instanceof A)e.target=e.target||t;else{var i=e;x(e=new A(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=it(o,r,!0,e)&&i}if(i=it(o=e.g=t,r,!0,e)&&i,i=it(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=it(o=e.g=n[s],r,!1,e)&&i}function it(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&B(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function st(t,e,n){if("function"===typeof t)n&&(t=c(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=c(t.handleEvent,t)}return 2147483647<Number(e)?-1:i.setTimeout(t,e||0)}function ot(t){t.g=st((()=>{t.g=null,t.i&&(t.i=!1,ot(t))}),t.l);const e=t.h;t.h=null,t.m.apply(null,e)}h(nt,D),nt.prototype[j]=!0,nt.prototype.removeEventListener=function(t,e,n,r){Q(this,t,e,n,r)},nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)U(n[r]);delete e.g[t],e.h--}}this.F=null},nt.prototype.K=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},nt.prototype.L=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};class at extends D{constructor(t,e){super(),this.m=t,this.l=e,this.h=null,this.i=!1,this.g=null}j(t){this.h=arguments,this.g?this.i=!0:ot(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lt(t){D.call(this),this.h=t,this.g={}}h(lt,D);var ct=[];function ut(t){v(t.g,(function(t,e){this.g.hasOwnProperty(e)&&X(t)}),t),t.g={}}lt.prototype.N=function(){lt.aa.N.call(this),ut(this)},lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ht=i.JSON.stringify,dt=i.JSON.parse,ft=class{stringify(t){return i.JSON.stringify(t,void 0)}parse(t){return i.JSON.parse(t,void 0)}};function pt(){}function gt(t){return t.h||(t.h=t.i())}function mt(){}pt.prototype.h=null;var yt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vt(){A.call(this,"d")}function bt(){A.call(this,"c")}h(vt,A),h(bt,A);var wt={},xt=null;function _t(){return xt=xt||new nt}function kt(t){A.call(this,wt.La,t)}function St(t){const e=_t();rt(e,new kt(e))}function Et(t,e){A.call(this,wt.STAT_EVENT,t),this.stat=e}function Tt(t){const e=_t();rt(e,new Et(e,t))}function Ct(t,e){A.call(this,wt.Ma,t),this.size=e}function It(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){t()}),e)}function Pt(){this.g=!0}function Nt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return ht(n)}catch(a){return e}}(t,n)+(r?" "+r:"")}))}wt.La="serverreachability",h(kt,A),wt.STAT_EVENT="statevent",h(Et,A),wt.Ma="timingevent",h(Ct,A),Pt.prototype.xa=function(){this.g=!1},Pt.prototype.info=function(){};var Mt,Dt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},At={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ot(){}function Rt(t,e,n,r){this.j=t,this.i=e,this.l=n,this.R=r||1,this.U=new lt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lt}function Lt(){this.i=null,this.g="",this.h=!1}h(Ot,pt),Ot.prototype.g=function(){return new XMLHttpRequest},Ot.prototype.i=function(){return{}},Mt=new Ot;var jt={},Ft={};function Vt(t,e,n){t.L=1,t.v=he(oe(e)),t.m=n,t.P=!0,Ut(t,null)}function Ut(t,e){t.F=Date.now(),Ht(t),t.A=oe(t.v);var n=t.A,r=t.R;Array.isArray(r)||(r=[String(r)]),Ee(n.i,"t",r),t.C=0,n=t.j.J,t.h=new Lt,t.g=fn(t.j,n?e:null,!t.m),0<t.O&&(t.M=new at(c(t.Y,t,t.g),t.O)),e=t.U,n=t.g,r=t.ca;var i="readystatechange";Array.isArray(i)||(i&&(ct[0]=i.toString()),i=ct);for(var s=0;s<i.length;s++){var o=K(n,i[s],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}e=t.H?b(t.H):{},t.m?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.m,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),St(),function(t,e,n,r,i,s){t.info((function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o}))}(t.i,t.u,t.A,t.l,t.R,t.m)}function zt(t){return!!t.g&&("GET"==t.u&&2!=t.L&&t.j.Ca)}function Bt(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Ft:(n=Number(e.substring(n,r)),isNaN(n)?jt:(r+=1)+n>e.length?Ft:(e=e.slice(r,r+n),t.C=r+n,e))}function Ht(t){t.S=Date.now()+t.I,Wt(t,t.I)}function Wt(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=It(c(t.ba,t),e)}function qt(t){t.B&&(i.clearTimeout(t.B),t.B=null)}function Kt(t){0==t.j.G||t.J||ln(t.j,t)}function Gt(t){qt(t);var e=t.M;e&&"function"==typeof e.ma&&e.ma(),t.M=null,ut(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.ma())}function Yt(t,e){try{var n=t.j;if(0!=n.G&&(n.g==t||Zt(n.h,t)))if(!t.K&&Zt(n.h,t)&&3==n.G){try{var r=n.Da.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;an(n),Xe(n)}rn(n),Tt(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=It(c(n.Za,n),6e3));if(1>=Jt(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((t.K||n.g==t)&&an(n),!p(e))for(i=n.Da.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const e=c[3];null!=e&&(n.la=e,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.h;s.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(te(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.ya=t,ue(r.I,r.D,t))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-t.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=t;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){ee(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(qt(a),Ht(a)),r.g=o}else nn(r);0<n.i.length&&Je(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qe(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}St()}catch(u){}}Rt.prototype.ca=function(t){t=t.target;const e=this.M;e&&3==qe(t)?e.j():this.Y(t)},Rt.prototype.Y=function(t){try{if(t==this.g)t:{const d=qe(this.g);var e=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ke(this.g)))){this.J||4!=d||7==e||St(),qt(this);var n=this.g.Z();this.X=n;e:if(zt(this)){var r=Ke(this.g);t="";var s=r.length,o=4==qe(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Gt(this),Kt(this);var a="";break e}this.h.i=new i.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:!(o&&e==s-1)});r.length=0,this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(t,e,n,r,i,s,o){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){e:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break e}}u=null}if(!(n=u)){this.o=!1,this.s=3,Tt(12),Gt(this),Kt(this);break t}Nt(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yt(this,n)}if(this.P){let t;for(n=!0;!this.J&&this.C<a.length;){if(t=Bt(this,a),t==Ft){4==d&&(this.s=4,Tt(14),n=!1),Nt(this.i,this.l,null,"[Incomplete Response]");break}if(t==jt){this.s=4,Tt(15),Nt(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Nt(this.i,this.l,t,null),Yt(this,t)}if(zt(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Tt(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Tt(11))}}else Nt(this.i,this.l,a,"[Invalid Chunked Response]"),Gt(this),Kt(this)}else Nt(this.i,this.l,a,null),Yt(this,a);4==d&&Gt(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ht(this)))}else(function(t){const e={};t=(t.g&&2<=qe(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(p(t[r]))continue;var n=_(t[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,(function(t){return t.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Gt(this),Kt(this)}}}catch(d){}},Rt.prototype.cancel=function(){this.J=!0,Gt(this)},Rt.prototype.ba=function(){this.B=null;const t=Date.now();0<=t-this.S?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.i,this.A),2!=this.L&&(St(),Tt(17)),Gt(this),this.s=2,Kt(this)):Wt(this,this.S-t)};var Qt=class{constructor(t,e){this.g=t,this.map=e}};function Xt(t){this.l=t||10,i.PerformanceNavigationTiming?t=0<(t=i.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $t(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Jt(t){return t.h?1:t.g?t.g.size:0}function Zt(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function te(t,e){t.g?t.g.add(e):t.h=e}function ee(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function ne(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return d(t.i)}function re(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(s(t)||"string"===typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.na&&"function"==typeof t.na)return t.na();if(!t.V||"function"!=typeof t.V){if("undefined"!==typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!==typeof Set&&t instanceof Set)){if(s(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.V&&"function"==typeof t.V)return t.V();if("undefined"!==typeof Map&&t instanceof Map||"undefined"!==typeof Set&&t instanceof Set)return Array.from(t.values());if("string"===typeof t)return t.split("");if(s(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}Xt.prototype.cancel=function(){if(this.i=ne(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var ie=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function se(t){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,t instanceof se){this.h=t.h,ae(this,t.j),this.o=t.o,this.g=t.g,le(this,t.s),this.l=t.l;var e=t.i,n=new xe;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),ce(this,n),this.m=t.m}else t&&(e=String(t).match(ie))?(this.h=!1,ae(this,e[1]||"",!0),this.o=de(e[2]||""),this.g=de(e[3]||"",!0),le(this,e[4]),this.l=de(e[5]||"",!0),ce(this,e[6]||"",!0),this.m=de(e[7]||"")):(this.h=!1,this.i=new xe(null,this.h))}function oe(t){return new se(t)}function ae(t,e,n){t.j=n?de(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function le(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.s=e}else t.s=null}function ce(t,e,n){e instanceof xe?(t.i=e,function(t,e){e&&!t.j&&(_e(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(ke(this,e),Ee(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=fe(e,be)),t.i=new xe(e,t.h))}function ue(t,e,n){t.i.set(e,n)}function he(t){return ue(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function de(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,pe),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pe(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}se.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fe(e,me,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.o)&&t.push(fe(e,me,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(fe(n,"/"==n.charAt(0)?ve:ye,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.m)&&t.push("#",fe(n,we)),t.join("")};var ge,me=/[#\/\?@]/g,ye=/[#\?:]/g,ve=/[#\?]/g,be=/[#\?@]/g,we=/#/g;function xe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _e(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function ke(t,e){_e(t),e=Te(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function Se(t,e){return _e(t),e=Te(t,e),t.g.has(e)}function Ee(t,e,n){ke(t,e),0<n.length&&(t.i=null,t.g.set(Te(t,e),d(n)),t.h+=n.length)}function Te(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Ce(t,e,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ie(){this.g=new ft}function Pe(t,e,n){const r=n||"";try{re(t,(function(t,n){let i=t;o(t)&&(i=ht(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(yD){throw e.push(r+"type="+encodeURIComponent("_badmap")),yD}}function Ne(t){this.l=t.Ub||null,this.j=t.eb||!1}function Me(t,e){nt.call(this),this.D=t,this.o=e,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function De(t){t.j.read().then(t.Pa.bind(t)).catch(t.ga.bind(t))}function Ae(t){t.readyState=4,t.l=null,t.j=null,t.v=null,Oe(t)}function Oe(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Re(t){let e="";return v(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Le(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=Re(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):ue(t,e,n))}function je(t){nt.call(this),this.headers=new Map,this.o=t||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=xe.prototype).add=function(t,e){_e(this),this.i=null,t=Te(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},t.forEach=function(t,e){_e(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},t.na=function(){_e(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},t.V=function(t){_e(this);let e=[];if("string"===typeof t)Se(this,t)&&(e=e.concat(this.g.get(Te(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},t.set=function(t,e){return _e(this),this.i=null,Se(this,t=Te(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")},h(Ne,pt),Ne.prototype.g=function(){return new Me(this.l,this.j)},Ne.prototype.i=(ge={},function(){return ge}),h(Me,nt),(t=Me.prototype).open=function(t,e){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=t,this.A=e,this.readyState=1,Oe(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.u,method:this.B,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||i).fetch(new Request(this.A,e)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ae(this)),this.readyState=0},t.Sa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Oe(this)),this.g&&(this.readyState=3,Oe(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;De(this)}else t.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(t){if(this.g){if(this.o&&t.value)this.response.push(t.value);else if(!this.o){var e=t.value?t.value:new Uint8Array(0);(e=this.v.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ae(this):Oe(this),3==this.readyState&&De(this)}},t.Ra=function(t){this.g&&(this.response=this.responseText=t,Ae(this))},t.Qa=function(t){this.g&&(this.response=t,Ae(this))},t.ga=function(){this.g&&Ae(this)},t.setRequestHeader=function(t,e){this.u.append(t,e)},t.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Me.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}}),h(je,nt);var Fe=/^https?$/i,Ve=["POST","PUT"];function Ue(t,e){t.h=!1,t.g&&(t.j=!0,t.g.abort(),t.j=!1),t.l=e,t.m=5,ze(t),He(t)}function ze(t){t.A||(t.A=!0,rt(t,"complete"),rt(t,"error"))}function Be(t){if(t.h&&"undefined"!=typeof r&&(!t.v[1]||4!=qe(t)||2!=t.Z()))if(t.u&&4==qe(t))st(t.Ea,0,t);else if(rt(t,"readystatechange"),4==qe(t)){t.h=!1;try{const r=t.Z();t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var s;if(s=0===r){var o=String(t.D).match(ie)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!Fe.test(o?o.toLowerCase():"")}n=s}if(n)rt(t,"complete"),rt(t,"success");else{t.m=6;try{var a=2<qe(t)?t.g.statusText:""}catch(l){a=""}t.l=a+" ["+t.Z()+"]",ze(t)}}finally{He(t)}}}function He(t,e){if(t.g){We(t);const n=t.g,r=t.v[0]?()=>{}:null;t.g=null,t.v=null,e||rt(t,"ready");try{n.onreadystatechange=r}catch(yD){}}}function We(t){t.I&&(i.clearTimeout(t.I),t.I=null)}function qe(t){return t.g?t.g.readyState:0}function Ke(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.H){case"":case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(qh){return null}}function Ge(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ye(t){this.Aa=0,this.i=[],this.j=new Pt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ge("failFast",!1,t),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ge("baseRetryDelayMs",5e3,t),this.cb=Ge("retryDelaySeedMs",1e4,t),this.Wa=Ge("forwardChannelMaxRetries",2,t),this.wa=Ge("forwardChannelRequestTimeoutMs",2e4,t),this.pa=t&&t.xmlHttpFactory||void 0,this.Xa=t&&t.Tb||void 0,this.Ca=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.h=new Xt(t&&t.concurrentRequestLimit),this.Da=new Ie,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=t&&t.Rb||!1,t&&t.xa&&this.j.xa(),t&&t.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&t&&t.detectBufferingProxy||!1,this.ja=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.ja=t.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qe(t){if($e(t),3==t.G){var e=t.U++,n=oe(t.I);if(ue(n,"SID",t.K),ue(n,"RID",e),ue(n,"TYPE","terminate"),tn(t,n),(e=new Rt(t,t.j,e)).L=2,e.v=he(oe(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(e.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=e.v,n=!0),n||(e.g=fn(e.j,null),e.g.ea(e.v)),e.F=Date.now(),Ht(e)}hn(t)}function Xe(t){t.g&&(sn(t),t.g.cancel(),t.g=null)}function $e(t){Xe(t),t.u&&(i.clearTimeout(t.u),t.u=null),an(t),t.h.cancel(),t.s&&("number"===typeof t.s&&i.clearTimeout(t.s),t.s=null)}function Je(t){if(!$t(t.h)&&!t.s){t.s=!0;var e=t.Ga;C||N(),I||(C(),I=!0),P.add(e,t),t.B=0}}function Ze(t,e){var n;n=e?e.l:t.U++;const r=oe(t.I);ue(r,"SID",t.K),ue(r,"RID",n),ue(r,"AID",t.T),tn(t,r),t.m&&t.o&&Le(r,t.m,t.o),n=new Rt(t,t.j,n,t.B+1),null===t.m&&(n.H=t.o),e&&(t.i=e.D.concat(t.i)),e=en(t,n,1e3),n.I=Math.round(.5*t.wa)+Math.round(.5*t.wa*Math.random()),te(t.h,n),Vt(n,r,e)}function tn(t,e){t.H&&v(t.H,(function(t,n){ue(e,n,t)})),t.l&&re({},(function(t,n){ue(e,n,t)}))}function en(t,e,n){n=Math.min(t.i.length,n);var r=t.l?c(t.l.Na,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].g,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=e,0>n)e=Math.max(0,i[a].g-100),o=!1;else try{Pe(l,t,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function nn(t){if(!t.g&&!t.u){t.Y=1;var e=t.Fa;C||N(),I||(C(),I=!0),P.add(e,t),t.v=0}}function rn(t){return!(t.g||t.u||3<=t.v)&&(t.Y++,t.u=It(c(t.Fa,t),cn(t,t.v)),t.v++,!0)}function sn(t){null!=t.A&&(i.clearTimeout(t.A),t.A=null)}function on(t){t.g=new Rt(t,t.j,"rpc",t.Y),null===t.m&&(t.g.H=t.o),t.g.O=0;var e=oe(t.qa);ue(e,"RID","rpc"),ue(e,"SID",t.K),ue(e,"AID",t.T),ue(e,"CI",t.F?"0":"1"),!t.F&&t.ja&&ue(e,"TO",t.ja),ue(e,"TYPE","xmlhttp"),tn(t,e),t.m&&t.o&&Le(e,t.m,t.o),t.L&&(t.g.I=t.L);var n=t.g;t=t.ia,n.L=1,n.v=he(oe(e)),n.m=null,n.P=!0,Ut(n,t)}function an(t){null!=t.C&&(i.clearTimeout(t.C),t.C=null)}function ln(t,e){var n=null;if(t.g==e){an(t),sn(t),t.g=null;var r=2}else{if(!Zt(t.h,e))return;n=e.D,ee(t.h,e),r=1}if(0!=t.G)if(e.o)if(1==r){n=e.m?e.m.length:0,e=Date.now()-e.F;var i=t.B;rt(r=_t(),new Ct(r,n)),Je(t)}else nn(t);else if(3==(i=e.s)||0==i&&0<e.X||!(1==r&&function(t,e){return!(Jt(t.h)>=t.h.j-(t.s?1:0))&&(t.s?(t.i=e.D.concat(t.i),!0):!(1==t.G||2==t.G||t.B>=(t.Va?0:t.Wa))&&(t.s=It(c(t.Ga,t,e),cn(t,t.B)),t.B++,!0))}(t,e)||2==r&&rn(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:un(t,5);break;case 4:un(t,10);break;case 3:un(t,6);break;default:un(t,2)}}function cn(t,e){let n=t.Ta+Math.floor(Math.random()*t.cb);return t.isActive()||(n*=2),n*e}function un(t,e){if(t.j.info("Error code "+e),2==e){var n=c(t.fb,t),r=t.Xa;const e=!r;r=new se(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ae(r,"https"),he(r),e?function(t,e){const n=new Pt;if(i.Image){const r=new Image;r.onload=u(Ce,n,"TestLoadImage: loaded",!0,e,r),r.onerror=u(Ce,n,"TestLoadImage: error",!1,e,r),r.onabort=u(Ce,n,"TestLoadImage: abort",!1,e,r),r.ontimeout=u(Ce,n,"TestLoadImage: timeout",!1,e,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(r.toString(),n):function(t,e){new Pt;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ce(0,0,!1,e)}),1e4);fetch(t,{signal:n.signal}).then((t=>{clearTimeout(r),t.ok?Ce(0,0,!0,e):Ce(0,0,!1,e)})).catch((()=>{clearTimeout(r),Ce(0,0,!1,e)}))}(r.toString(),n)}else Tt(2);t.G=0,t.l&&t.l.sa(e),hn(t),$e(t)}function hn(t){if(t.G=0,t.ka=[],t.l){const e=ne(t.h);0==e.length&&0==t.i.length||(f(t.ka,e),f(t.ka,t.i),t.h.i.length=0,d(t.i),t.i.length=0),t.l.ra()}}function dn(t,e,n){var r=n instanceof se?oe(n):new se(n);if(""!=r.g)e&&(r.g=e+"."+r.g),le(r,r.s);else{var s=i.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var o=new se(null);r&&ae(o,r),e&&(o.g=e),s&&le(o,s),n&&(o.l=n),r=o}return n=t.D,e=t.ya,n&&e&&ue(r,n,e),ue(r,"VER",t.la),tn(t,r),r}function fn(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=t.Ca&&!t.pa?new je(new Ne({eb:n})):new je(t.pa)).Ha(t.J),e}function pn(){}function gn(){}function mn(t,e){nt.call(this),this.g=new Ye(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.o=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.va&&(t?t["X-WebChannel-Client-Profile"]=e.va:t={"X-WebChannel-Client-Profile":e.va}),this.g.S=t,(t=e&&e.Sb)&&!p(t)&&(this.g.m=t),this.v=e&&e.supportsCrossDomainXhr||!1,this.u=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!p(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new bn(this)}function yn(t){vt.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function vn(){bt.call(this),this.status=1}function bn(t){this.g=t}(t=je.prototype).Ha=function(t){this.J=t},t.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+t);e=e?e.toUpperCase():"GET",this.D=t,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mt.g(),this.v=this.o?gt(this.o):gt(Mt),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(e,String(t),!0),this.B=!1}catch(o){return void Ue(this,o)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),s=i.FormData&&t instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ve,e,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{We(this),this.u=!0,this.g.send(t),this.u=!1}catch(o){Ue(this,o)}},t.abort=function(t){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=t||7,rt(this,"complete"),rt(this,"abort"),He(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),He(this,!0)),je.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Be(this):this.bb())},t.bb=function(){Be(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<qe(this)?this.g.status:-1}catch(ge){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(ge){return""}},t.Oa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),dt(e)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(t=Ye.prototype).la=8,t.G=1,t.connect=function(t,e,n,r){Tt(0),this.W=t,this.H=e||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Je(this)},t.Ga=function(t){if(this.s)if(this.s=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Rt(this,this.j,t);let s=this.o;if(this.S&&(s?(s=b(s),x(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=en(this,i,e),ue(n=oe(this.I),"RID",t),ue(n,"CVER",22),this.D&&ue(n,"X-HTTP-Session-Id",this.D),tn(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(Re(s)))+"&"+e:this.m&&Le(n,this.m,s)),te(this.h,i),this.Ua&&ue(n,"TYPE","init"),this.P?(ue(n,"$req",e),ue(n,"SID","null"),i.T=!0,Vt(i,n,null)):Vt(i,n,e),this.G=2}}else 3==this.G&&(t?Ze(this,t):0==this.i.length||$t(this.h)||Ze(this))},t.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var t=2*this.R;this.j.info("BP detection timer enabled: "+t),this.A=It(c(this.ab,this),t)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),Xe(this),on(this))},t.Za=function(){null!=this.C&&(this.C=null,Xe(this),rn(this),Tt(19))},t.fb=function(t){t?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=pn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},gn.prototype.g=function(t,e){return new mn(t,e)},h(mn,nt),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qe(this.g)},mn.prototype.o=function(t){var e=this.g;if("string"===typeof t){var n={};n.__data__=t,t=n}else this.u&&((n={}).__data__=ht(t),t=n);e.i.push(new Qt(e.Ya++,t)),3==e.G&&Je(e)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qe(this.g),delete this.g,mn.aa.N.call(this)},h(yn,vt),h(vn,bt),h(bn,pn),bn.prototype.ua=function(){rt(this.g,"a")},bn.prototype.ta=function(t){rt(this.g,new yn(t))},bn.prototype.sa=function(t){rt(this.g,new vn)},bn.prototype.ra=function(){rt(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Uh=Bh.createWebChannelTransport=function(){return new gn},Vh=Bh.getStatEventTarget=function(){return _t()},Fh=Bh.Event=wt,jh=Bh.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Dt.NO_ERROR=0,Dt.TIMEOUT=8,Dt.HTTP_ERROR=6,Lh=Bh.ErrorCode=Dt,At.COMPLETE="complete",Rh=Bh.EventType=At,mt.EventType=yt,yt.OPEN="a",yt.CLOSE="b",yt.ERROR="c",yt.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Oh=Bh.WebChannel=mt,Ah=Bh.FetchXmlHttpFactory=Ne,je.prototype.listenOnce=je.prototype.L,je.prototype.getLastError=je.prototype.Ka,je.prototype.getLastErrorCode=je.prototype.Ba,je.prototype.getStatus=je.prototype.Z,je.prototype.getResponseJson=je.prototype.Oa,je.prototype.getResponseText=je.prototype.oa,je.prototype.send=je.prototype.ea,je.prototype.setWithCredentials=je.prototype.Ha,Dh=Bh.XhrIo=je}).apply("undefined"!==typeof zh?zh:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Hh="@firebase/firestore";class Wh{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Wh.UNAUTHENTICATED=new Wh(null),Wh.GOOGLE_CREDENTIALS=new Wh("google-credentials-uid"),Wh.FIRST_PARTY=new Wh("first-party-uid"),Wh.MOCK_USER=new Wh("mock-user");let qh="10.12.1";const Kh=new gs("@firebase/firestore");function Gh(){return Kh.logLevel}function Yh(t){if(Kh.logLevel<=us.DEBUG){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map($h);Kh.debug("Firestore (".concat(qh,"): ").concat(t),...i)}}function Qh(t){if(Kh.logLevel<=us.ERROR){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map($h);Kh.error("Firestore (".concat(qh,"): ").concat(t),...i)}}function Xh(t){if(Kh.logLevel<=us.WARN){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];const i=n.map($h);Kh.warn("Firestore (".concat(qh,"): ").concat(t),...i)}}function $h(t){if("string"==typeof t)return t;try{return function(t){return JSON.stringify(t)}(t)}catch(e){return t}}function Jh(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const e="FIRESTORE (".concat(qh,") INTERNAL ASSERTION FAILED: ")+t;throw Qh(e),new Error(e)}function Zh(t,e){t||Jh()}function td(t,e){return t}const ed={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nd extends Hi{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class rd{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class id{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))}}class sd{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Wh.UNAUTHENTICATED)))}shutdown(){}}class od{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class ad{constructor(t){this.t=t,this.currentUser=Wh.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new rd;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rd,t.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},o=t=>{Yh("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((t=>o(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?o(t):(Yh("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rd)}}),0),s()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Yh("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Zh("string"==typeof e.accessToken),new id(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Zh(null===t||"string"==typeof t),new Wh(t)}}class ld{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Wh.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class cd{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new ld(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable((()=>e(Wh.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ud{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hd{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){const n=t=>{null!=t.error&&Yh("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(t.error.message));const n=t.token!==this.R;return this.R=t.token,Yh("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Yh("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.A.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.A.getImmediate({optional:!0});t?r(t):Yh("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Zh("string"==typeof t.token),this.R=t.token,new ud(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function dd(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class fd{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=dd(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%62))}return n}}function pd(t,e){return t<e?-1:t>e?1:0}function gd(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class md{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new nd(ed.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new nd(ed.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new nd(ed.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new nd(ed.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return md.fromMillis(Date.now())}static fromDate(t){return md.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new md(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?pd(this.nanoseconds,t.nanoseconds):pd(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class yd{constructor(t){this.timestamp=t}static fromTimestamp(t){return new yd(t)}static min(){return new yd(new md(0,0))}static max(){return new yd(new md(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class vd{constructor(t,e,n){void 0===e?e=0:e>t.length&&Jh(),void 0===n?n=t.length-e:n>t.length-e&&Jh(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===vd.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof vd?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class bd extends vd{construct(t,e,n){return new bd(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const t=[];for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new nd(ed.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));t.push(...i.split("/").filter((t=>t.length>0)))}return new bd(t)}static emptyPath(){return new bd([])}}const wd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xd extends vd{construct(t,e,n){return new xd(t,e,n)}static isValidIdentifier(t){return wd.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xd.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xd(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new nd(ed.INVALID_ARGUMENT,"Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new nd(ed.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new nd(ed.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new nd(ed.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new xd(e)}static emptyPath(){return new xd([])}}class _d{constructor(t){this.path=t}static fromPath(t){return new _d(bd.fromString(t))}static fromName(t){return new _d(bd.fromString(t).popFirst(5))}static empty(){return new _d(bd.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===bd.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return bd.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _d(new bd(t.slice()))}}class kd{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}}kd.UNKNOWN_ID=-1;function Sd(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=yd.fromTimestamp(1e9===r?new md(n+1,0):new md(n,r));return new Td(i,_d.empty(),e)}function Ed(t){return new Td(t.readTime,t.key,-1)}class Td{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new Td(yd.min(),_d.empty(),-1)}static max(){return new Td(yd.max(),_d.empty(),-1)}}function Cd(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=_d.comparator(t.documentKey,e.documentKey),0!==n?n:pd(t.largestBatchId,e.largestBatchId))}const Id="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pd{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Nd(t){if(t.code!==ed.FAILED_PRECONDITION||t.message!==Id)throw t;Yh("LocalStore","Unexpectedly lost primary lease")}class Md{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Jh(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Md(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof Md?e:Md.resolve(e)}catch(t){return Md.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):Md.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):Md.reject(e)}static resolve(t){return new Md(((e,n)=>{e(t)}))}static reject(t){return new Md(((e,n)=>{n(t)}))}static waitFor(t){return new Md(((e,n)=>{let r=0,i=0,s=!1;t.forEach((t=>{++r,t.next((()=>{++i,s&&i===r&&e()}),(t=>n(t)))})),s=!0,i===r&&e()}))}static or(t){let e=Md.resolve(!1);for(const n of t)e=e.next((t=>t?Md.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new Md(((n,r)=>{const i=t.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;e(t[l]).next((t=>{s[l]=t,++o,o===i&&n(s)}),(t=>r(t)))}}))}static doWhile(t,e){return new Md(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function Dd(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ad(t){return"IndexedDbTransactionError"===t.name}class Od{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ie(t),this.se=t=>e.writeSequenceNumber(t))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}function Rd(t){return null==t}function Ld(t){return 0===t&&1/t==-1/0}function jd(t){return"number"==typeof t&&Number.isInteger(t)&&!Ld(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}Od.oe=-1;const Fd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Vd=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Ud=Vd;function zd(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Bd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Hd(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Wd{constructor(t,e){this.comparator=t,this.root=e||Kd.EMPTY}insert(t,e){return new Wd(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Kd.BLACK,null,null))}remove(t){return new Wd(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Kd.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push("".concat(e,":").concat(n)),!1))),"{".concat(t.join(", "),"}")}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new qd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new qd(this.root,t,this.comparator,!1)}getReverseIterator(){return new qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new qd(this.root,t,this.comparator,!0)}}class qd{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Kd{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Kd.RED,this.left=null!=r?r:Kd.EMPTY,this.right=null!=i?i:Kd.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Kd(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Kd.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Kd.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Kd.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Kd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Jh();if(this.right.isRed())throw Jh();const t=this.left.check();if(t!==this.right.check())throw Jh();return t+(this.isRed()?0:1)}}Kd.EMPTY=null,Kd.RED=!0,Kd.BLACK=!1,Kd.EMPTY=new class{constructor(){this.size=0}get key(){throw Jh()}get value(){throw Jh()}get color(){throw Jh()}get left(){throw Jh()}get right(){throw Jh()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Kd(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Gd{constructor(t){this.comparator=t,this.data=new Wd(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Yd(this.data.getIterator())}getIteratorFrom(t){return new Yd(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Gd))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Gd(this.comparator);return e.data=t,e}}class Yd{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Qd{constructor(t){this.fields=t,t.sort(xd.comparator)}static empty(){return new Qd([])}unionWith(t){let e=new Gd(xd.comparator);for(const n of this.fields)e=e.add(n);for(const n of t)e=e.add(n);return new Qd(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return gd(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class Xd extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class $d{constructor(t){this.binaryString=t}static fromBase64String(t){const e=function(t){try{return atob(t)}catch(t){throw"undefined"!=typeof DOMException&&t instanceof DOMException?new Xd("Invalid base64 string: "+t):t}}(t);return new $d(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new $d(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return pd(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}$d.EMPTY_BYTE_STRING=new $d("");const Jd=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zd(t){if(Zh(!!t),"string"==typeof t){let e=0;const n=Jd.exec(t);if(Zh(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:tf(t.seconds),nanos:tf(t.nanos)}}function tf(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ef(t){return"string"==typeof t?$d.fromBase64String(t):$d.fromUint8Array(t)}function nf(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function rf(t){const e=t.mapValue.fields.__previous_value__;return nf(e)?rf(e):e}function sf(t){const e=Zd(t.mapValue.fields.__local_write_time__.timestampValue);return new md(e.seconds,e.nanos)}class of{constructor(t,e,n,r,i,s,o,a,l){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class af{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new af("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof af&&t.projectId===this.projectId&&t.database===this.database}}const lf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nf(t)?4:kf(t)?9007199254740991:10:Jh()}function uf(t,e){if(t===e)return!0;const n=cf(t);if(n!==cf(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sf(t).isEqual(sf(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Zd(t.timestampValue),r=Zd(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ef(t.bytesValue).isEqual(ef(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return tf(t.geoPointValue.latitude)===tf(e.geoPointValue.latitude)&&tf(t.geoPointValue.longitude)===tf(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return tf(t.integerValue)===tf(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=tf(t.doubleValue),r=tf(e.doubleValue);return n===r?Ld(n)===Ld(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return gd(t.arrayValue.values||[],e.arrayValue.values||[],uf);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(zd(n)!==zd(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!uf(n[i],r[i])))return!1;return!0}(t,e);default:return Jh()}}function hf(t,e){return void 0!==(t.values||[]).find((t=>uf(t,e)))}function df(t,e){if(t===e)return 0;const n=cf(t),r=cf(e);if(n!==r)return pd(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pd(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=tf(t.integerValue||t.doubleValue),r=tf(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ff(t.timestampValue,e.timestampValue);case 4:return ff(sf(t),sf(e));case 5:return pd(t.stringValue,e.stringValue);case 6:return function(t,e){const n=ef(t),r=ef(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=pd(n[i],r[i]);if(0!==t)return t}return pd(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=pd(tf(t.latitude),tf(e.latitude));return 0!==n?n:pd(tf(t.longitude),tf(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=df(n[i],r[i]);if(t)return t}return pd(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===lf.mapValue&&e===lf.mapValue)return 0;if(t===lf.mapValue)return 1;if(e===lf.mapValue)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=pd(r[o],s[o]);if(0!==t)return t;const e=df(n[r[o]],i[s[o]]);if(0!==e)return e}return pd(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Jh()}}function ff(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return pd(t,e);const n=Zd(t),r=Zd(e),i=pd(n.seconds,r.seconds);return 0!==i?i:pd(n.nanos,r.nanos)}function pf(t){return gf(t)}function gf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Zd(t);return"time(".concat(e.seconds,",").concat(e.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(t){return ef(t).toBase64()}(t.bytesValue):"referenceValue"in t?function(t){return _d.fromName(t).toString()}(t.referenceValue):"geoPointValue"in t?function(t){return"geo(".concat(t.latitude,",").concat(t.longitude,")")}(t.geoPointValue):"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=gf(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+="".concat(i,":").concat(gf(t.fields[i]));return n+"}"}(t.mapValue):Jh()}function mf(t,e){return{referenceValue:"projects/".concat(t.projectId,"/databases/").concat(t.database,"/documents/").concat(e.path.canonicalString())}}function yf(t){return!!t&&"integerValue"in t}function vf(t){return!!t&&"arrayValue"in t}function bf(t){return!!t&&"nullValue"in t}function wf(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xf(t){return!!t&&"mapValue"in t}function _f(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Bd(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=_f(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_f(t.arrayValue.values[n]);return e}return Object.assign({},t)}function kf(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sf{constructor(t){this.value=t}static empty(){return new Sf({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!xf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=_f(e)}setAll(t){let e=xd.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=_f(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());xf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return uf(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];xf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){Bd(e,((e,n)=>t[e]=n));for(const r of n)delete t[r]}clone(){return new Sf(_f(this.value))}}function Ef(t){const e=[];return Bd(t.fields,((t,n)=>{const r=new xd([t]);if(xf(n)){const t=Ef(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Qd(e)}class Tf{constructor(t,e,n,r,i,s,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(t){return new Tf(t,0,yd.min(),yd.min(),yd.min(),Sf.empty(),0)}static newFoundDocument(t,e,n,r){return new Tf(t,1,e,yd.min(),n,r,0)}static newNoDocument(t,e){return new Tf(t,2,e,yd.min(),yd.min(),Sf.empty(),0)}static newUnknownDocument(t,e){return new Tf(t,3,e,yd.min(),yd.min(),Sf.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(yd.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Sf.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Sf.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=yd.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Tf&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tf(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Cf{constructor(t,e){this.position=t,this.inclusive=e}}function If(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?_d.comparator(_d.fromName(o.referenceValue),n.key):df(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Pf(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!uf(t.position[n],e.position[n]))return!1;return!0}class Nf{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=t,this.dir=e}}function Mf(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Df{}class Af extends Df{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.createKeyFieldInFilter(t,e,n):new zf(t,e,n):"array-contains"===e?new qf(t,n):"in"===e?new Kf(t,n):"not-in"===e?new Gf(t,n):"array-contains-any"===e?new Yf(t,n):new Af(t,e,n)}static createKeyFieldInFilter(t,e,n){return"in"===e?new Bf(t,n):new Hf(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.matchesComparison(df(e,this.value)):null!==e&&cf(this.value)===cf(e)&&this.matchesComparison(df(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Jh()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Of extends Df{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new Of(t,e)}matches(t){return Rf(this)?void 0===this.filters.find((e=>!e.matches(t))):void 0!==this.filters.find((e=>e.matches(t)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Rf(t){return"and"===t.op}function Lf(t){return jf(t)&&Rf(t)}function jf(t){for(const e of t.filters)if(e instanceof Of)return!1;return!0}function Ff(t){if(t instanceof Af)return t.field.canonicalString()+t.op.toString()+pf(t.value);if(Lf(t))return t.filters.map((t=>Ff(t))).join(",");{const e=t.filters.map((t=>Ff(t))).join(",");return"".concat(t.op,"(").concat(e,")")}}function Vf(t,e){return t instanceof Af?function(t,e){return e instanceof Af&&t.op===e.op&&t.field.isEqual(e.field)&&uf(t.value,e.value)}(t,e):t instanceof Of?function(t,e){return e instanceof Of&&t.op===e.op&&t.filters.length===e.filters.length&&t.filters.reduce(((t,n,r)=>t&&Vf(n,e.filters[r])),!0)}(t,e):void Jh()}function Uf(t){return t instanceof Af?function(t){return"".concat(t.field.canonicalString()," ").concat(t.op," ").concat(pf(t.value))}(t):t instanceof Of?function(t){return t.op.toString()+" {"+t.getFilters().map(Uf).join(" ,")+"}"}(t):"Filter"}class zf extends Af{constructor(t,e,n){super(t,e,n),this.key=_d.fromName(n.referenceValue)}matches(t){const e=_d.comparator(t.key,this.key);return this.matchesComparison(e)}}class Bf extends Af{constructor(t,e){super(t,"in",e),this.keys=Wf("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class Hf extends Af{constructor(t,e){super(t,"not-in",e),this.keys=Wf("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Wf(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>_d.fromName(t.referenceValue)))}class qf extends Af{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return vf(e)&&hf(e.arrayValue,this.value)}}class Kf extends Af{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&hf(this.value.arrayValue,e)}}class Gf extends Af{constructor(t,e){super(t,"not-in",e)}matches(t){if(hf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!hf(this.value.arrayValue,e)}}class Yf extends Af{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!vf(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>hf(this.value.arrayValue,t)))}}class Qf{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function Xf(t){return new Qf(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function $f(t){const e=td(t);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>Ff(t))).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Rd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>pf(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>pf(t))).join(",")),e.ue=t}return e.ue}function Jf(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Mf(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Vf(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pf(t.startAt,e.startAt)&&Pf(t.endAt,e.endAt)}function Zf(t){return _d.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class tp{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function ep(t,e,n,r,i,s,o,a){return new tp(t,e,n,r,i,s,o,a)}function np(t){return new tp(t)}function rp(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function ip(t){return null!==t.collectionGroup}function sp(t){const e=td(t);if(null===e.ce){e.ce=[];const t=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc",r=function(t){let e=new Gd(xd.comparator);return t.filters.forEach((t=>{t.getFlattenedFilters().forEach((t=>{t.isInequality()&&(e=e.add(t.field))}))})),e}(e);r.forEach((r=>{t.has(r.canonicalString())||r.isKeyField()||e.ce.push(new Nf(r,n))})),t.has(xd.keyField().canonicalString())||e.ce.push(new Nf(xd.keyField(),n))}return e.ce}function op(t){const e=td(t);return e.le||(e.le=ap(e,sp(t))),e.le}function ap(t,e){if("F"===t.limitType)return Xf(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((t=>{const e="desc"===t.dir?"asc":"desc";return new Nf(t.field,e)}));const n=t.endAt?new Cf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Cf(t.startAt.position,t.startAt.inclusive):null;return Xf(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lp(t,e){const n=t.filters.concat([e]);return new tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function cp(t,e,n){return new tp(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function up(t,e){return Jf(op(t),op(e))&&t.limitType===e.limitType}function hp(t){return"".concat($f(op(t)),"|lt:").concat(t.limitType)}function dp(t){return"Query(target=".concat(function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: [".concat(t.filters.map((t=>Uf(t))).join(", "),"]")),Rd(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: [".concat(t.orderBy.map((t=>function(t){return"".concat(t.field.canonicalString()," (").concat(t.dir,")")}(t))).join(", "),"]")),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>pf(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>pf(t))).join(",")),"Target(".concat(e,")")}(op(t)),"; limitType=").concat(t.limitType,")")}function fp(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):_d.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of sp(t))if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=If(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,sp(t),e))&&!(t.endAt&&!function(t,e,n){const r=If(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,sp(t),e))}(t,e)}function pp(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gp(t){return(e,n)=>{let r=!1;for(const i of sp(t)){const t=mp(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function mp(t,e,n){const r=t.field.isKeyField()?_d.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?df(r,i):Jh()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Jh()}}class yp{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){Bd(this.inner,((e,n)=>{for(const[r,i]of n)t(r,i)}))}isEmpty(){return Hd(this.inner)}size(){return this.innerSize}}const vp=new Wd(_d.comparator);function bp(){return vp}const wp=new Wd(_d.comparator);function xp(){let t=wp;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.insert(i.key,i);return t}function _p(t){let e=wp;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function kp(){return Ep()}function Sp(){return Ep()}function Ep(){return new yp((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Tp=new Wd(_d.comparator),Cp=new Gd(_d.comparator);function Ip(){let t=Cp;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of n)t=t.add(i);return t}const Pp=new Gd(pd);function Np(){return Pp}function Mp(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ld(e)?"-0":e}}function Dp(t){return{integerValue:""+t}}function Ap(t,e){return jd(e)?Dp(e):Mp(t,e)}class Op{constructor(){this._=void 0}}function Rp(t,e,n){return t instanceof Fp?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&nf(e)&&(e=rf(e)),e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Vp?Up(t,e):t instanceof zp?Bp(t,e):function(t,e){const n=jp(t,e),r=Wp(n)+Wp(t.Pe);return yf(n)&&yf(t.Pe)?Dp(r):Mp(t.serializer,r)}(t,e)}function Lp(t,e,n){return t instanceof Vp?Up(t,e):t instanceof zp?Bp(t,e):n}function jp(t,e){return t instanceof Hp?function(t){return yf(t)||function(t){return!!t&&"doubleValue"in t}(t)}(e)?e:{integerValue:0}:null}class Fp extends Op{}class Vp extends Op{constructor(t){super(),this.elements=t}}function Up(t,e){const n=qp(e);for(const r of t.elements)n.some((t=>uf(t,r)))||n.push(r);return{arrayValue:{values:n}}}class zp extends Op{constructor(t){super(),this.elements=t}}function Bp(t,e){let n=qp(e);for(const r of t.elements)n=n.filter((t=>!uf(t,r)));return{arrayValue:{values:n}}}class Hp extends Op{constructor(t,e){super(),this.serializer=t,this.Pe=e}}function Wp(t){return tf(t.integerValue||t.doubleValue)}function qp(t){return vf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Kp{constructor(t,e){this.field=t,this.transform=e}}class Gp{constructor(t,e){this.version=t,this.transformResults=e}}class Yp{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Yp}static exists(t){return new Yp(void 0,t)}static updateTime(t){return new Yp(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qp(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Xp{}function $p(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ag(t.key,Yp.none()):new ng(t.key,t.data,Yp.none());{const n=t.data,r=Sf.empty();let i=new Gd(xd.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new rg(t.key,r,new Qd(i.toArray()),Yp.none())}}function Jp(t,e,n){t instanceof ng?function(t,e,n){const r=t.value.clone(),i=sg(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof rg?function(t,e,n){if(!Qp(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=sg(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ig(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function Zp(t,e,n,r){return t instanceof ng?function(t,e,n,r){if(!Qp(t.precondition,e))return n;const i=t.value.clone(),s=og(t.fieldTransforms,r,e);return i.setAll(s),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof rg?function(t,e,n,r){if(!Qp(t.precondition,e))return n;const i=og(t.fieldTransforms,r,e),s=e.data;return s.setAll(ig(t)),s.setAll(i),e.convertToFoundDocument(e.version,s).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return Qp(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function tg(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=jp(r.transform,t||null);null!=i&&(null===n&&(n=Sf.empty()),n.set(r.field,i))}return n||null}function eg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&gd(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Vp&&e instanceof Vp||t instanceof zp&&e instanceof zp?gd(t.elements,e.elements,uf):t instanceof Hp&&e instanceof Hp?uf(t.Pe,e.Pe):t instanceof Fp&&e instanceof Fp}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ng extends Xp{constructor(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class rg extends Xp{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ig(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function sg(t,e,n){const r=new Map;Zh(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Lp(o,a,n[i]))}return r}function og(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Rp(t,s,e))}return r}class ag extends Xp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class lg extends Xp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class cg{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&Jp(e,t,n[r])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=Zp(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=Zp(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=Sp();return this.mutations.forEach((r=>{const i=t.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=e.has(r.key)?null:o;const a=$p(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(yd.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ip())}isEqual(t){return this.batchId===t.batchId&&gd(this.mutations,t.mutations,((t,e)=>eg(t,e)))&&gd(this.baseMutations,t.baseMutations,((t,e)=>eg(t,e)))}}class ug{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Zh(t.mutations.length===n.length);let r=Tp;const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ug(t,e,n,r)}}class hg{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class dg{constructor(t,e){this.count=t,this.unchangedNames=e}}var fg,pg;function gg(t){switch(t){default:return Jh();case ed.CANCELLED:case ed.UNKNOWN:case ed.DEADLINE_EXCEEDED:case ed.RESOURCE_EXHAUSTED:case ed.INTERNAL:case ed.UNAVAILABLE:case ed.UNAUTHENTICATED:return!1;case ed.INVALID_ARGUMENT:case ed.NOT_FOUND:case ed.ALREADY_EXISTS:case ed.PERMISSION_DENIED:case ed.FAILED_PRECONDITION:case ed.ABORTED:case ed.OUT_OF_RANGE:case ed.UNIMPLEMENTED:case ed.DATA_LOSS:return!0}}function mg(t){if(void 0===t)return Qh("GRPC error has no .code"),ed.UNKNOWN;switch(t){case fg.OK:return ed.OK;case fg.CANCELLED:return ed.CANCELLED;case fg.UNKNOWN:return ed.UNKNOWN;case fg.DEADLINE_EXCEEDED:return ed.DEADLINE_EXCEEDED;case fg.RESOURCE_EXHAUSTED:return ed.RESOURCE_EXHAUSTED;case fg.INTERNAL:return ed.INTERNAL;case fg.UNAVAILABLE:return ed.UNAVAILABLE;case fg.UNAUTHENTICATED:return ed.UNAUTHENTICATED;case fg.INVALID_ARGUMENT:return ed.INVALID_ARGUMENT;case fg.NOT_FOUND:return ed.NOT_FOUND;case fg.ALREADY_EXISTS:return ed.ALREADY_EXISTS;case fg.PERMISSION_DENIED:return ed.PERMISSION_DENIED;case fg.FAILED_PRECONDITION:return ed.FAILED_PRECONDITION;case fg.ABORTED:return ed.ABORTED;case fg.OUT_OF_RANGE:return ed.OUT_OF_RANGE;case fg.UNIMPLEMENTED:return ed.UNIMPLEMENTED;case fg.DATA_LOSS:return ed.DATA_LOSS;default:return Jh()}}(pg=fg||(fg={}))[pg.OK=0]="OK",pg[pg.CANCELLED=1]="CANCELLED",pg[pg.UNKNOWN=2]="UNKNOWN",pg[pg.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",pg[pg.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",pg[pg.NOT_FOUND=5]="NOT_FOUND",pg[pg.ALREADY_EXISTS=6]="ALREADY_EXISTS",pg[pg.PERMISSION_DENIED=7]="PERMISSION_DENIED",pg[pg.UNAUTHENTICATED=16]="UNAUTHENTICATED",pg[pg.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",pg[pg.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",pg[pg.ABORTED=10]="ABORTED",pg[pg.OUT_OF_RANGE=11]="OUT_OF_RANGE",pg[pg.UNIMPLEMENTED=12]="UNIMPLEMENTED",pg[pg.INTERNAL=13]="INTERNAL",pg[pg.UNAVAILABLE=14]="UNAVAILABLE",pg[pg.DATA_LOSS=15]="DATA_LOSS";let yg=null;function vg(){return new TextEncoder}const bg=new Ih([4294967295,4294967295],0);function wg(t){const e=vg().encode(t),n=new Ph;return n.update(e),new Uint8Array(n.digest())}function xg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Ih([n,r],0),new Ih([i,s],0)]}class _g{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new kg("Invalid padding: ".concat(e));if(n<0)throw new kg("Invalid hash count: ".concat(n));if(t.length>0&&0===this.hashCount)throw new kg("Invalid hash count: ".concat(n));if(0===t.length&&0!==e)throw new kg("Invalid padding when bitmap length is 0: ".concat(e));this.Ie=8*t.length-e,this.Te=Ih.fromNumber(this.Ie)}Ee(t,e,n){let r=t.add(e.multiply(Ih.fromNumber(n)));return 1===r.compare(bg)&&(r=new Ih([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return 0!=(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(0===this.Ie)return!1;const e=wg(t),[n,r]=xg(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);if(!this.de(t))return!1}return!0}static create(t,e,n){const r=t%8==0?0:8-t%8,i=new Uint8Array(Math.ceil(t/8)),s=new _g(i,r,e);return n.forEach((t=>s.insert(t))),s}insert(t){if(0===this.Ie)return;const e=wg(t),[n,r]=xg(e);for(let i=0;i<this.hashCount;i++){const t=this.Ee(n,r,i);this.Ae(t)}}Ae(t){const e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}}class kg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sg{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Eg.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Sg(yd.min(),r,new Wd(pd),bp(),Ip())}}class Eg{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Eg(n,e,Ip(),Ip(),Ip())}}class Tg{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}}class Cg{constructor(t,e){this.targetId=t,this.me=e}}class Ig{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$d.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Pg{constructor(){this.fe=0,this.ge=Dg(),this.pe=$d.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}Ce(){let t=Ip(),e=Ip(),n=Ip();return this.ge.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Jh()}})),new Eg(this.pe,this.ye,t,e,n)}ve(){this.we=!1,this.ge=Dg()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Zh(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Ng{constructor(t){this.Le=t,this.Be=new Map,this.ke=bp(),this.qe=Mg(),this.Qe=new Wd(pd)}Ke(t){for(const e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(const e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,(e=>{const n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:Jh()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach(((t,n)=>{this.ze(n)&&e(n)}))}He(t){const e=t.targetId,n=t.me.count,r=this.Je(e);if(r){const i=r.target;if(Zf(i))if(0===n){const t=new _d(i.path);this.Ue(e,t,Tf.newNoDocument(t,yd.min()))}else Zh(1===n);else{const r=this.Ye(e);if(r!==n){const n=this.Ze(t),i=n?this.Xe(n,t,r):1;if(0!==i){this.je(e);const t=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,t)}null==yg||yg.et(function(t,e,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:t,existenceFilterCount:e.count,databaseId:n.database,projectId:n.projectId},d=e.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:t=>{var e;return null!==(e=null==r?void 0:r.mightContain(t))&&void 0!==e&&e}}),h}(r,t.me,this.Le.tt(),n,i))}}}}Ze(t){const e=t.me.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=e;let s,o;try{s=ef(n).toUint8Array()}catch(t){if(t instanceof Xd)return Xh("Decoding the base64 bloom filter in existence filter failed ("+t.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw t}try{o=new _g(s,r,i)}catch(t){return Xh(t instanceof kg?"BloomFilter error: ":"Applying bloom filter failed: ",t),null}return 0===o.Ie?null:o}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){const n=this.Le.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.mightContain(s)||(this.Ue(e,n,null),r++)})),r}rt(t){const e=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Zf(i.target)){const e=new _d(i.target.path);null!==this.ke.get(e)||this.it(r,e)||this.Ue(r,e,Tf.newNoDocument(e,t))}n.be&&(e.set(r,n.Ce()),n.ve())}}));let n=Ip();this.qe.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Je(t);return!e||"TargetPurposeLimboResolution"===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.ke.forEach(((e,n)=>n.setReadTime(t)));const r=new Sg(t,e,this.Qe,this.ke,n);return this.ke=bp(),this.qe=Mg(),this.Qe=new Wd(pd),r}$e(t,e){if(!this.ze(t))return;const n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;const r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){const e=this.Ge(t).Ce();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new Pg,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new Gd(pd),this.qe=this.qe.insert(t,e)),e}ze(t){const e=null!==this.Je(t);return e||Yh("WatchChangeAggregator","Detected inactive target",t),e}Je(t){const e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new Pg),this.Le.getRemoteKeysForTarget(t).forEach((e=>{this.Ue(t,e,null)}))}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}}function Mg(){return new Wd(_d.comparator)}function Dg(){return new Wd(_d.comparator)}const Ag={asc:"ASCENDING",desc:"DESCENDING"},Og={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rg={and:"AND",or:"OR"};class Lg{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function jg(t,e){return t.useProto3Json||Rd(e)?e:{value:e}}function Fg(t,e){return t.useProto3Json?"".concat(new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+e.nanoseconds).slice(-9),"Z"):{seconds:""+e.seconds,nanos:e.nanoseconds}}function Vg(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Ug(t,e){return Fg(t,e.toTimestamp())}function zg(t){return Zh(!!t),yd.fromTimestamp(function(t){const e=Zd(t);return new md(e.seconds,e.nanos)}(t))}function Bg(t,e){return Hg(t,e).canonicalString()}function Hg(t,e){const n=function(t){return new bd(["projects",t.projectId,"databases",t.database])}(t).child("documents");return void 0===e?n:n.child(e)}function Wg(t){const e=bd.fromString(t);return Zh(um(e)),e}function qg(t,e){return Bg(t.databaseId,e.path)}function Kg(t,e){const n=Wg(e);if(n.get(1)!==t.databaseId.projectId)throw new nd(ed.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new nd(ed.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _d(Xg(n))}function Gg(t,e){return Bg(t.databaseId,e)}function Yg(t){const e=Wg(t);return 4===e.length?bd.emptyPath():Xg(e)}function Qg(t){return new bd(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Xg(t){return Zh(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function $g(t,e,n){return{name:qg(t,e),fields:n.value.mapValue.fields}}function Jg(t,e){let n;if(e instanceof ng)n={update:$g(t,e.key,e.value)};else if(e instanceof ag)n={delete:qg(t,e.key)};else if(e instanceof rg)n={update:$g(t,e.key,e.data),updateMask:cm(e.fieldMask)};else{if(!(e instanceof lg))return Jh();n={verify:qg(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof Fp)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Vp)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof zp)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Hp)return{fieldPath:e.field.canonicalString(),increment:n.Pe};throw Jh()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ug(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Jh()}(t,e.precondition)),n}function Zg(t,e){return{documents:[Gg(t,e.path)]}}function tm(t,e){const n={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gg(t,i);const s=function(t){if(0!==t.length)return lm(Of.create(t,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:om(t.field),direction:rm(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=jg(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(t){return{before:t.inclusive,values:t.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),{_t:n,parent:i}}function em(t){let e=Yg(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Zh(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=function(t){const e=nm(t);return e instanceof Of&&Lf(e)?e.getFilters():[e]}(n.where));let o=[];n.orderBy&&(o=function(t){return t.map((t=>function(t){return new Nf(am(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)))}(n.orderBy));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Rd(e)?null:e}(n.limit));let l=null;n.startAt&&(l=function(t){const e=!!t.before,n=t.values||[];return new Cf(n,e)}(n.startAt));let c=null;return n.endAt&&(c=function(t){const e=!t.before,n=t.values||[];return new Cf(n,e)}(n.endAt)),ep(e,i,o,s,a,"F",l,c)}function nm(t){return void 0!==t.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const e=am(t.unaryFilter.field);return Af.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=am(t.unaryFilter.field);return Af.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=am(t.unaryFilter.field);return Af.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=am(t.unaryFilter.field);return Af.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Jh()}}(t):void 0!==t.fieldFilter?function(t){return Af.create(am(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jh()}}(t.fieldFilter.op),t.fieldFilter.value)}(t):void 0!==t.compositeFilter?function(t){return Of.create(t.compositeFilter.filters.map((t=>nm(t))),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return Jh()}}(t.compositeFilter.op))}(t):Jh()}function rm(t){return Ag[t]}function im(t){return Og[t]}function sm(t){return Rg[t]}function om(t){return{fieldPath:t.canonicalString()}}function am(t){return xd.fromServerFormat(t.fieldPath)}function lm(t){return t instanceof Af?function(t){if("=="===t.op){if(wf(t.value))return{unaryFilter:{field:om(t.field),op:"IS_NAN"}};if(bf(t.value))return{unaryFilter:{field:om(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(wf(t.value))return{unaryFilter:{field:om(t.field),op:"IS_NOT_NAN"}};if(bf(t.value))return{unaryFilter:{field:om(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:om(t.field),op:im(t.op),value:t.value}}}(t):t instanceof Of?function(t){const e=t.getFilters().map((t=>lm(t)));return 1===e.length?e[0]:{compositeFilter:{op:sm(t.op),filters:e}}}(t):Jh()}function cm(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function um(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class hm{constructor(t,e,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yd.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:yd.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:$d.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(t){return new hm(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hm(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class dm{constructor(t){this.ct=t}}function fm(t){const e=em({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?cp(e,e.limit,"L"):e}class pm{constructor(){}Pt(t,e){this.It(t,e),e.Tt()}It(t,e){if("nullValue"in t)this.Et(e,5);else if("booleanValue"in t)this.Et(e,10),e.dt(t.booleanValue?1:0);else if("integerValue"in t)this.Et(e,15),e.dt(tf(t.integerValue));else if("doubleValue"in t){const n=tf(t.doubleValue);isNaN(n)?this.Et(e,13):(this.Et(e,15),Ld(n)?e.dt(0):e.dt(n))}else if("timestampValue"in t){let n=t.timestampValue;this.Et(e,20),"string"==typeof n&&(n=Zd(n)),e.At("".concat(n.seconds||"")),e.dt(n.nanos||0)}else if("stringValue"in t)this.Rt(t.stringValue,e),this.Vt(e);else if("bytesValue"in t)this.Et(e,30),e.ft(ef(t.bytesValue)),this.Vt(e);else if("referenceValue"in t)this.gt(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.Et(e,45),e.dt(n.latitude||0),e.dt(n.longitude||0)}else"mapValue"in t?kf(t)?this.Et(e,Number.MAX_SAFE_INTEGER):(this.yt(t.mapValue,e),this.Vt(e)):"arrayValue"in t?(this.wt(t.arrayValue,e),this.Vt(e)):Jh()}Rt(t,e){this.Et(e,25),this.St(t,e)}St(t,e){e.At(t)}yt(t,e){const n=t.fields||{};this.Et(e,55);for(const r of Object.keys(n))this.Rt(r,e),this.It(n[r],e)}wt(t,e){const n=t.values||[];this.Et(e,50);for(const r of n)this.It(r,e)}gt(t,e){this.Et(e,37),_d.fromName(t).path.forEach((t=>{this.Et(e,60),this.St(t,e)}))}Et(t,e){t.dt(e)}Vt(t){t.dt(2)}}pm.bt=new pm;class gm{constructor(){this._n=new mm}addToCollectionParentIndex(t,e){return this._n.add(e),Md.resolve()}getCollectionParents(t,e){return Md.resolve(this._n.getEntries(e))}addFieldIndex(t,e){return Md.resolve()}deleteFieldIndex(t,e){return Md.resolve()}deleteAllFieldIndexes(t){return Md.resolve()}createTargetIndexes(t,e){return Md.resolve()}getDocumentsMatchingTarget(t,e){return Md.resolve(null)}getIndexType(t,e){return Md.resolve(0)}getFieldIndexes(t,e){return Md.resolve([])}getNextCollectionGroupToUpdate(t){return Md.resolve(null)}getMinOffset(t,e){return Md.resolve(Td.min())}getMinOffsetFromCollectionGroup(t,e){return Md.resolve(Td.min())}updateCollectionGroup(t,e,n){return Md.resolve()}updateIndexEntries(t,e){return Md.resolve()}}class mm{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Gd(bd.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Gd(bd.comparator)).toArray()}}new Uint8Array(0);class ym{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new ym(t,ym.DEFAULT_COLLECTION_PERCENTILE,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ym.DEFAULT_COLLECTION_PERCENTILE=10,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ym.DEFAULT=new ym(41943040,ym.DEFAULT_COLLECTION_PERCENTILE,ym.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ym.DISABLED=new ym(-1,0,0);class vm{constructor(t){this.On=t}next(){return this.On+=2,this.On}static Nn(){return new vm(0)}static Ln(){return new vm(-1)}}class bm{constructor(){this.changes=new yp((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Tf.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Md.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class wm{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class xm{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.remoteDocumentCache.getEntry(t,e)))).next((t=>(null!==n&&Zp(n.mutation,t,Qd.empty(),md.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Ip()).next((()=>e))))}getLocalViewOfDocuments(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ip();const r=kp();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=xp();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=kp();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Ip())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=bp();const s=Ep(),o=Ep();return e.forEach(((t,e)=>{const o=n.get(e.key);r.has(e.key)&&(void 0===o||o.mutation instanceof rg)?i=i.insert(e.key,e):void 0!==o?(s.set(e.key,o.mutation.getFieldMask()),Zp(o.mutation,e,o.mutation.getFieldMask(),md.now())):s.set(e.key,Qd.empty())})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>s.set(t,e))),e.forEach(((t,e)=>{var n;return o.set(t,new wm(e,null!==(n=s.get(t))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(t,e){const n=Ep();let r=new Wd(((t,e)=>t-e)),i=Ip();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const s=e.get(t);if(null===s)return;let o=n.get(t)||Qd.empty();o=i.applyToLocalView(s,o),n.set(t,o);const a=(r.get(i.batchId)||Ip()).add(t);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Sp();l.forEach((t=>{if(!i.has(t)){const r=$p(e.get(t),n.get(t));null!==r&&c.set(t,r),i=i.add(t)}})),s.push(this.documentOverlayCache.saveOverlays(t,a,c))}return Md.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n,r){return function(t){return _d.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):ip(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):Md.resolve(kp());let o=-1,a=i;return s.next((e=>Md.forEach(e,((e,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(e)?Md.resolve():this.remoteDocumentCache.getEntry(t,e).next((t=>{a=a.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,a,e,Ip()))).next((t=>({batchId:o,changes:_p(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new _d(e)).next((t=>{let e=xp();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){const i=e.collectionGroup;let s=xp();return this.indexManager.getCollectionParents(t,i).next((o=>Md.forEach(o,(o=>{const a=function(t,e){return new tp(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return this.getDocumentsMatchingCollectionQuery(t,a,n,r).next((t=>{t.forEach(((t,e)=>{s=s.insert(t,e)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(t,e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,i,r)))).next((t=>{i.forEach(((e,n)=>{const r=n.getKey();null===t.get(r)&&(t=t.insert(r,Tf.newInvalidDocument(r)))}));let n=xp();return t.forEach(((t,r)=>{const s=i.get(t);void 0!==s&&Zp(s.mutation,r,Qd.empty(),md.now()),fp(e,r)&&(n=n.insert(t,r))})),n}))}}class _m{constructor(t){this.serializer=t,this.cr=new Map,this.lr=new Map}getBundleMetadata(t,e){return Md.resolve(this.cr.get(e))}saveBundleMetadata(t,e){return this.cr.set(e.id,function(t){return{id:t.id,version:t.version,createTime:zg(t.createTime)}}(e)),Md.resolve()}getNamedQuery(t,e){return Md.resolve(this.lr.get(e))}saveNamedQuery(t,e){return this.lr.set(e.name,function(t){return{name:t.name,query:fm(t.bundledQuery),readTime:zg(t.readTime)}}(e)),Md.resolve()}}class km{constructor(){this.overlays=new Wd(_d.comparator),this.hr=new Map}getOverlay(t,e){return Md.resolve(this.overlays.get(e))}getOverlays(t,e){const n=kp();return Md.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ht(t,e,r)})),Md.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.hr.delete(n)),Md.resolve()}getOverlaysForCollection(t,e,n){const r=kp(),i=e.length+1,s=new _d(e.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const t=o.getNext().value,s=t.getKey();if(!e.isPrefixOf(s.path))break;s.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return Md.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new Wd(((t,e)=>t-e));const s=this.overlays.getIterator();for(;s.hasNext();){const t=s.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=kp(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const o=kp(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((t,e)=>o.set(t,e))),!(o.size()>=r)););return Md.resolve(o)}ht(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new hg(e,n));let i=this.hr.get(e);void 0===i&&(i=Ip(),this.hr.set(e,i)),this.hr.set(e,i.add(n.key))}}class Sm{constructor(){this.Pr=new Gd(Em.Ir),this.Tr=new Gd(Em.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(t,e){const n=new Em(t,e);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.Ar(new Em(t,e))}Rr(t,e){t.forEach((t=>this.removeReference(t,e)))}Vr(t){const e=new _d(new bd([])),n=new Em(e,t),r=new Em(e,t+1),i=[];return this.Tr.forEachInRange([n,r],(t=>{this.Ar(t),i.push(t.key)})),i}mr(){this.Pr.forEach((t=>this.Ar(t)))}Ar(t){this.Pr=this.Pr.delete(t),this.Tr=this.Tr.delete(t)}gr(t){const e=new _d(new bd([])),n=new Em(e,t),r=new Em(e,t+1);let i=Ip();return this.Tr.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new Em(t,0),n=this.Pr.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Em{constructor(t,e){this.key=t,this.pr=e}static Ir(t,e){return _d.comparator(t.key,e.key)||pd(t.pr,e.pr)}static Er(t,e){return pd(t.pr,e.pr)||_d.comparator(t.key,e.key)}}class Tm{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.yr=1,this.wr=new Gd(Em.Ir)}checkEmpty(t){return Md.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new cg(i,e,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Em(o.key,i)),this.indexManager.addToCollectionParentIndex(t,o.key.path.popLast());return Md.resolve(s)}lookupMutationBatch(t,e){return Md.resolve(this.Sr(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.br(n),i=r<0?0:r;return Md.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Md.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(t){return Md.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Em(e,0),r=new Em(e,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(t=>{const e=this.Sr(t.pr);i.push(e)})),Md.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Gd(pd);return e.forEach((t=>{const e=new Em(t,0),r=new Em(t,Number.POSITIVE_INFINITY);this.wr.forEachInRange([e,r],(t=>{n=n.add(t.pr)}))})),Md.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;_d.isDocumentKey(i)||(i=i.child(""));const s=new Em(new _d(i),0);let o=new Gd(pd);return this.wr.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.pr)),!0)}),s),Md.resolve(this.Dr(o))}Dr(t){const e=[];return t.forEach((t=>{const n=this.Sr(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Zh(0===this.Cr(e.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Md.forEach(e.mutations,(r=>{const i=new Em(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.wr=n}))}Mn(t){}containsKey(t,e){const n=new Em(e,0),r=this.wr.firstAfterOrEqual(n);return Md.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,Md.resolve()}Cr(t,e){return this.br(t)}br(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}Sr(t){const e=this.br(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Cm{constructor(t){this.vr=t,this.docs=new Wd(_d.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Md.resolve(n?n.document.mutableCopy():Tf.newInvalidDocument(e))}getEntries(t,e){let n=bp();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():Tf.newInvalidDocument(t))})),Md.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let i=bp();const s=e.path,o=new _d(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:t,value:{document:o}}=a.getNext();if(!s.isPrefixOf(t.path))break;t.path.length>s.length+1||Cd(Ed(o),n)<=0||(r.has(o.key)||fp(e,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Md.resolve(i)}getAllFromCollectionGroup(t,e,n,r){Jh()}Fr(t,e){return Md.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Im(this)}getSize(t){return Md.resolve(this.size)}}class Im extends bm{constructor(t){super(),this.ar=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.ar.addEntry(t,r)):this.ar.removeEntry(n)})),Md.waitFor(e)}getFromCache(t,e){return this.ar.getEntry(t,e)}getAllFromCache(t,e){return this.ar.getEntries(t,e)}}class Pm{constructor(t){this.persistence=t,this.Mr=new yp((t=>$f(t)),Jf),this.lastRemoteSnapshotVersion=yd.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Sm,this.targetCount=0,this.Lr=vm.Nn()}forEachTarget(t,e){return this.Mr.forEach(((t,n)=>e(n))),Md.resolve()}getLastRemoteSnapshotVersion(t){return Md.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Md.resolve(this.Or)}allocateTargetId(t){return this.highestTargetId=this.Lr.next(),Md.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Or&&(this.Or=e),Md.resolve()}qn(t){this.Mr.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Lr=new vm(e),this.highestTargetId=e),t.sequenceNumber>this.Or&&(this.Or=t.sequenceNumber)}addTargetData(t,e){return this.qn(e),this.targetCount+=1,Md.resolve()}updateTargetData(t,e){return this.qn(e),Md.resolve()}removeTargetData(t,e){return this.Mr.delete(e.target),this.Nr.Vr(e.targetId),this.targetCount-=1,Md.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)})),Md.waitFor(i).next((()=>r))}getTargetCount(t){return Md.resolve(this.targetCount)}getTargetData(t,e){const n=this.Mr.get(e)||null;return Md.resolve(n)}addMatchingKeys(t,e,n){return this.Nr.dr(e,n),Md.resolve()}removeMatchingKeys(t,e,n){this.Nr.Rr(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),Md.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Nr.Vr(e),Md.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Nr.gr(e);return Md.resolve(n)}containsKey(t,e){return Md.resolve(this.Nr.containsKey(e))}}class Nm{constructor(t,e){this.Br={},this.overlays={},this.kr=new Od(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new Pm(this),this.indexManager=new gm,this.remoteDocumentCache=function(t){return new Cm(t)}((t=>this.referenceDelegate.Kr(t))),this.serializer=new dm(e),this.$r=new _m(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new km,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Br[t.toKey()];return n||(n=new Tm(e,this.referenceDelegate),this.Br[t.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(t,e,n){Yh("MemoryPersistence","Starting transaction:",t);const r=new Mm(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((t=>this.referenceDelegate.Wr(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Gr(t,e){return Md.or(Object.values(this.Br).map((n=>()=>n.containsKey(t,e))))}}class Mm extends Pd{constructor(t){super(),this.currentSequenceNumber=t}}class Dm{constructor(t){this.persistence=t,this.zr=new Sm,this.jr=null}static Hr(t){return new Dm(t)}get Jr(){if(this.jr)return this.jr;throw Jh()}addReference(t,e,n){return this.zr.addReference(n,e),this.Jr.delete(n.toString()),Md.resolve()}removeReference(t,e,n){return this.zr.removeReference(n,e),this.Jr.add(n.toString()),Md.resolve()}markPotentiallyOrphaned(t,e){return this.Jr.add(e.toString()),Md.resolve()}removeTarget(t,e){this.zr.Vr(e.targetId).forEach((t=>this.Jr.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Jr.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}Ur(){this.jr=new Set}Wr(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Md.forEach(this.Jr,(n=>{const r=_d.fromPath(n);return this.Yr(t,r).next((t=>{t||e.removeEntry(r,yd.min())}))})).next((()=>(this.jr=null,e.apply(t))))}updateLimboDocument(t,e){return this.Yr(t,e).next((t=>{t?this.Jr.delete(e.toString()):this.Jr.add(e.toString())}))}Kr(t){return 0}Yr(t,e){return Md.or([()=>Md.resolve(this.zr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Gr(t,e)])}}class Am{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.qi=n,this.Qi=r}static Ki(t,e){let n=Ip(),r=Ip();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Am(t,e.fromCache,n,r)}}class Om{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Rm{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=Ui()?8:Dd(Fi())>0?6:4}initialize(t,e){this.zi=t,this.indexManager=e,this.$i=!0}getDocumentsMatchingQuery(t,e,n,r){const i={result:null};return this.ji(t,e).next((t=>{i.result=t})).next((()=>{if(!i.result)return this.Hi(t,e,r,n).next((t=>{i.result=t}))})).next((()=>{if(i.result)return;const n=new Om;return this.Ji(t,e,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(t,e,n,r.size)}))})).next((()=>i.result))}Yi(t,e,n,r){return n.documentReadCount<this.Wi?(Gh()<=us.DEBUG&&Yh("QueryEngine","SDK will not create cache indexes for query:",dp(e),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Md.resolve()):(Gh()<=us.DEBUG&&Yh("QueryEngine","Query:",dp(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Gh()<=us.DEBUG&&Yh("QueryEngine","The SDK decides to create cache indexes for query:",dp(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,op(e))):Md.resolve())}ji(t,e){if(rp(e))return Md.resolve(null);let n=op(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=cp(e,null,"F"),n=op(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Ip(...r);return this.zi.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const s=this.Zi(e,r);return this.Xi(e,s,i,n.readTime)?this.ji(t,cp(e,null,"F")):this.es(t,s,e,n)}))))})))))}Hi(t,e,n,r){return rp(e)||r.isEqual(yd.min())?Md.resolve(null):this.zi.getDocuments(t,n).next((i=>{const s=this.Zi(e,i);return this.Xi(e,s,n,r)?Md.resolve(null):(Gh()<=us.DEBUG&&Yh("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dp(e)),this.es(t,s,e,Sd(r,-1)).next((t=>t)))}))}Zi(t,e){let n=new Gd(gp(t));return e.forEach(((e,r)=>{fp(t,r)&&(n=n.add(r))})),n}Xi(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(t,e,n){return Gh()<=us.DEBUG&&Yh("QueryEngine","Using full collection scan to execute query:",dp(e)),this.zi.getDocumentsMatchingQuery(t,e,Td.min(),n)}es(t,e,n,r){return this.zi.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class Lm{constructor(t,e,n,r){this.persistence=t,this.ts=e,this.serializer=r,this.ns=new Wd(pd),this.rs=new yp((t=>$f(t)),Jf),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(n)}_s(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new xm(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.ns)))}}function jm(t,e,n,r){return new Lm(t,e,n,r)}async function Fm(t,e){const n=td(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n._s(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],s=[];let o=Ip();for(const t of r){i.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){s.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return n.localDocuments.getDocuments(t,o).next((t=>({us:t,removedBatchIds:i,addedBatchIds:s})))}))}))}function Vm(t){const e=td(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Qr.getLastRemoteSnapshotVersion(t)))}function Um(t,e,n){let r=Ip(),i=Ip();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=bp();return n.forEach(((n,s)=>{const o=t.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(yd.min())?(e.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(e.addEntry(s),r=r.insert(n,s)):Yh("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function zm(t,e){const n=td(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}function Bm(t,e){const n=td(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Qr.getTargetData(t,e).next((i=>i?(r=i,Md.resolve(r)):n.Qr.allocateTargetId(t).next((i=>(r=new hm(e,i,"TargetPurposeListen",t.currentSequenceNumber),n.Qr.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.ns.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(t.targetId,t),n.rs.set(e,t.targetId)),t}))}async function Hm(t,e,n){const r=td(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!Ad(t))throw t;Yh("LocalStore","Failed to update sequence numbers for target ".concat(e,": ").concat(t))}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function Wm(t,e,n){const r=td(t);let i=yd.min(),s=Ip();return r.persistence.runTransaction("Execute query","readwrite",(t=>function(t,e,n){const r=td(t),i=r.rs.get(n);return void 0!==i?Md.resolve(r.ns.get(i)):r.Qr.getTargetData(e,n)}(r,t,op(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(t,e.targetId).next((t=>{s=t}))})).next((()=>r.ts.getDocumentsMatchingQuery(t,e,n?i:yd.min(),n?s:Ip()))).next((t=>(qm(r,pp(e),t),{documents:t,hs:s})))))}function qm(t,e,n){let r=t.ss.get(e)||yd.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.ss.set(e,r)}class Km{constructor(){this.activeTargetIds=Np()}As(t){this.activeTargetIds=this.activeTargetIds.add(t)}Rs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ds(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Gm{constructor(){this.no=new Km,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.no.As(t),this.ro[t]||"not-current"}updateQueryState(t,e,n){this.ro[t]=e}removeLocalQueryTarget(t){this.no.Rs(t)}isLocalQueryTarget(t){return this.no.activeTargetIds.has(t)}clearQueryState(t){delete this.ro[t]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(t){return this.no.activeTargetIds.has(t)}start(){return this.no=new Km,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Ym{io(t){}shutdown(){}}class Qm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(t){this.uo.push(t)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Yh("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.uo)t(0)}ao(){Yh("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.uo)t(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Xm=null;function $m(){return null===Xm?Xm=268435456+Math.round(2147483648*Math.random()):Xm++,"0x"+Xm.toString(16)}const Jm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zm{constructor(t){this.lo=t.lo,this.ho=t.ho}Po(t){this.Io=t}To(t){this.Eo=t}Ao(t){this.Ro=t}onMessage(t){this.Vo=t}close(){this.ho()}send(t){this.lo(t)}mo(){this.Io()}fo(){this.Eo()}po(t){this.Ro(t)}yo(t){this.Vo(t)}}const ty="WebChannelConnection";class ey extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=e+"://"+t.host,this.So="projects/".concat(n,"/databases/").concat(r),this.bo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Do(){return!1}Co(t,e,n,r,i){const s=$m(),o=this.vo(t,e.toUriEncodedString());Yh("RestConnection","Sending RPC '".concat(t,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(t,o,a,n).then((e=>(Yh("RestConnection","Received RPC '".concat(t,"' ").concat(s,": "),e),e)),(e=>{throw Xh("RestConnection","RPC '".concat(t,"' ").concat(s," failed with error: "),e,"url: ",o,"request:",n),e}))}xo(t,e,n,r,i,s){return this.Co(t,e,n,r,i)}Fo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+qh,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}vo(t,e){const n=Jm[t];return"".concat(this.wo,"/v1/").concat(e,":").concat(n)}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Mo(t,e,n,r){const i=$m();return new Promise(((s,o)=>{const a=new Dh;a.setWithCredentials(!0),a.listenOnce(Rh.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Lh.NO_ERROR:const e=a.getResponseJson();Yh(ty,"XHR for RPC '".concat(t,"' ").concat(i," received:"),JSON.stringify(e)),s(e);break;case Lh.TIMEOUT:Yh(ty,"RPC '".concat(t,"' ").concat(i," timed out")),o(new nd(ed.DEADLINE_EXCEEDED,"Request time out"));break;case Lh.HTTP_ERROR:const n=a.getStatus();if(Yh(ty,"RPC '".concat(t,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const e=null==t?void 0:t.error;if(e&&e.status&&e.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(ed).indexOf(e)>=0?e:ed.UNKNOWN}(e.status);o(new nd(t,e.message))}else o(new nd(ed.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new nd(ed.UNAVAILABLE,"Connection failed."));break;default:Jh()}}finally{Yh(ty,"RPC '".concat(t,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);Yh(ty,"RPC '".concat(t,"' ").concat(i," sending request:"),r),a.send(e,"POST",l,n,15)}))}Oo(t,e,n){const r=$m(),i=[this.wo,"/","google.firestore.v1.Firestore","/",t,"/channel"],s=Uh(),o=Vh(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new Ah({})),this.Fo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const c=i.join("");Yh(ty,"Creating RPC '".concat(t,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Zm({lo:e=>{d?Yh(ty,"Not sending because RPC '".concat(t,"' stream ").concat(r," is closed:"),e):(h||(Yh(ty,"Opening RPC '".concat(t,"' stream ").concat(r," transport.")),u.open(),h=!0),Yh(ty,"RPC '".concat(t,"' stream ").concat(r," sending:"),e),u.send(e))},ho:()=>u.close()}),p=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return p(u,Oh.EventType.OPEN,(()=>{d||(Yh(ty,"RPC '".concat(t,"' stream ").concat(r," transport opened.")),f.mo())})),p(u,Oh.EventType.CLOSE,(()=>{d||(d=!0,Yh(ty,"RPC '".concat(t,"' stream ").concat(r," transport closed")),f.po())})),p(u,Oh.EventType.ERROR,(e=>{d||(d=!0,Xh(ty,"RPC '".concat(t,"' stream ").concat(r," transport errored:"),e),f.po(new nd(ed.UNAVAILABLE,"The operation could not be completed")))})),p(u,Oh.EventType.MESSAGE,(e=>{var n;if(!d){const i=e.data[0];Zh(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Yh(ty,"RPC '".concat(t,"' stream ").concat(r," received error:"),o);const e=o.status;let n=function(t){const e=fg[t];if(void 0!==e)return mg(e)}(e),i=o.message;void 0===n&&(n=ed.INTERNAL,i="Unknown error status: "+e+" with message "+o.message),d=!0,f.po(new nd(n,i)),u.close()}else Yh(ty,"RPC '".concat(t,"' stream ").concat(r," received:"),i),f.yo(i)}})),p(o,Fh.STAT_EVENT,(e=>{e.stat===jh.PROXY?Yh(ty,"RPC '".concat(t,"' stream ").concat(r," detected buffering proxy")):e.stat===jh.NOPROXY&&Yh(ty,"RPC '".concat(t,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.fo()}),0),f}}function ny(){return"undefined"!=typeof document?document:null}function ry(t){return new Lg(t,!0)}class iy{constructor(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=t,this.timerId=e,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(t){this.cancel();const e=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,e-n);r>0&&Yh("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.ko," ms, delay with jitter: ").concat(e," ms, last attempt: ").concat(n," ms ago)")),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),t()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class sy{constructor(t,e,n,r,i,s,o,a){this.oi=t,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new iy(t,e)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(t){this.s_(),this.stream.send(t)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(t,e){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==t?this.Yo.reset():e&&e.code===ed.RESOURCE_EXHAUSTED?(Qh(e.toString()),Qh("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):e&&e.code===ed.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Ao(e)}__(){}auth(){this.state=1;const t=this.a_(this.jo),e=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((t=>{let[n,r]=t;this.jo===e&&this.u_(n,r)}),(e=>{t((()=>{const t=new nd(ed.UNKNOWN,"Fetching auth token failed: "+e.message);return this.c_(t)}))}))}u_(t,e){const n=this.a_(this.jo);this.stream=this.l_(t,e),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((t=>{n((()=>this.c_(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(t){return Yh("PersistentStream","close with error: ".concat(t)),this.stream=null,this.close(4,t)}a_(t){return e=>{this.oi.enqueueAndForget((()=>this.jo===t?e():(Yh("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class oy extends sy{constructor(t,e,n,r,i,s){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i}l_(t,e){return this.connection.Oo("Listen",t,e)}onMessage(t){this.Yo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Jh()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.useProto3Json?(Zh(void 0===e||"string"==typeof e),$d.fromBase64String(e||"")):(Zh(void 0===e||e instanceof Buffer||e instanceof Uint8Array),$d.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(t){const e=void 0===t.code?ed.UNKNOWN:mg(t.code);return new nd(e,t.message||"")}(o);n=new Ig(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Kg(t,r.document.name),s=zg(r.document.updateTime),o=r.document.createTime?zg(r.document.createTime):yd.min(),a=new Sf({mapValue:{fields:r.document.fields}}),l=Tf.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Tg(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Kg(t,r.document),s=r.readTime?zg(r.readTime):yd.min(),o=Tf.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Tg([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Kg(t,r.document),s=r.removedTargetIds||[];n=new Tg([],s,i,null)}else{if(!("filter"in e))return Jh();{e.filter;const t=e.filter;t.targetId;const{count:r=0,unchangedNames:i}=t,s=new dg(r,i),o=t.targetId;n=new Cg(o,s)}}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return yd.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?yd.min():e.readTime?zg(e.readTime):yd.min()}(t);return this.listener.h_(e,n)}P_(t){const e={};e.database=Qg(this.serializer),e.addTarget=function(t,e){let n;const r=e.target;if(n=Zf(r)?{documents:Zg(t,r)}:{query:tm(t,r)._t},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0){n.resumeToken=Vg(t,e.resumeToken);const r=jg(t,e.expectedCount);null!==r&&(n.expectedCount=r)}else if(e.snapshotVersion.compareTo(yd.min())>0){n.readTime=Fg(t,e.snapshotVersion.toTimestamp());const r=jg(t,e.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,t);const n=function(t,e){const n=function(t){switch(t){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Jh()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.i_(e)}I_(t){const e={};e.database=Qg(this.serializer),e.removeTarget=t,this.i_(e)}}class ay extends sy{constructor(t,e,n,r,i,s){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(t,e){return this.connection.Oo("Write",t,e)}onMessage(t){if(Zh(!!t.streamToken),this.lastStreamToken=t.streamToken,this.T_){this.Yo.reset();const e=function(t,e){return t&&t.length>0?(Zh(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?zg(t.updateTime):zg(e);return n.isEqual(yd.min())&&(n=zg(e)),new Gp(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=zg(t.commitTime);return this.listener.A_(n,e)}return Zh(!t.writeResults||0===t.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const t={};t.database=Qg(this.serializer),this.i_(t)}d_(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>Jg(this.serializer,t)))};this.i_(e)}}class ly extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new nd(ed.FAILED_PRECONDITION,"The client has already been terminated.")}Co(t,e,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.Co(t,Hg(e,n),r,s,o)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===ed.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new nd(ed.UNKNOWN,t.toString())}))}xo(t,e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.xo(t,Hg(e,n),r,o,a,i)})).catch((t=>{throw"FirebaseError"===t.name?(t.code===ed.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new nd(ed.UNKNOWN,t.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class cy{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(t){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_("Connection failed 1 times. Most recent error: ".concat(t.toString())),this.S_("Offline")))}set(t){this.C_(),this.g_=0,"Online"===t&&(this.y_=!1),this.S_(t)}S_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}b_(t){const e="Could not reach Cloud Firestore backend. ".concat(t,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.y_?(Qh(e),this.y_=!1):Yh("OnlineStateTracker",e)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class uy{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((t=>{n.enqueueAndForget((async()=>{by(this)&&(Yh("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=td(t);e.M_.add(4),await dy(e),e.N_.set("Unknown"),e.M_.delete(4),await hy(e)}(this))}))})),this.N_=new cy(n,r)}}async function hy(t){if(by(t))for(const e of t.x_)await e(!0)}async function dy(t){for(const e of t.x_)await e(!1)}function fy(t,e){const n=td(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),vy(n)?yy(n):Fy(n).Xo()&&gy(n,e))}function py(t,e){const n=td(t),r=Fy(n);n.F_.delete(e),r.Xo()&&my(n,e),0===n.F_.size&&(r.Xo()?r.n_():by(n)&&n.N_.set("Unknown"))}function gy(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(yd.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Fy(t).P_(e)}function my(t,e){t.L_.xe(e),Fy(t).I_(e)}function yy(t){t.L_=new Ng({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Fy(t).start(),t.N_.w_()}function vy(t){return by(t)&&!Fy(t).Zo()&&t.F_.size>0}function by(t){return 0===td(t).M_.size}function wy(t){t.L_=void 0}async function xy(t){t.N_.set("Online")}async function _y(t){t.F_.forEach(((e,n)=>{gy(t,e)}))}async function ky(t,e){wy(t),vy(t)?(t.N_.D_(e),yy(t)):t.N_.set("Unknown")}async function Sy(t,e,n){if(t.N_.set("Online"),e instanceof Ig&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.F_.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.F_.delete(r),t.L_.removeTarget(r))}(t,e)}catch(n){Yh("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Ey(t,n)}else if(e instanceof Tg?t.L_.Ke(e):e instanceof Cg?t.L_.He(e):t.L_.We(e),!n.isEqual(yd.min()))try{const e=await Vm(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.L_.rt(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.F_.get(r);i&&t.F_.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach(((e,n)=>{const r=t.F_.get(e);if(!r)return;t.F_.set(e,r.withResumeToken($d.EMPTY_BYTE_STRING,r.snapshotVersion)),my(t,e);const i=new hm(r.target,e,n,r.sequenceNumber);gy(t,i)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Yh("RemoteStore","Failed to raise snapshot:",e),await Ey(t,e)}}async function Ey(t,e,n){if(!Ad(e))throw e;t.M_.add(1),await dy(t),t.N_.set("Offline"),n||(n=()=>Vm(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Yh("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await hy(t)}))}function Ty(t,e){return e().catch((n=>Ey(t,n,e)))}async function Cy(t){const e=td(t),n=Vy(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;Iy(e);)try{const t=await zm(e.localStore,r);if(null===t){0===e.v_.length&&n.n_();break}r=t.batchId,Py(e,t)}catch(t){await Ey(e,t)}Ny(e)&&My(e)}function Iy(t){return by(t)&&t.v_.length<10}function Py(t,e){t.v_.push(e);const n=Vy(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Ny(t){return by(t)&&!Vy(t).Zo()&&t.v_.length>0}function My(t){Vy(t).start()}async function Dy(t){Vy(t).V_()}async function Ay(t){const e=Vy(t);for(const n of t.v_)e.d_(n.mutations)}async function Oy(t,e,n){const r=t.v_.shift(),i=ug.from(r,e,n);await Ty(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Cy(t)}async function Ry(t,e){e&&Vy(t).E_&&await async function(t,e){if(function(t){return gg(t)&&t!==ed.ABORTED}(e.code)){const n=t.v_.shift();Vy(t).t_(),await Ty(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Cy(t)}}(t,e),Ny(t)&&My(t)}async function Ly(t,e){const n=td(t);n.asyncQueue.verifyOperationInProgress(),Yh("RemoteStore","RemoteStore received new credentials");const r=by(n);n.M_.add(3),await dy(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await hy(n)}async function jy(t,e){const n=td(t);e?(n.M_.delete(2),await hy(n)):e||(n.M_.add(2),await dy(n),n.N_.set("Unknown"))}function Fy(t){return t.B_||(t.B_=function(t,e,n){const r=td(t);return r.f_(),new oy(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Po:xy.bind(null,t),To:_y.bind(null,t),Ao:ky.bind(null,t),h_:Sy.bind(null,t)}),t.x_.push((async e=>{e?(t.B_.t_(),vy(t)?yy(t):t.N_.set("Unknown")):(await t.B_.stop(),wy(t))}))),t.B_}function Vy(t){return t.k_||(t.k_=function(t,e,n){const r=td(t);return r.f_(),new ay(e,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:Dy.bind(null,t),Ao:Ry.bind(null,t),R_:Ay.bind(null,t),A_:Oy.bind(null,t)}),t.x_.push((async e=>{e?(t.k_.t_(),await Cy(t)):(await t.k_.stop(),t.v_.length>0&&(Yh("RemoteStore","Stopping write stream with ".concat(t.v_.length," pending writes")),t.v_=[]))}))),t.k_}class Uy{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new rd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new Uy(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nd(ed.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zy(t,e){if(Qh("AsyncQueue","".concat(e,": ").concat(t)),Ad(t))return new nd(ed.UNAVAILABLE,"".concat(e,": ").concat(t));throw t}class By{constructor(t){this.comparator=t?(e,n)=>t(e,n)||_d.comparator(e.key,n.key):(t,e)=>_d.comparator(t.key,e.key),this.keyedMap=xp(),this.sortedSet=new Wd(this.comparator)}static emptySet(t){return new By(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof By))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new By;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Hy{constructor(){this.q_=new Wd(_d.comparator)}track(t){const e=t.doc.key,n=this.q_.get(e);n?0!==t.type&&3===n.type?this.q_=this.q_.insert(e,t):3===t.type&&1!==n.type?this.q_=this.q_.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.q_=this.q_.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.q_=this.q_.remove(e):1===t.type&&2===n.type?this.q_=this.q_.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.q_=this.q_.insert(e,{type:2,doc:t.doc}):Jh():this.q_=this.q_.insert(e,t)}Q_(){const t=[];return this.q_.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Wy{constructor(t,e,n,r,i,s,o,a,l){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(t,e,n,r,i){const s=[];return e.forEach((t=>{s.push({type:0,doc:t})})),new Wy(t,e,By.emptySet(e),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&up(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class qy{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((t=>t.G_()))}}class Ky{constructor(){this.queries=new yp((t=>hp(t)),up),this.onlineState="Unknown",this.z_=new Set}}async function Gy(t,e){const n=td(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new qy,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(t){const n=zy(t,"Initialization of query '".concat(dp(e.query),"' failed"));return void e.onError(n)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&$y(n)}async function Yy(t,e){const n=td(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const t=s.U_.indexOf(e);t>=0&&(s.U_.splice(t,1),0===s.U_.length?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Qy(t,e){const n=td(t);let r=!1;for(const i of e){const t=i.query,e=n.queries.get(t);if(e){for(const t of e.U_)t.H_(i)&&(r=!0);e.K_=i}}r&&$y(n)}function Xy(t,e,n){const r=td(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function $y(t){t.z_.forEach((t=>{t.next()}))}var Jy,Zy;(Zy=Jy||(Jy={})).J_="default",Zy.Cache="cache";class tv{constructor(t,e,n){this.query=t,this.Y_=e,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Wy(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Z_?this.ea(t)&&(this.Y_.next(t),e=!0):this.ta(t,this.onlineState)&&(this.na(t),e=!0),this.X_=t,e}onError(t){this.Y_.error(t)}j_(t){this.onlineState=t;let e=!1;return this.X_&&!this.Z_&&this.ta(this.X_,t)&&(this.na(this.X_),e=!0),e}ta(t,e){if(!t.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==e;return(!this.options.ra||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}ea(t){if(t.docChanges.length>0)return!0;const e=this.X_&&this.X_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}na(t){t=Wy.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Z_=!0,this.Y_.next(t)}G_(){return this.options.source!==Jy.Cache}}class ev{constructor(t){this.key=t}}class nv{constructor(t){this.key=t}}class rv{constructor(t,e){this.query=t,this.la=e,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Ip(),this.mutatedKeys=Ip(),this.Ia=gp(t),this.Ta=new By(this.Ia)}get Ea(){return this.la}da(t,e){const n=e?e.Aa:new Hy,r=e?e.Ta:this.Ta;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const c=r.get(t),u=fp(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Ra(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ia(u,a)>0||l&&this.Ia(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const t="F"===this.query.limitType?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){const i=this.Ta;this.Ta=t.Ta,this.mutatedKeys=t.mutatedKeys;const s=t.Aa.Q_();s.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jh()}};return n(t)-n(e)}(t.type,e.type)||this.Ia(t.doc,e.doc))),this.Va(n),r=null!=r&&r;const o=e&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,l=a!==this.ha;return this.ha=a,0!==s.length||l?{snapshot:new Wy(this.query,t.Ta,i,s,t.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Hy,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(t){return!this.la.has(t)&&!!this.Ta.has(t)&&!this.Ta.get(t).hasLocalMutations}Va(t){t&&(t.addedDocuments.forEach((t=>this.la=this.la.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.la=this.la.delete(t))),this.current=t.current)}ma(){if(!this.current)return[];const t=this.Pa;this.Pa=Ip(),this.Ta.forEach((t=>{this.ga(t.key)&&(this.Pa=this.Pa.add(t.key))}));const e=[];return t.forEach((t=>{this.Pa.has(t)||e.push(new nv(t))})),this.Pa.forEach((n=>{t.has(n)||e.push(new ev(n))})),e}pa(t){this.la=t.hs,this.Pa=Ip();const e=this.da(t.documents);return this.applyChanges(e,!0)}ya(){return Wy.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class iv{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class sv{constructor(t){this.key=t,this.wa=!1}}class ov{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new yp((t=>hp(t)),up),this.Da=new Map,this.Ca=new Set,this.va=new Wd(_d.comparator),this.Fa=new Map,this.Ma=new Sm,this.xa={},this.Oa=new Map,this.Na=vm.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function av(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Iv(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await cv(r,e,n,!0),i}async function lv(t,e){const n=Iv(t);await cv(n,e,!0,!1)}async function cv(t,e,n,r){const i=await Bm(t.localStore,op(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await uv(t,e,s,"current"===o,i.resumeToken)),t.isPrimaryClient&&n&&fy(t.remoteStore,i),a}async function uv(t,e,n,r,i){t.Ba=(e,n,r)=>async function(t,e,n,r){let i=e.view.da(n);i.Xi&&(i=await Wm(t.localStore,e.query,!1).then((t=>{let{documents:n}=t;return e.view.da(n,i)})));const s=r&&r.targetChanges.get(e.targetId),o=r&&null!=r.targetMismatches.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,s,o);return _v(t,e.targetId,a.fa),a.snapshot}(t,e,n,r);const s=await Wm(t.localStore,e,!0),o=new rv(e,s.hs),a=o.da(s.documents),l=Eg.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,l);_v(t,n,c.fa);const u=new iv(e,n,o);return t.ba.set(e,u),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function hv(t,e,n){const r=td(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((t=>!up(t,e)))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Hm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&py(r.remoteStore,i.targetId),wv(r,i.targetId)})).catch(Nd)):(wv(r,i.targetId),await Hm(r.localStore,i.targetId,!0))}async function dv(t,e){const n=td(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),py(n.remoteStore,r.targetId))}async function fv(t,e){const n=td(t);try{const t=await function(t,e){const n=td(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];e.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(t,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(t,s.addedDocuments,a))));let c=l.withSequenceNumber(t.currentSequenceNumber);null!==e.targetMismatches.get(a)?c=c.withResumeToken($d.EMPTY_BYTE_STRING,yd.min()).withLastLimboFreeSnapshotVersion(yd.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(t,c))}));let a=bp(),l=Ip();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),o.push(Um(t,s,e.documentUpdates).next((t=>{a=t.cs,l=t.ls}))),!r.isEqual(yd.min())){const e=n.Qr.getLastRemoteSnapshotVersion(t).next((e=>n.Qr.setTargetsMetadata(t,t.currentSequenceNumber,r)));o.push(e)}return Md.waitFor(o).next((()=>s.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,a,l))).next((()=>a))})).then((t=>(n.ns=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.Fa.get(e);r&&(Zh(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.wa=!0:t.modifiedDocuments.size>0?Zh(r.wa):t.removedDocuments.size>0&&(Zh(r.wa),r.wa=!1))})),await Ev(n,t,e)}catch(t){await Nd(t)}}function pv(t,e,n){const r=td(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=td(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const i of n.U_)i.j_(e)&&(r=!0)})),r&&$y(n)}(r.eventManager,e),t.length&&r.Sa.h_(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function gv(t,e,n){const r=td(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let t=new Wd(_d.comparator);t=t.insert(s,Tf.newNoDocument(s,yd.min()));const n=Ip().add(s),i=new Sg(yd.min(),new Map,new Wd(pd),t,n);await fv(r,i),r.va=r.va.remove(s),r.Fa.delete(e),Sv(r)}else await Hm(r.localStore,e,!1).then((()=>wv(r,e,n))).catch(Nd)}async function mv(t,e){const n=td(t),r=e.batch.batchId;try{const t=await function(t,e){const n=td(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Md.resolve();return s.forEach((t=>{o=o.next((()=>r.getEntry(e,t))).next((e=>{const s=n.docVersions.get(t);Zh(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),o.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Ip();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);bv(n,r,null),vv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ev(n,t)}catch(t){await Nd(t)}}async function yv(t,e,n){const r=td(t);try{const t=await function(t,e){const n=td(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Zh(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);bv(r,e,n),vv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ev(r,t)}catch(n){await Nd(n)}}function vv(t,e){(t.Oa.get(e)||[]).forEach((t=>{t.resolve()})),t.Oa.delete(e)}function bv(t,e,n){const r=td(t);let i=r.xa[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function wv(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach((e=>{t.Ma.containsKey(e)||xv(t,e)}))}function xv(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);null!==n&&(py(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),Sv(t))}function _v(t,e,n){for(const r of n)r instanceof ev?(t.Ma.addReference(r.key,e),kv(t,r)):r instanceof nv?(Yh("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||xv(t,r.key)):Jh()}function kv(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(Yh("SyncEngine","New document in limbo: "+n),t.Ca.add(r),Sv(t))}function Sv(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new _d(bd.fromString(e)),r=t.Na.next();t.Fa.set(r,new sv(n)),t.va=t.va.insert(n,r),fy(t.remoteStore,new hm(op(np(n.path)),r,"TargetPurposeLimboResolution",Od.oe))}}async function Ev(t,e,n){const r=td(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((t,a)=>{o.push(r.Ba(a,e,n).then((t=>{if((t||n)&&r.isPrimaryClient){const e=t&&!t.fromCache;r.sharedClientState.updateQueryState(a.targetId,e?"current":"not-current")}if(t){i.push(t);const e=Am.Ki(a.targetId,t);s.push(e)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(t,e){const n=td(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>Md.forEach(e,(e=>Md.forEach(e.qi,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>Md.forEach(e.Qi,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!Ad(t))throw t;Yh("LocalStore","Failed to update sequence numbers: "+t)}for(const r of e){const t=r.targetId;if(!r.fromCache){const e=n.ns.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(t,i)}}}(r.localStore,s))}async function Tv(t,e){const n=td(t);if(!n.currentUser.isEqual(e)){Yh("SyncEngine","User change. New user:",e.toKey());const t=await Fm(n.localStore,e);n.currentUser=e,function(t,e){t.Oa.forEach((t=>{t.forEach((t=>{t.reject(new nd(ed.CANCELLED,e))}))})),t.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await Ev(n,t.us)}}function Cv(t,e){const n=td(t),r=n.Fa.get(e);if(r&&r.wa)return Ip().add(r.key);{let t=Ip();const r=n.Da.get(e);if(!r)return t;for(const e of r){const r=n.ba.get(e);t=t.unionWith(r.view.Ea)}return t}}function Iv(t){const e=td(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cv.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gv.bind(null,e),e.Sa.h_=Qy.bind(null,e.eventManager),e.Sa.ka=Xy.bind(null,e.eventManager),e}function Pv(t){const e=td(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yv.bind(null,e),e}class Nv{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=ry(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,e){return null}createIndexBackfillerScheduler(t,e){return null}createLocalStore(t){return jm(this.persistence,new Rm,t.initialUser,this.serializer)}createPersistence(t){return new Nm(Dm.Hr,this.serializer)}createSharedClientState(t){return new Gm}async terminate(){var t,e;null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(e=this.indexBackfillerScheduler)||void 0===e||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mv{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>pv(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=Tv.bind(null,this.syncEngine),await jy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Ky}createDatastore(t){const e=ry(t.databaseInfo.databaseId),n=function(t){return new ey(t)}(t.databaseInfo);return function(t,e,n,r){return new ly(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return function(t,e,n,r,i){return new uy(t,e,n,r,i)}(this.localStore,this.datastore,t.asyncQueue,(t=>pv(this.syncEngine,t,0)),Qm.D()?new Qm:new Ym)}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new ov(t,e,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t;await async function(t){const e=td(t);Yh("RemoteStore","RemoteStore shutting down."),e.M_.add(5),await dy(e),e.O_.shutdown(),e.N_.set("Unknown")}(this.remoteStore),null===(t=this.datastore)||void 0===t||t.terminate()}}class Dv{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ka(this.observer.next,t)}error(t){this.observer.error?this.Ka(this.observer.error,t):Qh("Uncaught Error in snapshot listener:",t.toString())}$a(){this.muted=!0}Ka(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class Av{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Wh.UNAUTHENTICATED,this.clientId=fd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Yh("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Yh("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new nd(ed.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new rd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=zy(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Ov(t,e){t.asyncQueue.verifyOperationInProgress(),Yh("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Fm(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function Rv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jv(t);Yh("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((t=>Ly(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Ly(e.remoteStore,n))),t._onlineComponents=e}function Lv(t){return"FirebaseError"===t.name?t.code===ed.FAILED_PRECONDITION||t.code===ed.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}async function jv(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Yh("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ov(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Lv(n))throw n;Xh("Error using user provided cache. Falling back to memory cache: "+n),await Ov(t,new Nv)}}else Yh("FirestoreClient","Using default OfflineComponentProvider"),await Ov(t,new Nv);return t._offlineComponents}async function Fv(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Yh("FirestoreClient","Using user provided OnlineComponentProvider"),await Rv(t,t._uninitializedComponentsProvider._online)):(Yh("FirestoreClient","Using default OnlineComponentProvider"),await Rv(t,new Mv))),t._onlineComponents}function Vv(t){return Fv(t).then((t=>t.syncEngine))}async function Uv(t){const e=await Fv(t),n=e.eventManager;return n.onListen=av.bind(null,e.syncEngine),n.onUnlisten=hv.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lv.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dv.bind(null,e.syncEngine),n}function zv(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rd;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new Dv({next:s=>{e.enqueueAndForget((()=>Yy(t,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new nd(ed.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new nd(ed.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new tv(np(n.path),s,{includeMetadataChanges:!0,ra:!0});return Gy(t,o)}(await Uv(t),t.asyncQueue,e,n,r))),r.promise}function Bv(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rd;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const s=new Dv({next:n=>{e.enqueueAndForget((()=>Yy(t,o))),n.fromCache&&"server"===r.source?i.reject(new nd(ed.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new tv(n,s,{includeMetadataChanges:!0,ra:!0});return Gy(t,o)}(await Uv(t),t.asyncQueue,e,n,r))),r.promise}function Hv(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const Wv=new Map;function qv(t,e,n){if(!n)throw new nd(ed.INVALID_ARGUMENT,"Function ".concat(t,"() cannot be called with an empty ").concat(e,"."))}function Kv(t){if(!_d.isDocumentKey(t))throw new nd(ed.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(t," has ").concat(t.length,"."))}function Gv(t){if(_d.isDocumentKey(t))throw new nd(ed.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(t," has ").concat(t.length,"."))}function Yv(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t="".concat(t.substring(0,20),"...")),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?"a custom ".concat(e," object"):"an object"}}return"function"==typeof t?"a function":Jh()}function Qv(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new nd(ed.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Yv(t);throw new nd(ed.INVALID_ARGUMENT,"Expected type '".concat(e.name,"', but it was: ").concat(n))}}return t}function Xv(t,e){if(e<=0)throw new nd(ed.INVALID_ARGUMENT,"Function ".concat(t,"() requires a positive number, but it was: ").concat(e,"."))}class $v{constructor(t){var e,n;if(void 0===t.host){if(void 0!==t.ssl)throw new nd(ed.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new nd(ed.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(t,e,n,r){if(!0===e&&!0===r)throw new nd(ed.INVALID_ARGUMENT,"".concat(t," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hv(null!==(n=t.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(t){if(void 0!==t.timeoutSeconds){if(isNaN(t.timeoutSeconds))throw new nd(ed.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (must not be NaN)"));if(t.timeoutSeconds<5)throw new nd(ed.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (minimum allowed value is 5)"));if(t.timeoutSeconds>30)throw new nd(ed.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(t.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(t,e){return t.timeoutSeconds===e.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Jv{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new nd(ed.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new nd(ed.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new sd;switch(t.type){case"firstParty":return new cd(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new nd(ed.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Wv.get(t);e&&(Yh("ComponentProvider","Removing Datastore"),Wv.delete(t),e.terminate())}(this),Promise.resolve()}}function Zv(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(t=Qv(t,Jv))._getSettings(),o="".concat(e,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Xh("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Wh.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ni(JSON.stringify({alg:"none",type:"JWT"})),Ni(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new nd(ed.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Wh(s)}t._authCredentials=new od(new id(e,n))}}class tb{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new tb(this.firestore,t,this._query)}}class eb{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nb(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new eb(this.firestore,t,this._key)}}class nb extends tb{constructor(t,e,n){super(t,e,np(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new eb(this.firestore,null,new _d(t))}withConverter(t){return new nb(this.firestore,t,this._path)}}function rb(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=is(t),qv("collection","path",e),t instanceof Jv){const n=bd.fromString(e,...r);return Gv(n),new nb(t,null,n)}{if(!(t instanceof eb||t instanceof nb))throw new nd(ed.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bd.fromString(e,...r));return Gv(n),new nb(t.firestore,null,n)}}function ib(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(t=is(t),1===arguments.length&&(e=fd.newId()),qv("doc","path",e),t instanceof Jv){const n=bd.fromString(e,...r);return Kv(n),new eb(t,null,new _d(n))}{if(!(t instanceof eb||t instanceof nb))throw new nd(ed.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(bd.fromString(e,...r));return Kv(n),new eb(t.firestore,t instanceof nb?t.converter:null,new _d(n))}}class sb{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new iy(this,"async_queue_retry"),this.hu=()=>{const t=ny();t&&Yh("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Yo.Wo()};const t=ny();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Pu(),this.Iu(t)}enterRestrictedMode(t){if(!this.ou){this.ou=!0,this.cu=t||!1;const e=ny();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.hu)}}enqueue(t){if(this.Pu(),this.ou)return new Promise((()=>{}));const e=new rd;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.su.push(t),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(yD){if(!Ad(yD))throw yD;Yh("AsyncQueue","Operation failed with retryable error: "+yD)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(t){const e=this.iu.then((()=>(this.uu=!0,t().catch((t=>{this.au=t,this.uu=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Qh("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.uu=!1,t))))));return this.iu=e,e}enqueueAfterDelay(t,e,n){this.Pu(),this.lu.indexOf(t)>-1&&(e=0);const r=Uy.createAndSchedule(this,t,e,n,(t=>this.Eu(t)));return this._u.push(r),r}Pu(){this.au&&Jh()}verifyOperationInProgress(){}async du(){let t;do{t=this.iu,await t}while(t!==this.iu)}Au(t){for(const e of this._u)if(e.timerId===t)return!0;return!1}Ru(t){return this.du().then((()=>{this._u.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this._u)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.du()}))}Vu(t){this.lu.push(t)}Eu(t){const e=this._u.indexOf(t);this._u.splice(e,1)}}class ob extends Jv{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new sb,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lb(this),this._firestoreClient.terminate()}}function ab(t){return t._firestoreClient||lb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lb(t){var e,n,r;const i=t._freezeSettings(),s=function(t,e,n,r){return new of(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Hv(r.experimentalLongPollingOptions),r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Av(t._authCredentials,t._appCheckCredentials,t._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class cb{constructor(t){this._byteString=t}static fromBase64String(t){try{return new cb($d.fromBase64String(t))}catch(t){throw new nd(ed.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new cb($d.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class ub{constructor(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(let r=0;r<e.length;++r)if(0===e[r].length)throw new nd(ed.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xd(e)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class hb{constructor(t){this._methodName=t}}class db{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new nd(ed.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new nd(ed.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return pd(this._lat,t._lat)||pd(this._long,t._long)}}const fb=/^__.*__$/;class pb{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new rg(t,this.data,this.fieldMask,e,this.fieldTransforms):new ng(t,this.data,e,this.fieldTransforms)}}class gb{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new rg(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function mb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jh()}}class yb{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(t){return new yb(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:n,yu:!1});return r.wu(t),r}Su(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(t){return this.gu({path:void 0,yu:!0})}Du(t){return Ab(t,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}mu(){if(this.path)for(let t=0;t<this.path.length;t++)this.wu(this.path.get(t))}wu(t){if(0===t.length)throw this.Du("Document fields must not be empty");if(mb(this.fu)&&fb.test(t))throw this.Du('Document fields cannot begin and end with "__"')}}class vb{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||ry(t)}Fu(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new yb({fu:t,methodName:e,vu:n,path:xd.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bb(t){const e=t._freezeSettings(),n=ry(t._databaseId);return new vb(t._databaseId,!!e.ignoreUndefinedProperties,n)}function wb(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);Pb("Data must be an object, but it was:",o,r);const a=Cb(r,o);let l,c;if(s.merge)l=new Qd(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Nb(e,r,n);if(!o.contains(i))throw new nd(ed.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Ob(t,i)||t.push(i)}l=new Qd(t),c=o.fieldTransforms.filter((t=>l.covers(t.field)))}else l=null,c=o.fieldTransforms;return new pb(new Sf(a),l,c)}class xb extends hb{_toFieldTransform(t){if(2!==t.fu)throw 1===t.fu?t.Du("".concat(this._methodName,"() can only appear at the top level of your update data")):t.Du("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xb}}class _b extends hb{_toFieldTransform(t){return new Kp(t.path,new Fp)}isEqual(t){return t instanceof _b}}function kb(t,e,n,r){const i=t.Fu(1,e,n);Pb("Data must be an object, but it was:",i,r);const s=[],o=Sf.empty();Bd(r,((t,r)=>{const a=Db(e,t,n);r=is(r);const l=i.Su(a);if(r instanceof xb)s.push(a);else{const t=Tb(r,l);null!=t&&(s.push(a),o.set(a,t))}}));const a=new Qd(s);return new gb(o,a,i.fieldTransforms)}function Sb(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[Nb(e,r,n)],l=[i];if(s.length%2!=0)throw new nd(ed.INVALID_ARGUMENT,"Function ".concat(e,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Nb(e,s[d])),l.push(s[d+1]);const c=[],u=Sf.empty();for(let d=a.length-1;d>=0;--d)if(!Ob(c,a[d])){const t=a[d];let e=l[d];e=is(e);const n=o.Su(t);if(e instanceof xb)c.push(t);else{const r=Tb(e,n);null!=r&&(c.push(t),u.set(t,r))}}const h=new Qd(c);return new gb(u,h,o.fieldTransforms)}function Eb(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Tb(n,t.Fu(r?4:3,e))}function Tb(t,e){if(Ib(t=is(t)))return Pb("Unsupported field value:",e,t),Cb(t,e);if(t instanceof hb)return function(t,e){if(!mb(e.fu))throw e.Du("".concat(t._methodName,"() can only be used with update() and set()"));if(!e.path)throw e.Du("".concat(t._methodName,"() is not currently supported inside arrays"));const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&4!==e.fu)throw e.Du("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Tb(i,e.bu(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=is(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ap(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=md.fromDate(t);return{timestampValue:Fg(e.serializer,n)}}if(t instanceof md){const n=new md(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Fg(e.serializer,n)}}if(t instanceof db)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof cb)return{bytesValue:Vg(e.serializer,t._byteString)};if(t instanceof eb){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Du("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Bg(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Du("Unsupported field value: ".concat(Yv(t)))}(t,e)}function Cb(t,e){const n={};return Hd(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Bd(t,((t,r)=>{const i=Tb(r,e.pu(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ib(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof md||t instanceof db||t instanceof cb||t instanceof eb||t instanceof hb)}function Pb(t,e,n){if(!Ib(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=Yv(n);throw"an object"===r?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function Nb(t,e,n){if((e=is(e))instanceof ub)return e._internalPath;if("string"==typeof e)return Db(t,e);throw Ab("Field path arguments must be of type string or ",t,!1,void 0,n)}const Mb=new RegExp("[~\\*/\\[\\]]");function Db(t,e,n){if(e.search(Mb)>=0)throw Ab("Invalid field path (".concat(e,"). Paths must not contain '~', '*', '/', '[', or ']'"),t,!1,void 0,n);try{return new ub(...e.split("."))._internalPath}catch(r){throw Ab("Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),t,!1,void 0,n)}}function Ab(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(e,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new nd(ed.INVALID_ARGUMENT,a+t+l)}function Ob(t,e){return t.some((t=>t.isEqual(e)))}class Rb{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new eb(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new Lb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(jb("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class Lb extends Rb{data(){return super.data()}}function jb(t,e){return"string"==typeof e?Db(t,e):e instanceof ub?e._internalPath:e._delegate._internalPath}function Fb(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new nd(ed.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Vb{}class Ub extends Vb{}function zb(t,e){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];e instanceof Vb&&n.push(e),n=n.concat(i),function(t){const e=t.filter((t=>t instanceof Wb)).length,n=t.filter((t=>t instanceof Bb)).length;if(e>1||e>0&&n>0)throw new nd(ed.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)t=o._apply(t);return t}class Bb extends Ub{constructor(t,e,n){super(),this._field=t,this._op=e,this._value=n,this.type="where"}static _create(t,e,n){return new Bb(t,e,n)}_apply(t){const e=this._parse(t);return Xb(t._query,e),new tb(t.firestore,t.converter,lp(t._query,e))}_parse(t){const e=bb(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new nd(ed.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Qb(o,s);const e=[];for(const n of o)e.push(Yb(r,t,n));a={arrayValue:{values:e}}}else a=Yb(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Qb(o,s),a=Eb(n,e,o,"in"===s||"not-in"===s);return Af.create(i,s,a)}(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value);return n}}function Hb(t,e,n){const r=e,i=jb("where",t);return Bb._create(i,r,n)}class Wb extends Vb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Wb(t,e)}_parse(t){const e=this._queryConstraints.map((e=>e._parse(t))).filter((t=>t.getFilters().length>0));return 1===e.length?e[0]:Of.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return 0===e.getFilters().length?t:(function(t,e){let n=t;const r=e.getFlattenedFilters();for(const i of r)Xb(n,i),n=lp(n,i)}(t._query,e),new tb(t.firestore,t.converter,lp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class qb extends Ub{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new qb(t,e)}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new nd(ed.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new nd(ed.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Nf(e,n)}(t._query,this._field,this._direction);return new tb(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new tp(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}function Kb(t){const e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=jb("orderBy",t);return qb._create(n,e)}class Gb extends Ub{constructor(t,e,n){super(),this.type=t,this._limit=e,this._limitType=n}static _create(t,e,n){return new Gb(t,e,n)}_apply(t){return new tb(t.firestore,t.converter,cp(t._query,this._limit,this._limitType))}}function Yb(t,e,n){if("string"==typeof(n=is(n))){if(""===n)throw new nd(ed.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ip(e)&&-1!==n.indexOf("/"))throw new nd(ed.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=e.path.child(bd.fromString(n));if(!_d.isDocumentKey(r))throw new nd(ed.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return mf(t,new _d(r))}if(n instanceof eb)return mf(t,n._key);throw new nd(ed.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Yv(n),"."))}function Qb(t,e){if(!Array.isArray(t)||0===t.length)throw new nd(ed.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(e.toString(),"' filters."))}function Xb(t,e){const n=function(t,e){for(const n of t)for(const t of n.getFlattenedFilters())if(e.indexOf(t.op)>=0)return t.op;return null}(t.filters,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new nd(ed.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(e.op.toString(),"' filter.")):new nd(ed.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(e.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class $b{convertValue(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cf(t)){case 0:return null;case 1:return t.booleanValue;case 2:return tf(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ef(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Jh()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Bd(t,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new db(tf(t.latitude),tf(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=rf(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(sf(t));default:return null}}convertTimestamp(t){const e=Zd(t);return new md(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=bd.fromString(t);Zh(um(n));const r=new af(n.get(1),n.get(3)),i=new _d(n.popFirst(5));return r.isEqual(e)||Qh("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(e.projectId,"/").concat(e.database,") instead.")),i}}function Jb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Zb{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class tw extends Rb{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const e=new ew(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(jb("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class ew extends tw{data(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(t)}}class nw{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Zb(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new ew(this._firestore,this._userDataWriter,n.key,n,new Zb(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const t=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new nd(ed.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new ew(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Zb(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new ew(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Zb(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:rw(e.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rw(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jh()}}function iw(t){t=Qv(t,eb);const e=Qv(t.firestore,ob);return zv(ab(e),t._key).then((n=>uw(e,t,n)))}class sw extends $b{constructor(t){super(),this.firestore=t}convertBytes(t){return new cb(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new eb(this.firestore,null,e)}}function ow(t){t=Qv(t,tb);const e=Qv(t.firestore,ob),n=ab(e),r=new sw(e);return Fb(t._query),Bv(n,t._query).then((n=>new nw(e,r,t,n)))}function aw(t,e,n){t=Qv(t,eb);const r=Qv(t.firestore,ob),i=bb(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(e=is(e))||e instanceof ub?Sb(i,"updateDoc",t._key,e,n,a):kb(i,"updateDoc",t._key,e),cw(r,[s.toMutation(t._key,Yp.exists(!0))])}function lw(t,e){const n=Qv(t.firestore,ob),r=ib(t),i=Jb(t.converter,e);return cw(n,[wb(bb(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,Yp.exists(!1))]).then((()=>r))}function cw(t,e){return function(t,e){const n=new rd;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=Pv(t);try{const t=await function(t,e){const n=td(t),r=md.now(),i=e.reduce(((t,e)=>t.add(e.key)),Ip());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let a=bp(),l=Ip();return n.os.getEntries(t,i).next((t=>{a=t,a.forEach(((t,e)=>{e.isValidDocument()||(l=l.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,a))).next((i=>{s=i;const o=[];for(const t of e){const e=tg(t,s.get(t.key).overlayedDocument);null!=e&&o.push(new rg(t.key,e,Ef(e.value.mapValue),Yp.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,o,e)})).next((e=>{o=e;const r=e.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:_p(s)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.xa[t.currentUser.toKey()];r||(r=new Wd(pd)),r=r.insert(e,n),t.xa[t.currentUser.toKey()]=r}(r,t.batchId,n),await Ev(r,t.changes),await Cy(r.remoteStore)}catch(t){const e=zy(t,"Failed to persist write");n.reject(e)}}(await Vv(t),e,n))),n.promise}(ab(t),e)}function uw(t,e,n){const r=n.docs.get(e._key),i=new sw(t);return new tw(t,i,e._key,r,new Zb(n.hasPendingWrites,n.fromCache),e.converter)}new WeakMap;!function(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(t){qh=t}(xo),mo(new ss("firestore",((t,n)=>{let{instanceIdentifier:r,options:i}=n;const s=t.getProvider("app").getImmediate(),o=new ob(new ad(t.getProvider("auth-internal")),new hd(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new nd(ed.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new af(t.options.projectId,e)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),So(Hh,"4.6.3",t),So(Hh,"4.6.3","esm2017")}();const hw=_o({apiKey:"AIzaSyAFsCOOnPOa7FfYZn_ohQFFfHKZkPhIv5Q",authDomain:"workout-tracker-9d1ec.firebaseapp.com",projectId:"workout-tracker-9d1ec",storageBucket:"workout-tracker-9d1ec.appspot.com",messagingSenderId:"356026845204",appId:"1:356026845204:web:7a94d2907d821d1224bf01",measurementId:"G-HHJ3X5BDJY"}),dw=(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko();t=is(t);const e=yo(t,Na);e.isInitialized()?e.getImmediate():function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=yo(t,Na);if(n.isInitialized()){const t=n.getImmediate();if(Ki(e,n.getOptions()))return t;throw ja.create("already-initialized")}const r=n.initialize({options:e})}(t)}(hw),function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ko();const e=yo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=yo(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(Ki(n.getOptions(),null!==e&&void 0!==e?e:{}))return t;bl(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:wh,persistence:[Pu,du,pu]}),r=Li("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const t=new URL(r,location.origin);if(location.origin===t.origin){const e=(i=t.toString(),async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>Sh)return;const r=null===e||void 0===e?void 0:e.token;Eh!==r&&(Eh=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(t,e,n){is(t).beforeAuthStateChanged(e,n)}(n,e,(()=>e(n.currentUser))),function(t,e,n,r){is(t).onIdTokenChanged(e,n,r)}(n,(t=>e(t)))}}var i;const s=Oi("auth");return s&&Oc(n,"http://".concat(s)),n}(hw)),fw=function(t,e){const n="string"==typeof t?t:e||"(default)",r=yo("object"==typeof t?t:ko(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=(t=>{const e=Oi(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error("Invalid host ".concat(e," with no separate hostname and port!"));const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})("firestore");t&&Zv(r,...t)}return r}(hw),pw=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),c=J();return(0,zt.jsxs)(zt.Fragment,{children:[s&&(0,zt.jsx)(Gr,{variant:"success",children:s}),a&&(0,zt.jsx)(Gr,{variant:"danger",children:a}),(0,zt.jsxs)(Ti,{onSubmit:async e=>{e.preventDefault();try{console.log("Signing up with:",t,r),await async function(t,e,n){if(vo(t.app))return Promise.reject(_l(t));const r=Tc(t),i=Ac(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zc),s=await i.catch((e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&lu(t),e})),o=await tu._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(dw,t,r),o("Sign up successful!"),l(""),setTimeout((()=>{c("/log-workout")}),2e3)}catch(n){console.error(n),l(n.message),o("")}},children:[(0,zt.jsxs)(Ti.Group,{controlId:"formBasicEmail",children:[(0,zt.jsx)(Ti.Label,{children:"Email address"}),(0,zt.jsx)(Ti.Control,{type:"email",placeholder:"Enter email",value:t,onChange:t=>n(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formBasicPassword",children:[(0,zt.jsx)(Ti.Label,{children:"Password"}),(0,zt.jsx)(Ti.Control,{type:"password",placeholder:"Password",value:r,onChange:t=>i(t.target.value)})]}),(0,zt.jsx)(Fr,{variant:"primary",type:"submit",children:"Sign Up"})]})]})},gw=()=>{const t=J(),[n,r]=(0,e.useState)(""),[i,s]=(0,e.useState)(""),[o,a]=(0,e.useState)("");return(0,zt.jsxs)(zt.Fragment,{children:[o&&(0,zt.jsx)(Gr,{variant:"danger",children:o}),(0,zt.jsxs)(Ti,{onSubmit:async e=>{e.preventDefault();try{await function(t,e,n){return vo(t.app)?Promise.reject(_l(t)):au(is(t),Kc.credential(e,n)).catch((async e=>{throw e.code==="auth/".concat("password-does-not-meet-requirements")&&lu(t),e}))}(dw,n,i),t("/")}catch(r){a(r.message)}},children:[(0,zt.jsxs)(Ti.Group,{controlId:"formBasicEmail",children:[(0,zt.jsx)(Ti.Label,{children:"Email address"}),(0,zt.jsx)(Ti.Control,{type:"email",placeholder:"Enter email",value:n,onChange:t=>r(t.target.value),required:!0})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formBasicPassword",children:[(0,zt.jsx)(Ti.Label,{children:"Password"}),(0,zt.jsx)(Ti.Control,{type:"password",placeholder:"Password",value:i,onChange:t=>s(t.target.value),required:!0})]}),(0,zt.jsx)(Fr,{variant:"primary",type:"submit",style:{marginTop:"20px"},children:"Sign In"})]})]})},mw=e.forwardRef(((t,e)=>{let{bsPrefix:n,bg:r="primary",pill:i=!1,text:s,className:o,as:a="span",...l}=t;const c=Gt(n,"badge");return(0,zt.jsx)(a,{ref:e,...l,className:Nt()(o,c,i&&"rounded-pill",s&&"text-".concat(s),r&&"bg-".concat(r))})}));mw.displayName="Badge";const yw=mw,vw=["Creatine","BCAAs","Protein","Beta-alanine","Caffeine","Glutamine","Pre-Workout"],bw=()=>{var t;const n=J(),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)([""]),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(""),[y,v]=(0,e.useState)(""),[b,w]=(0,e.useState)(""),[x,_]=(0,e.useState)(""),[k,S]=(0,e.useState)(""),[E,T]=(0,e.useState)("g"),[C,I]=(0,e.useState)([]),[P,N]=(0,e.useState)({}),[M,D]=(0,e.useState)([]),[A,O]=(0,e.useState)({}),[R,L]=(0,e.useState)(""),[j,F]=(0,e.useState)(""),[V,U]=(0,e.useState)(JSON.parse(localStorage.getItem("exercises"))||[]),[z,B]=(0,e.useState)(""),[H,W]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{const t=dw.currentUser;if(t){const e=ib(fw,"profiles",t.uid),n=await iw(e);if(n.exists()){const t=n.data();N(t),D(t.customSupplements||[]),O(t.customExercises||{})}else N({split:""})}})()}),[]),(0,e.useEffect)((()=>{localStorage.setItem("exercises",JSON.stringify(V))}),[V]);const q=[...vw,...M],K=A[y]||[];return(0,zt.jsxs)(zt.Fragment,{children:[j&&(0,zt.jsx)(Gr,{variant:"success",children:j}),R&&(0,zt.jsx)(Gr,{variant:"danger",children:R}),(0,zt.jsxs)(Ti,{onSubmit:async t=>{t.preventDefault();const e=dw.currentUser;if(e)try{await lw(rb(fw,"workouts"),{exercises:V,nutrition:f,quality:g,split:P.split,splitDay:y,supplements:C,uid:e.uid,timestamp:new _b("serverTimestamp")}),F("Workout logged successfully!"),L(""),localStorage.removeItem("exercises"),setTimeout((()=>{n("/dashboard")}),2e3);const t=V.reduce(((t,e)=>(t[y]||(t[y]=[]),t[y].includes(e.exercise)||t[y].push(e.exercise),t)),{...A}),r=ib(fw,"profiles",e.uid);await aw(r,{customExercises:t}),O(t),i(""),o(""),l(""),u(""),d([""]),p(""),m(""),v(""),I([]),U([]),B(""),W("")}catch(r){console.error(r),L(r.message),F("")}},children:[(0,zt.jsxs)(Ti.Group,{controlId:"formSplitDay",children:[(0,zt.jsx)(Ti.Label,{children:"Workout Split Day"}),(0,zt.jsxs)(Ti.Control,{as:"select",value:y,onChange:t=>{const e=t.target.value;v(e),"Cardio"===e&&(l(""),u(1),d([""]),B(""),W(""))},required:!0,children:[(0,zt.jsx)("option",{value:"",children:"Select Split Day"}),P.split&&(null===(t={"push-pull-legs":["Push","Pull","Legs","Cardio"],"upper-lower":["Upper","Lower","Cardio"],"full-body":["Full Body","Cardio"],"bro-split":["Chest","Back","Shoulders","Arms","Legs","Cardio"],"body-part":["Chest and Triceps","Back and Biceps","Shoulders and Abs","Legs","Cardio"],"push-pull":["Push","Pull","Cardio"],hybrid:["Push","Pull","Legs","Upper","Lower","Full Body","Chest","Back","Shoulders","Arms","Chest and Triceps","Back and Biceps","Shoulders and Abs","Legs","Cardio"]}[P.split])||void 0===t?void 0:t.map(((t,e)=>(0,zt.jsx)("option",{value:t,children:t},e))))]})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formExercise",children:[(0,zt.jsx)(Ti.Label,{children:"Exercise"}),(0,zt.jsxs)(Ti.Control,{as:"select",value:r,onChange:t=>i(t.target.value),children:[(0,zt.jsx)("option",{value:"",children:"Select Exercise"}),K.map(((t,e)=>(0,zt.jsx)("option",{value:t,children:t},e)))]}),(0,zt.jsx)(Ti.Control,{type:"text",placeholder:"Or enter a new exercise",value:s,onChange:t=>o(t.target.value)})]}),"Cardio"===y?(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsxs)(Ti.Group,{controlId:"formDuration",children:[(0,zt.jsx)(Ti.Label,{children:"Duration (minutes)"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter duration",value:z,onChange:t=>B(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formDistance",children:[(0,zt.jsx)(Ti.Label,{children:"Distance (miles)"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter distance",value:H,onChange:t=>W(t.target.value)})]})]}):(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsxs)(Ti.Group,{controlId:"formWeight",children:[(0,zt.jsx)(Ti.Label,{children:"Weight (lbs)"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter weight",value:a,onChange:t=>l(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formSets",children:[(0,zt.jsx)(Ti.Label,{children:"Sets"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter sets",value:c,onChange:t=>{const e=t.target.value;u(e);const n=Array.from({length:e},(()=>""));d(n)}})]}),h.map(((t,e)=>(0,zt.jsxs)(Ti.Group,{controlId:"formReps".concat(e),children:[(0,zt.jsxs)(Ti.Label,{children:["Reps for Set ",e+1]}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Reps for Set ".concat(e+1),value:t,onChange:t=>((t,e)=>{const n=[...h];n[t]=e,d(n)})(e,t.target.value)})]},e)))]}),(0,zt.jsx)(Fr,{onClick:()=>{const t={exercise:s||r,weight:a,sets:c,reps:h,duration:z,distance:H};U([...V,t]),i(""),o(""),l(""),u(""),d([""]),B(""),W("")},style:{marginTop:"20px"},children:"Add Exercise"}),(0,zt.jsx)("div",{children:V.map(((t,e)=>(0,zt.jsx)("div",{children:(0,zt.jsx)(yw,{pill:!0,bg:"info",style:{marginRight:"5px",marginTop:"10px",cursor:"pointer"},onClick:()=>(t=>{const e=V.filter(((e,n)=>n!==t));U(e)})(e),children:"Cardio"===y?"".concat(t.exercise," - ").concat(t.duration?"".concat(t.duration," minutes"):""," ").concat(t.distance?"".concat(t.distance," miles"):""):"".concat(t.exercise," - ").concat(t.weight," lbs - ").concat(t.sets," sets - ").concat(t.reps.join(", ")," reps")})},e)))}),(0,zt.jsxs)(Ti.Group,{controlId:"formNutrition",style:{marginTop:"20px"},children:[(0,zt.jsx)(Ti.Label,{children:"Nutrition"}),(0,zt.jsx)(Ti.Control,{type:"text",placeholder:"Enter what you ate",value:f,onChange:t=>p(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formQuality",children:[(0,zt.jsx)(Ti.Label,{children:"Quality"}),(0,zt.jsxs)(Ti.Control,{as:"select",value:g,onChange:t=>m(t.target.value),required:!0,children:[(0,zt.jsx)("option",{value:"",children:"Select Quality"}),(0,zt.jsx)("option",{value:"Poor",children:"Poor"}),(0,zt.jsx)("option",{value:"Normal",children:"Normal"}),(0,zt.jsx)("option",{value:"Great",children:"Great"})]})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formSupplements",children:[(0,zt.jsx)(Ti.Label,{children:"Supplements"}),(0,zt.jsxs)("div",{style:{display:"flex",alignItems:"center",marginBottom:"10px"},children:[(0,zt.jsxs)(Ti.Control,{as:"select",value:b,onChange:t=>w(t.target.value),style:{marginRight:"10px"},children:[(0,zt.jsx)("option",{value:"",children:"Select Supplement"}),q.map(((t,e)=>(0,zt.jsx)("option",{value:t,children:t},e)))]}),(0,zt.jsx)(Ti.Control,{type:"text",placeholder:"Custom Supplement",value:x,onChange:t=>_(t.target.value),style:{marginRight:"10px"}}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Dosage",value:k,onChange:t=>S(t.target.value),style:{width:"100px",marginRight:"10px"}}),(0,zt.jsxs)(Ti.Control,{as:"select",value:E,onChange:t=>T(t.target.value),style:{width:"70px",marginRight:"10px"},children:[(0,zt.jsx)("option",{value:"g",children:"g"}),(0,zt.jsx)("option",{value:"mg",children:"mg"})]}),(0,zt.jsx)(Fr,{onClick:async()=>{let t="";if(b)t="".concat(b," - ").concat(k).concat(E);else if(x){t="".concat(x," - ").concat(k).concat(E);const e=dw.currentUser;if(e){const t=ib(fw,"profiles",e.uid);await aw(t,{customSupplements:[...M,x]}),D([...M,x])}}t&&(I([...C,t]),w(""),_(""),S(""),T("g"))},children:"Add"})]})]}),(0,zt.jsx)("div",{children:C.map(((t,e)=>(0,zt.jsx)(yw,{pill:!0,bg:"info",style:{marginRight:"5px",marginTop:"10px"},children:t},e)))}),(0,zt.jsx)(Fr,{variant:"primary",type:"submit",style:{marginTop:"20px"},children:"Log Workout"})]})]})},ww=()=>{const[t,n]=(0,e.useState)(""),[r,i]=(0,e.useState)(""),[s,o]=(0,e.useState)(""),[a,l]=(0,e.useState)(""),[c,u]=(0,e.useState)(""),[h,d]=(0,e.useState)(""),[f,p]=(0,e.useState)(""),[g,m]=(0,e.useState)(""),[y,v]=(0,e.useState)(""),[b,w]=(0,e.useState)(""),[x,_]=(0,e.useState)(""),[k,S]=(0,e.useState)("");(0,e.useEffect)((()=>{(async()=>{const t=dw.currentUser;if(t){const e=ib(fw,"profiles",t.uid),r=await iw(e);if(r.exists()){const t=r.data();if(n(t.firstName||""),i(t.lastName||""),o(t.split||""),l(t.age||""),u(t.gender||""),d(t.weight||""),t.height){const[e,n]=t.height.split("' ");p(e||""),m((null===n||void 0===n?void 0:n.replace('"',""))||"")}v(t.bmi||""),w(t.bodyFat||"")}}})()}),[]);return(0,zt.jsxs)(zt.Fragment,{children:[x&&(0,zt.jsx)(Gr,{variant:"success",children:x}),k&&(0,zt.jsx)(Gr,{variant:"danger",children:k}),(0,zt.jsxs)(Ti,{onSubmit:async e=>{e.preventDefault();const n=dw.currentUser;if(n)try{const e=ib(fw,"profiles",n.uid);await function(t,e,n){t=Qv(t,eb);const r=Qv(t.firestore,ob),i=Jb(t.converter,e,n);return cw(r,[wb(bb(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,Yp.none())])}(e,{firstName:t,lastName:r,split:s,age:a,gender:c,weight:h,height:"".concat(f,"' ").concat(g,'"'),bmi:y,bodyFat:b});const i=rb(e,"metrics"),o=md.now();await lw(i,{weight:h,bmi:y,bodyFat:b,timestamp:o}),_("Profile updated successfully!"),S("")}catch(i){console.error(i),S(i.message),_("")}},children:[(0,zt.jsxs)(Ti.Group,{controlId:"formFirstName",children:[(0,zt.jsx)(Ti.Label,{children:"First Name"}),(0,zt.jsx)(Ti.Control,{type:"text",placeholder:"Enter your first name",value:t,onChange:t=>n(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formLastName",children:[(0,zt.jsx)(Ti.Label,{children:"Last Name"}),(0,zt.jsx)(Ti.Control,{type:"text",placeholder:"Enter your last name",value:r,onChange:t=>i(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formSplit",children:[(0,zt.jsx)(Ti.Label,{children:"Workout Split"}),(0,zt.jsxs)(Ti.Control,{as:"select",value:s,onChange:t=>o(t.target.value),children:[(0,zt.jsx)("option",{value:"",children:"Select Split"}),(0,zt.jsx)("option",{value:"push-pull-legs",children:"Push/Pull/Legs - Push (chest, shoulders, triceps), Pull (back, biceps), Legs (quads, hamstrings, calves)"}),(0,zt.jsx)("option",{value:"upper-lower",children:"Upper/Lower - Upper body (chest, back, shoulders, arms), Lower body (quads, hamstrings, glutes, calves)"}),(0,zt.jsx)("option",{value:"full-body",children:"Full Body - Each workout targets the entire body, typically performed 2-3 times per week"}),(0,zt.jsx)("option",{value:"bro-split",children:"Bro Split - Day 1: Chest, Day 2: Back, Day 3: Shoulders, Day 4: Arms, Day 5: Legs"}),(0,zt.jsx)("option",{value:"body-part",children:"Body Part Split - Day 1: Chest and Triceps, Day 2: Back and Biceps, Day 3: Shoulders and Abs, Day 4: Legs"}),(0,zt.jsx)("option",{value:"push-pull",children:"Push/Pull - Push (upper body pushing exercises, lower body exercises), Pull (upper body pulling exercises, core/abs)"}),(0,zt.jsx)("option",{value:"hybrid",children:"Hybrid Split - Combination of different splits based on individual preferences and goals"})]})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formAge",children:[(0,zt.jsx)(Ti.Label,{children:"Age"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter your age",value:a,onChange:t=>l(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formGender",children:[(0,zt.jsx)(Ti.Label,{children:"Gender"}),(0,zt.jsxs)(Ti.Control,{as:"select",value:c,onChange:t=>u(t.target.value),children:[(0,zt.jsx)("option",{value:"",children:"Select Gender"}),(0,zt.jsx)("option",{value:"male",children:"Male"}),(0,zt.jsx)("option",{value:"female",children:"Female"}),(0,zt.jsx)("option",{value:"other",children:"Other"})]})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formWeight",children:[(0,zt.jsx)(Ti.Label,{children:"Weight (lbs)"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter your weight",value:h,onChange:t=>d(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formHeight",children:[(0,zt.jsx)(Ti.Label,{children:"Height"}),(0,zt.jsxs)("div",{style:{display:"flex"},children:[(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"ft",value:f,onChange:t=>p(t.target.value),style:{marginRight:"10px"}}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"in",value:g,onChange:t=>m(t.target.value)})]})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formBmi",children:[(0,zt.jsx)(Ti.Label,{children:"BMI"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter your BMI",value:y,onChange:t=>v(t.target.value)})]}),(0,zt.jsxs)(Ti.Group,{controlId:"formBodyFat",children:[(0,zt.jsx)(Ti.Label,{children:"Body Fat Percentage (%)"}),(0,zt.jsx)(Ti.Control,{type:"number",placeholder:"Enter your body fat percentage",value:b,onChange:t=>w(t.target.value)})]}),(0,zt.jsx)(Fr,{variant:"primary",type:"submit",children:"Save Profile"})]})]})},xw=()=>dw.currentUser?(0,zt.jsx)(pt,{}):(0,zt.jsx)(ft,{to:"/sign-in"}),_w=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,as:i="div",...s}=t;const o=Gt(n,"row"),a=Yt(),l=Qt(),c="".concat(o,"-cols"),u=[];return a.forEach((t=>{const e=s[t];let n;delete s[t],null!=e&&"object"===typeof e?({cols:n}=e):n=e;const r=t!==l?"-".concat(t):"";null!=n&&u.push("".concat(c).concat(r,"-").concat(n))})),(0,zt.jsx)(i,{ref:e,...s,className:Nt()(r,o,...u)})}));_w.displayName="Row";const kw=_w,Sw=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"card-body"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Sw.displayName="CardBody";const Ew=Sw,Tw=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"card-footer"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Tw.displayName="CardFooter";const Cw=Tw,Iw=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,as:s="div",...o}=t;const a=Gt(r,"card-header"),l=(0,e.useMemo)((()=>({cardHeaderBsPrefix:a})),[a]);return(0,zt.jsx)(Cr.Provider,{value:l,children:(0,zt.jsx)(s,{ref:n,...o,className:Nt()(i,a)})})}));Iw.displayName="CardHeader";const Pw=Iw,Nw=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,variant:i,as:s="img",...o}=t;const a=Gt(n,"card-img");return(0,zt.jsx)(s,{ref:e,className:Nt()(i?"".concat(a,"-").concat(i):a,r),...o})}));Nw.displayName="CardImg";const Mw=Nw,Dw=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"card-img-overlay"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Dw.displayName="CardImgOverlay";const Aw=Dw,Ow=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="a",...s}=t;return r=Gt(r,"card-link"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Ow.displayName="CardLink";const Rw=Ow,Lw=Un("h6"),jw=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=Lw,...s}=t;return r=Gt(r,"card-subtitle"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));jw.displayName="CardSubtitle";const Fw=jw,Vw=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="p",...s}=t;return r=Gt(r,"card-text"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Vw.displayName="CardText";const Uw=Vw,zw=Un("h5"),Bw=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=zw,...s}=t;return r=Gt(r,"card-title"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));Bw.displayName="CardTitle";const Hw=Bw,Ww=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:o,body:a=!1,children:l,as:c="div",...u}=t;const h=Gt(n,"card");return(0,zt.jsx)(c,{ref:e,...u,className:Nt()(r,h,i&&"bg-".concat(i),s&&"text-".concat(s),o&&"border-".concat(o)),children:a?(0,zt.jsx)(Ew,{children:l}):l})}));Ww.displayName="Card";const qw=Object.assign(Ww,{Img:Mw,Title:Hw,Subtitle:Fw,Body:Ew,Link:Rw,Text:Uw,Header:Pw,Footer:Cw,ImgOverlay:Aw}),Kw=()=>{const{id:t}=function(){let{matches:t}=e.useContext(G),n=t[t.length-1];return n?n.params:{}}(),n=J(),[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>{(async()=>{const e=ib(fw,"workouts",t),n=await iw(e);n.exists()&&i(n.data())})()}),[t]),r?(0,zt.jsxs)("div",{children:[(0,zt.jsx)(Fr,{variant:"secondary",onClick:()=>n(-1),style:{marginBottom:"20px"},children:"Back"}),(0,zt.jsx)("h2",{children:"Workout Details"}),(0,zt.jsxs)("p",{children:[(0,zt.jsx)("strong",{children:"Date:"})," ",new Date(1e3*r.timestamp.seconds).toLocaleDateString()]}),(0,zt.jsx)(kw,{xs:1,md:2,lg:3,className:"g-4",children:r.exercises.map(((t,e)=>(0,zt.jsx)(hi,{children:(0,zt.jsx)(qw,{children:(0,zt.jsxs)(qw.Body,{children:[(0,zt.jsx)(qw.Title,{children:t.exercise}),t.weight&&(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Weight:"})," ",t.weight," lbs"]}),t.sets&&(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Sets:"})," ",t.sets]}),t.reps&&t.reps.length>0&&(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Reps:"})," ",t.reps.join(", ")]}),t.duration&&(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Duration:"})," ",t.duration," minutes"]}),t.distance&&(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Distance:"})," ",t.distance," km"]})]})})},e)))}),(0,zt.jsx)(kw,{className:"g-4",style:{marginTop:"20px"},children:(0,zt.jsx)(hi,{children:(0,zt.jsx)(qw,{children:(0,zt.jsxs)(qw.Body,{children:[(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Nutrition:"})," ",r.nutrition]}),(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Quality:"})," ",r.quality]}),(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Split Day:"})," ",r.splitDay]}),(0,zt.jsxs)(qw.Text,{children:[(0,zt.jsx)("strong",{children:"Supplements:"})," ",r.supplements.join(", ")]})]})})})})]}):(0,zt.jsx)("div",{children:"Loading..."})},Gw=(0,e.createContext)(),Yw=t=>{let{children:n}=t;const[r,i]=(0,e.useState)(null);return(0,e.useEffect)((()=>dw.onAuthStateChanged((t=>{i(t)}))),[]),(0,zt.jsx)(Gw.Provider,{value:{currentUser:r},children:n})};var Qw;function Xw(t){if((!Qw&&0!==Qw||t)&&me){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),Qw=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Qw}const $w=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"modal-body"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));$w.displayName="ModalBody";const Jw=$w,Zw=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:s,size:o,fullscreen:a,children:l,scrollable:c,...u}=t;n=Gt(n,"modal");const h="".concat(n,"-dialog"),d="string"===typeof a?"".concat(n,"-fullscreen-").concat(a):"".concat(n,"-fullscreen");return(0,zt.jsx)("div",{...u,ref:e,className:Nt()(h,r,o&&"".concat(n,"-").concat(o),s&&"".concat(h,"-centered"),c&&"".concat(h,"-scrollable"),a&&d),children:(0,zt.jsx)("div",{className:Nt()("".concat(n,"-content"),i),children:l})})}));Zw.displayName="ModalDialog";const tx=Zw,ex=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i="div",...s}=t;return r=Gt(r,"modal-footer"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));ex.displayName="ModalFooter";const nx=ex,rx=e.forwardRef(((t,e)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...o}=t;return n=Gt(n,"modal-header"),(0,zt.jsx)(jn,{ref:e,...o,className:Nt()(r,n),closeLabel:i,closeButton:s})}));rx.displayName="ModalHeader";const ix=rx,sx=Un("h4"),ox=e.forwardRef(((t,e)=>{let{className:n,bsPrefix:r,as:i=sx,...s}=t;return r=Gt(r,"modal-title"),(0,zt.jsx)(i,{ref:e,className:Nt()(n,r),...s})}));ox.displayName="ModalTitle";const ax=ox;function lx(t){return(0,zt.jsx)(Sn,{...t,timeout:null})}function cx(t){return(0,zt.jsx)(Sn,{...t,timeout:null})}const ux=e.forwardRef(((t,n)=>{let{bsPrefix:r,className:i,style:s,dialogClassName:o,contentClassName:a,children:l,dialogAs:c=tx,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":d,"aria-label":f,show:p=!1,animation:g=!0,backdrop:m=!0,keyboard:y=!0,onEscapeKeyDown:v,onShow:b,onHide:w,container:x,autoFocus:_=!0,enforceFocus:k=!0,restoreFocus:S=!0,restoreFocusOptions:E,onEntered:T,onExit:C,onExiting:I,onEnter:P,onEntering:N,onExited:M,backdropClassName:D,manager:A,...O}=t;const[R,L]=(0,e.useState)({}),[j,F]=(0,e.useState)(!1),V=(0,e.useRef)(!1),U=(0,e.useRef)(!1),z=(0,e.useRef)(null),[B,H]=(0,e.useState)(null),W=Ne(n,H),q=Be(w),K=function(){const{dir:t}=(0,e.useContext)(Wt);return"rtl"===t}();r=Gt(r,"modal");const G=(0,e.useMemo)((()=>({onHide:q})),[q]);function Y(){return A||Jn({isRTL:K})}function Q(t){if(!me)return;const e=Y().getScrollbarWidth()>0,n=t.scrollHeight>Jt(t).documentElement.clientHeight;L({paddingRight:e&&!n?Xw():void 0,paddingLeft:!e&&n?Xw():void 0})}const X=Be((()=>{B&&Q(B.dialog)}));tn((()=>{xe(window,"resize",X),null==z.current||z.current()}));const $=()=>{V.current=!0},J=t=>{V.current&&B&&t.target===B.dialog&&(U.current=!0),V.current=!1},Z=()=>{F(!0),z.current=Se(B.dialog,(()=>{F(!1)}))},tt=t=>{"static"!==m?U.current||t.target!==t.currentTarget?U.current=!1:null==w||w():(t=>{t.target===t.currentTarget&&Z()})(t)},et=(0,e.useCallback)((t=>(0,zt.jsx)("div",{...t,className:Nt()("".concat(r,"-backdrop"),D,!g&&"show")})),[g,D,r]),nt={...s,...R};nt.display="block";return(0,zt.jsx)(Nn.Provider,{value:G,children:(0,zt.jsx)(xn,{show:p,ref:W,backdrop:m,container:x,keyboard:!0,autoFocus:_,enforceFocus:k,restoreFocus:S,restoreFocusOptions:E,onEscapeKeyDown:t=>{y?null==v||v(t):(t.preventDefault(),"static"===m&&Z())},onShow:b,onHide:w,onEnter:(t,e)=>{t&&Q(t),null==P||P(t,e)},onEntering:(t,e)=>{null==N||N(t,e),we(window,"resize",X)},onEntered:T,onExit:t=>{null==z.current||z.current(),null==C||C(t)},onExiting:I,onExited:t=>{t&&(t.style.display=""),null==M||M(t),xe(window,"resize",X)},manager:Y(),transition:g?lx:void 0,backdropTransition:g?cx:void 0,renderBackdrop:et,renderDialog:t=>(0,zt.jsx)("div",{role:"dialog",...t,style:nt,className:Nt()(i,r,j&&"".concat(r,"-static"),!g&&"show"),onClick:m?tt:void 0,onMouseUp:J,"data-bs-theme":u,"aria-label":f,"aria-labelledby":h,"aria-describedby":d,children:(0,zt.jsx)(c,{...O,onMouseDown:$,className:o,contentClassName:a,children:l})})})})}));ux.displayName="Modal";const hx=Object.assign(ux,{Body:Jw,Header:ix,Title:ax,Footer:nx,Dialog:tx,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var dx={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fx=e.createContext&&e.createContext(dx),px=["attr","size","title"];function gx(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(this,arguments)}function yx(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function vx(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?yx(Object(n),!0).forEach((function(e){bx(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yx(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function bx(t,e,n){return(e=function(t){var e=function(t,e){if("object"!=typeof t||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==typeof e?e:e+""}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wx(t){return t&&t.map(((t,n)=>e.createElement(t.tag,vx({key:n},t.attr),wx(t.child))))}function xx(t){return n=>e.createElement(_x,mx({attr:vx({},t.attr)},n),wx(t.child))}function _x(t){var n=n=>{var r,{attr:i,size:s,title:o}=t,a=gx(t,px),l=s||n.size||"1em";return n.className&&(r=n.className),t.className&&(r=(r?r+" ":"")+t.className),e.createElement("svg",mx({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:vx(vx({color:t.color||n.color},n.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&e.createElement("title",null,o),t.children)};return void 0!==fx?e.createElement(fx.Consumer,null,(t=>n(t))):n(dx)}function kx(t){return xx({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Sx(t){return Sx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sx(t)}function Ex(t){var e=function(t,e){if("object"!=Sx(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!=Sx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"==Sx(e)?e:e+""}function Tx(t,e,n){return(e=Ex(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cx(t){return t+.5|0}const Ix=(t,e,n)=>Math.max(Math.min(t,n),e);function Px(t){return Ix(Cx(2.55*t),0,255)}function Nx(t){return Ix(Cx(255*t),0,255)}function Mx(t){return Ix(Cx(t/2.55)/100,0,1)}function Dx(t){return Ix(Cx(100*t),0,100)}const Ax={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Ox=[..."0123456789ABCDEF"],Rx=t=>Ox[15&t],Lx=t=>Ox[(240&t)>>4]+Ox[15&t],jx=t=>(240&t)>>4===(15&t);function Fx(t){var e=(t=>jx(t.r)&&jx(t.g)&&jx(t.b)&&jx(t.a))(t)?Rx:Lx;return t?"#"+e(t.r)+e(t.g)+e(t.b)+((t,e)=>t<255?e(t):"")(t.a,e):void 0}const Vx=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ux(t,e,n){const r=e*Math.min(n,1-n),i=function(e){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+t/30)%12;return n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function zx(t,e,n){const r=function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+t/60)%6;return n-n*e*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function Bx(t,e,n){const r=Ux(t,1,.5);let i;for(e+n>1&&(i=1/(e+n),e*=i,n*=i),i=0;i<3;i++)r[i]*=1-e-n,r[i]+=e;return r}function Hx(t){const e=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(e,n,r),s=Math.min(e,n,r),o=(i+s)/2;let a,l,c;return i!==s&&(c=i-s,l=o>.5?c/(2-i-s):c/(i+s),a=function(t,e,n,r,i){return t===i?(e-n)/r+(e<n?6:0):e===i?(n-t)/r+2:(t-e)/r+4}(e,n,r,c,i),a=60*a+.5),[0|a,l||0,o]}function Wx(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Nx)}function qx(t,e,n){return Wx(Ux,t,e,n)}function Kx(t){return(t%360+360)%360}function Gx(t){const e=Vx.exec(t);let n,r=255;if(!e)return;e[5]!==n&&(r=e[6]?Px(+e[5]):Nx(+e[5]));const i=Kx(+e[2]),s=+e[3]/100,o=+e[4]/100;return n="hwb"===e[1]?function(t,e,n){return Wx(Bx,t,e,n)}(i,s,o):"hsv"===e[1]?function(t,e,n){return Wx(zx,t,e,n)}(i,s,o):qx(i,s,o),{r:n[0],g:n[1],b:n[2],a:r}}const Yx={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Qx={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Xx;function $x(t){Xx||(Xx=function(){const t={},e=Object.keys(Qx),n=Object.keys(Yx);let r,i,s,o,a;for(r=0;r<e.length;r++){for(o=a=e[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,Yx[s]);s=parseInt(Qx[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),Xx.transparent=[0,0,0,0]);const e=Xx[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}const Jx=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Zx=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,t_=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function e_(t,e,n){if(t){let r=Hx(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,0===e?360:1)),r=qx(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function n_(t,e){return t?Object.assign(e||{},t):t}function r_(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Nx(t[3]))):(e=n_(t,{r:0,g:0,b:0,a:1})).a=Nx(e.a),e}function i_(t){return"r"===t.charAt(0)?function(t){const e=Jx.exec(t);let n,r,i,s=255;if(e){if(e[7]!==n){const t=+e[7];s=e[8]?Px(t):Ix(255*t,0,255)}return n=+e[1],r=+e[3],i=+e[5],n=255&(e[2]?Px(n):Ix(n,0,255)),r=255&(e[4]?Px(r):Ix(r,0,255)),i=255&(e[6]?Px(i):Ix(i,0,255)),{r:n,g:r,b:i,a:s}}}(t):Gx(t)}class s_{constructor(t){if(t instanceof s_)return t;const e=typeof t;let n;"object"===e?n=r_(t):"string"===e&&(n=function(t){var e,n=t.length;return"#"===t[0]&&(4===n||5===n?e={r:255&17*Ax[t[1]],g:255&17*Ax[t[2]],b:255&17*Ax[t[3]],a:5===n?17*Ax[t[4]]:255}:7!==n&&9!==n||(e={r:Ax[t[1]]<<4|Ax[t[2]],g:Ax[t[3]]<<4|Ax[t[4]],b:Ax[t[5]]<<4|Ax[t[6]],a:9===n?Ax[t[7]]<<4|Ax[t[8]]:255})),e}(t)||$x(t)||i_(t)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var t=n_(this._rgb);return t&&(t.a=Mx(t.a)),t}set rgb(t){this._rgb=r_(t)}rgbString(){return this._valid?function(t){return t&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(Mx(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"))}(this._rgb):void 0}hexString(){return this._valid?Fx(this._rgb):void 0}hslString(){return this._valid?function(t){if(!t)return;const e=Hx(t),n=e[0],r=Dx(e[1]),i=Dx(e[2]);return t.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(i,"%, ").concat(Mx(t.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(i,"%)")}(this._rgb):void 0}mix(t,e){if(t){const n=this.rgb,r=t.rgb;let i;const s=e===i?.5:e,o=2*s-1,a=n.a-r.a,l=((o*a===-1?o:(o+a)/(1+o*a))+1)/2;i=1-l,n.r=255&l*n.r+i*r.r+.5,n.g=255&l*n.g+i*r.g+.5,n.b=255&l*n.b+i*r.b+.5,n.a=s*n.a+(1-s)*r.a,this.rgb=n}return this}interpolate(t,e){return t&&(this._rgb=function(t,e,n){const r=t_(Mx(t.r)),i=t_(Mx(t.g)),s=t_(Mx(t.b));return{r:Nx(Zx(r+n*(t_(Mx(e.r))-r))),g:Nx(Zx(i+n*(t_(Mx(e.g))-i))),b:Nx(Zx(s+n*(t_(Mx(e.b))-s))),a:t.a+n*(e.a-t.a)}}(this._rgb,t._rgb,e)),this}clone(){return new s_(this.rgb)}alpha(t){return this._rgb.a=Nx(t),this}clearer(t){return this._rgb.a*=1-t,this}greyscale(){const t=this._rgb,e=Cx(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}opaquer(t){return this._rgb.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return e_(this._rgb,2,t),this}darken(t){return e_(this._rgb,2,-t),this}saturate(t){return e_(this._rgb,1,t),this}desaturate(t){return e_(this._rgb,1,-t),this}rotate(t){return function(t,e){var n=Hx(t);n[0]=Kx(n[0]+e),n=qx(n),t.r=n[0],t.g=n[1],t.b=n[2]}(this._rgb,t),this}}function o_(){}const a_=(()=>{let t=0;return()=>t++})();function l_(t){return null===t||"undefined"===typeof t}function c_(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return"[object"===e.slice(0,7)&&"Array]"===e.slice(-6)}function u_(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function h_(t){return("number"===typeof t||t instanceof Number)&&isFinite(+t)}function d_(t,e){return h_(t)?t:e}function f_(t,e){return"undefined"===typeof t?e:t}const p_=(t,e)=>"string"===typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t;function g_(t,e,n){if(t&&"function"===typeof t.call)return t.apply(n,e)}function m_(t,e,n,r){let i,s,o;if(c_(t))if(s=t.length,r)for(i=s-1;i>=0;i--)e.call(n,t[i],i);else for(i=0;i<s;i++)e.call(n,t[i],i);else if(u_(t))for(o=Object.keys(t),s=o.length,i=0;i<s;i++)e.call(n,t[o[i]],o[i])}function y_(t,e){let n,r,i,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(i=t[n],s=e[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function v_(t){if(c_(t))return t.map(v_);if(u_(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let i=0;for(;i<r;++i)e[n[i]]=v_(t[n[i]]);return e}return t}function b_(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function w_(t,e,n,r){if(!b_(t))return;const i=e[t],s=n[t];u_(i)&&u_(s)?x_(i,s,r):e[t]=v_(s)}function x_(t,e,n){const r=c_(e)?e:[e],i=r.length;if(!u_(t))return t;const s=(n=n||{}).merger||w_;let o;for(let a=0;a<i;++a){if(o=r[a],!u_(o))continue;const e=Object.keys(o);for(let r=0,i=e.length;r<i;++r)s(e[r],t,o,n)}return t}function __(t,e){return x_(t,e,{merger:k_})}function k_(t,e,n){if(!b_(t))return;const r=e[t],i=n[t];u_(r)&&u_(i)?__(r,i):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=v_(i))}const S_={"":t=>t,x:t=>t.x,y:t=>t.y};function E_(t,e){const n=S_[e]||(S_[e]=function(t){const e=function(t){const e=t.split("."),n=[];let r="";for(const i of e)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(t);return t=>{for(const n of e){if(""===n)break;t=t&&t[n]}return t}}(e));return n(t)}function T_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const C_=t=>"undefined"!==typeof t,I_=t=>"function"===typeof t,P_=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};const N_=Math.PI,M_=2*N_,D_=M_+N_,A_=Number.POSITIVE_INFINITY,O_=N_/180,R_=N_/2,L_=N_/4,j_=2*N_/3,F_=Math.log10,V_=Math.sign;function U_(t,e,n){return Math.abs(t-e)<n}function z_(t){const e=Math.round(t);t=U_(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(F_(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function B_(t){return!isNaN(parseFloat(t))&&isFinite(t)}function H_(t,e,n){let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function W_(t){return t*(N_/180)}function q_(t){return t*(180/N_)}function K_(t){if(!h_(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function G_(t,e){const n=e.x-t.x,r=e.y-t.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*N_&&(s+=M_),{angle:s,distance:i}}function Y_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Q_(t,e){return(t-e+D_)%M_-N_}function X_(t){return(t%M_+M_)%M_}function $_(t,e,n,r){const i=X_(t),s=X_(e),o=X_(n),a=X_(s-i),l=X_(o-i),c=X_(i-s),u=X_(i-o);return i===s||i===o||r&&s===o||a>l&&c<u}function J_(t,e,n){return Math.max(e,Math.min(n,t))}function Z_(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function tk(t,e,n){n=n||(n=>t[n]<e);let r,i=t.length-1,s=0;for(;i-s>1;)r=s+i>>1,n(r)?s=r:i=r;return{lo:s,hi:i}}const ek=(t,e,n,r)=>tk(t,n,r?r=>{const i=t[r][e];return i<n||i===n&&t[r+1][e]===n}:r=>t[r][e]<n),nk=(t,e,n)=>tk(t,n,(r=>t[r][e]>=n));const rk=["push","pop","shift","splice","unshift"];function ik(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(e);-1!==i&&r.splice(i,1),r.length>0||(rk.forEach((e=>{delete t[e]})),delete t._chartjs)}function sk(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const ok="undefined"===typeof window?function(t){return t()}:window.requestAnimationFrame;function ak(t,e){let n=[],r=!1;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];n=s,r||(r=!0,ok.call(window,(()=>{r=!1,t.apply(e,n)})))}}const lk=t=>"start"===t?"left":"end"===t?"right":"center",ck=(t,e,n)=>"start"===t?e:"end"===t?n:(e+n)/2;function uk(t,e,n){const r=e.length;let i=0,s=r;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:c,max:u,minDefined:h,maxDefined:d}=o.getUserBounds();h&&(i=J_(Math.min(ek(a,l,c).lo,n?r:ek(e,l,o.getPixelForValue(c)).lo),0,r-1)),s=d?J_(Math.max(ek(a,o.axis,u,!0).hi+1,n?0:ek(e,l,o.getPixelForValue(u),!0).hi+1),i,r)-i:r-i}return{start:i,count:s}}function hk(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,i={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=i,!0;const s=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const dk=t=>0===t||1===t,fk=(t,e,n)=>-Math.pow(2,10*(t-=1))*Math.sin((t-e)*M_/n),pk=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*M_/n)+1,gk={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*R_),easeOutSine:t=>Math.sin(t*R_),easeInOutSine:t=>-.5*(Math.cos(N_*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>dk(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>dk(t)?t:fk(t,.075,.3),easeOutElastic:t=>dk(t)?t:pk(t,.075,.3),easeInOutElastic(t){const e=.1125;return dk(t)?t:t<.5?.5*fk(2*t,e,.45):.5+.5*pk(2*t-1,e,.45)},easeInBack(t){const e=1.70158;return t*t*((e+1)*t-e)},easeOutBack(t){const e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:t=>1-gk.easeOutBounce(1-t),easeOutBounce(t){const e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375},easeInOutBounce:t=>t<.5?.5*gk.easeInBounce(2*t):.5*gk.easeOutBounce(2*t-1)+.5};function mk(t){if(t&&"object"===typeof t){const e=t.toString();return"[object CanvasPattern]"===e||"[object CanvasGradient]"===e}return!1}function yk(t){return mk(t)?t:new s_(t)}function vk(t){return mk(t)?t:new s_(t).saturate(.5).darken(.1).hexString()}const bk=["x","y","borderWidth","radius","tension"],wk=["color","borderColor","backgroundColor"];const xk=new Map;function _k(t,e,n){return function(t,e){e=e||{};const n=t+JSON.stringify(e);let r=xk.get(n);return r||(r=new Intl.NumberFormat(t,e),xk.set(n,r)),r}(e,n).format(t)}const kk={values:t=>c_(t)?t:""+t,numeric(t,e,n){if(0===t)return"0";const r=this.chart.options.locale;let i,s=t;if(n.length>1){const e=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(e<1e-4||e>1e15)&&(i="scientific"),s=function(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t));return n}(t,n)}const o=F_(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),_k(t,r,l)},logarithmic(t,e,n){if(0===t)return"0";const r=n[e].significand||t/Math.pow(10,Math.floor(F_(t)));return[1,2,3,5,10,15].includes(r)||e>.8*n.length?kk.numeric.call(this,t,e,n):""}};var Sk={formatters:kk};const Ek=Object.create(null),Tk=Object.create(null);function Ck(t,e){if(!e)return t;const n=e.split(".");for(let r=0,i=n.length;r<i;++r){const e=n[r];t=t[e]||(t[e]=Object.create(null))}return t}function Ik(t,e,n){return"string"===typeof e?x_(Ck(t,e),n):x_(Ck(t,""),e)}class Pk{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=t=>t.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(t,e)=>vk(e.backgroundColor),this.hoverBorderColor=(t,e)=>vk(e.borderColor),this.hoverColor=(t,e)=>vk(e.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Ik(this,t,e)}get(t){return Ck(this,t)}describe(t,e){return Ik(Tk,t,e)}override(t,e){return Ik(Ek,t,e)}route(t,e,n,r){const i=Ck(this,t),s=Ck(this,n),o="_"+e;Object.defineProperties(i,{[o]:{value:i[e],writable:!0},[e]:{enumerable:!0,get(){const t=this[o],e=s[r];return u_(t)?Object.assign({},e,t):f_(t,e)},set(t){this[o]=t}}})}apply(t){t.forEach((t=>t(this)))}}var Nk=new Pk({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),t.set("animations",{colors:{type:"color",properties:wk},numbers:{type:"number",properties:bk}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Sk.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t})}]);function Mk(t,e,n,r,i){let s=e[i];return s||(s=e[i]=t.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Dk(t,e,n,r){let i=(r=r||{}).data=r.data||{},s=r.garbageCollect=r.garbageCollect||[];r.font!==e&&(i=r.data={},s=r.garbageCollect=[],r.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,c,u,h,d;for(l=0;l<a;l++)if(h=n[l],void 0===h||null===h||c_(h)){if(c_(h))for(c=0,u=h.length;c<u;c++)d=h[c],void 0===d||null===d||c_(d)||(o=Mk(t,i,s,o,d))}else o=Mk(t,i,s,o,h);t.restore();const f=s.length/2;if(f>n.length){for(l=0;l<f;l++)delete i[s[l]];s.splice(0,f)}return o}function Ak(t,e,n){const r=t.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((e-i)*r)/r+i}function Ok(t,e){(e||t)&&((e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function Rk(t,e,n,r){Lk(t,e,n,r,null)}function Lk(t,e,n,r,i){let s,o,a,l,c,u,h,d;const f=e.pointStyle,p=e.rotation,g=e.radius;let m=(p||0)*O_;if(f&&"object"===typeof f&&(s=f.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(n,r),t.rotate(m),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void t.restore();if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:i?t.ellipse(n,r,i/2,g,0,0,M_):t.arc(n,r,g,0,M_),t.closePath();break;case"triangle":u=i?i/2:g,t.moveTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=j_,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),m+=j_,t.lineTo(n+Math.sin(m)*u,r-Math.cos(m)*g),t.closePath();break;case"rectRounded":c=.516*g,l=g-c,o=Math.cos(m+L_)*l,h=Math.cos(m+L_)*(i?i/2-c:l),a=Math.sin(m+L_)*l,d=Math.sin(m+L_)*(i?i/2-c:l),t.arc(n-h,r-a,c,m-N_,m-R_),t.arc(n+d,r-o,c,m-R_,m),t.arc(n+h,r+a,c,m,m+R_),t.arc(n-d,r+o,c,m+R_,m+N_),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,u=i?i/2:l,t.rect(n-u,r-l,2*u,2*l);break}m+=L_;case"rectRot":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+d,r-o),t.lineTo(n+h,r+a),t.lineTo(n-d,r+o),t.closePath();break;case"crossRot":m+=L_;case"cross":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"star":h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o),m+=L_,h=Math.cos(m)*(i?i/2:g),o=Math.cos(m)*g,a=Math.sin(m)*g,d=Math.sin(m)*(i?i/2:g),t.moveTo(n-h,r-a),t.lineTo(n+h,r+a),t.moveTo(n+d,r-o),t.lineTo(n-d,r+o);break;case"line":o=i?i/2:Math.cos(m)*g,a=Math.sin(m)*g,t.moveTo(n-o,r-a),t.lineTo(n+o,r+a);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(m)*(i?i/2:g),r+Math.sin(m)*g);break;case!1:t.closePath()}t.fill(),e.borderWidth>0&&t.stroke()}}function jk(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function Fk(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Vk(t){t.restore()}function Uk(t,e,n,r,i){if(!e)return t.lineTo(n.x,n.y);if("middle"===i){const r=(e.x+n.x)/2;t.lineTo(r,e.y),t.lineTo(r,n.y)}else"after"===i!==!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function zk(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Bk(t,e,n,r,i){if(i.strikethrough||i.underline){const s=t.measureText(r),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,u=i.strikethrough?(l+c)/2:c;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=i.decorationWidth||2,t.moveTo(o,u),t.lineTo(a,u),t.stroke()}}function Hk(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Wk(t,e,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=c_(e)?e:[e],a=s.strokeWidth>0&&""!==s.strokeColor;let l,c;for(t.save(),t.font=i.string,function(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),l_(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}(t,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&Hk(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),l_(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(c,n,r,s.maxWidth)),t.fillText(c,n,r,s.maxWidth),Bk(t,n,r,c,s),r+=Number(i.lineHeight);t.restore()}function qk(t,e){const{x:n,y:r,w:i,h:s,radius:o}=e;t.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*N_,N_,!0),t.lineTo(n,r+s-o.bottomLeft),t.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,N_,R_,!0),t.lineTo(n+i-o.bottomRight,r+s),t.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,R_,0,!0),t.lineTo(n+i,r+o.topRight),t.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-R_,!0),t.lineTo(n+o.topLeft,r)}const Kk=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Gk=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Yk(t,e){const n=(""+t).match(Kk);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t}const Qk=t=>+t||0;function Xk(t,e){const n={},r=u_(e),i=r?Object.keys(e):e,s=u_(t)?r?n=>f_(t[n],t[e[n]]):e=>t[e]:()=>t;for(const o of i)n[o]=Qk(s(o));return n}function $k(t){return Xk(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Jk(t){return Xk(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Zk(t){const e=$k(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function tS(t,e){t=t||{},e=e||Nk.font;let n=f_(t.size,e.size);"string"===typeof n&&(n=parseInt(n,10));let r=f_(t.style,e.style);r&&!(""+r).match(Gk)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:f_(t.family,e.family),lineHeight:Yk(f_(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:f_(t.weight,e.weight),string:""};return i.string=function(t){return!t||l_(t.size)||l_(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i}function eS(t,e,n,r){let i,s,o,a=!0;for(i=0,s=t.length;i<s;++i)if(o=t[i],void 0!==o&&(void 0!==e&&"function"===typeof o&&(o=o(e),a=!1),void 0!==n&&c_(o)&&(o=o[n%o.length],a=!1),void 0!==o))return r&&!a&&(r.cacheable=!1),o}function nS(t,e){return Object.assign(Object.create(t),e)}function rS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>t[0];const i=(arguments.length>2?arguments[2]:void 0)||t;"undefined"===typeof n&&(n=pS("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:r=>rS([r,...t],e,i,n)};return new Proxy(s,{deleteProperty:(e,n)=>(delete e[n],delete e._keys,delete t[0][n],!0),get:(n,r)=>lS(n,r,(()=>function(t,e,n,r){let i;for(const s of e)if(i=pS(oS(s,t),n),"undefined"!==typeof i)return aS(t,i)?dS(n,r,t,i):i}(r,e,t,n))),getOwnPropertyDescriptor:(t,e)=>Reflect.getOwnPropertyDescriptor(t._scopes[0],e),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(t,e)=>gS(t).includes(e),ownKeys:t=>gS(t),set(t,e,n){const i=t._storage||(t._storage=r());return t[e]=i[e]=n,delete t._keys,!0}})}function iS(t,e,n,r){const i={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:sS(t,r),setContext:e=>iS(t,e,n,r),override:i=>iS(t.override(i),e,n,r)};return new Proxy(i,{deleteProperty:(e,n)=>(delete e[n],delete t[n],!0),get:(t,e,n)=>lS(t,e,(()=>function(t,e,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=t;let a=r[e];I_(a)&&o.isScriptable(e)&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||r);a.delete(t),aS(t,l)&&(l=dS(i._scopes,i,t,l));return l}(e,a,t,n));c_(a)&&a.length&&(a=function(t,e,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if("undefined"!==typeof s.index&&r(t))return e[s.index%e.length];if(u_(e[0])){const n=e,r=i._scopes.filter((t=>t!==n));e=[];for(const l of n){const n=dS(r,i,t,l);e.push(iS(n,s,o&&o[t],a))}}return e}(e,a,t,o.isIndexable));aS(e,a)&&(a=iS(a,i,s&&s[e],o));return a}(t,e,n))),getOwnPropertyDescriptor:(e,n)=>e._descriptors.allKeys?Reflect.has(t,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,n),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(e,n)=>Reflect.has(t,n),ownKeys:()=>Reflect.ownKeys(t),set:(e,n,r)=>(t[n]=r,delete e[n],!0)})}function sS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:i=e.allKeys}=t;return{allKeys:i,scriptable:n,indexable:r,isScriptable:I_(n)?n:()=>n,isIndexable:I_(r)?r:()=>r}}const oS=(t,e)=>t?t+T_(e):e,aS=(t,e)=>u_(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object);function lS(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||"constructor"===e)return t[e];const r=n();return t[e]=r,r}function cS(t,e,n){return I_(t)?t(e,n):t}const uS=(t,e)=>!0===t?e:"string"===typeof t?E_(e,t):void 0;function hS(t,e,n,r,i){for(const s of e){const e=uS(n,s);if(e){t.add(e);const s=cS(e._fallback,n,i);if("undefined"!==typeof s&&s!==n&&s!==r)return s}else if(!1===e&&"undefined"!==typeof r&&n!==r)return null}return!1}function dS(t,e,n,r){const i=e._rootScopes,s=cS(e._fallback,n,r),o=[...t,...i],a=new Set;a.add(r);let l=fS(a,o,n,s||n,r);return null!==l&&(("undefined"===typeof s||s===n||(l=fS(a,o,s,l,r),null!==l))&&rS(Array.from(a),[""],i,s,(()=>function(t,e,n){const r=t._getTarget();e in r||(r[e]={});const i=r[e];if(c_(i)&&u_(n))return n;return i||{}}(e,n,r))))}function fS(t,e,n,r,i){for(;n;)n=hS(t,e,n,r,i);return n}function pS(t,e){for(const n of e){if(!n)continue;const e=n[t];if("undefined"!==typeof e)return e}}function gS(t){let e=t._keys;return e||(e=t._keys=function(t){const e=new Set;for(const n of t)for(const t of Object.keys(n).filter((t=>!t.startsWith("_"))))e.add(t);return Array.from(e)}(t._scopes)),e}function mS(t,e,n,r){const{iScale:i}=t,{key:s="r"}=this._parsing,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={r:i.parse(E_(u,s),c)};return o}const yS=Number.EPSILON||1e-14,vS=(t,e)=>e<t.length&&!t[e].skip&&t[e],bS=t=>"x"===t?"y":"x";function wS(t,e,n,r){const i=t.skip?e:t,s=e,o=n.skip?e:n,a=Y_(s,i),l=Y_(o,s);let c=a/(a+l),u=l/(a+l);c=isNaN(c)?0:c,u=isNaN(u)?0:u;const h=r*c,d=r*u;return{previous:{x:s.x-h*(o.x-i.x),y:s.y-h*(o.y-i.y)},next:{x:s.x+d*(o.x-i.x),y:s.y+d*(o.y-i.y)}}}function xS(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=bS(e),r=t.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=vS(t,0);for(o=0;o<r;++o)if(a=l,l=c,c=vS(t,o+1),l){if(c){const t=c[e]-l[e];i[o]=0!==t?(c[n]-l[n])/t:0}s[o]=a?c?V_(i[o-1])!==V_(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}!function(t,e,n){const r=t.length;let i,s,o,a,l,c=vS(t,0);for(let u=0;u<r-1;++u)l=c,c=vS(t,u+1),l&&c&&(U_(e[u],0,yS)?n[u]=n[u+1]=0:(i=n[u]/e[u],s=n[u+1]/e[u],a=Math.pow(i,2)+Math.pow(s,2),a<=9||(o=3/Math.sqrt(a),n[u]=i*o*e[u],n[u+1]=s*o*e[u])))}(t,i,s),function(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=bS(n),i=t.length;let s,o,a,l=vS(t,0);for(let c=0;c<i;++c){if(o=a,a=l,l=vS(t,c+1),!a)continue;const i=a[n],u=a[r];o&&(s=(i-o[n])/3,a["cp1".concat(n)]=i-s,a["cp1".concat(r)]=u-s*e[c]),l&&(s=(l[n]-i)/3,a["cp2".concat(n)]=i+s,a["cp2".concat(r)]=u+s*e[c])}}(t,s,e)}function _S(t,e,n){return Math.max(Math.min(t,n),e)}function kS(t,e,n,r,i){let s,o,a,l;if(e.spanGaps&&(t=t.filter((t=>!t.skip))),"monotone"===e.cubicInterpolationMode)xS(t,i);else{let n=r?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=wS(n,a,t[Math.min(s+1,o-(r?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,n=a}e.capBezierPoints&&function(t,e){let n,r,i,s,o,a=jk(t[0],e);for(n=0,r=t.length;n<r;++n)o=s,s=a,a=n<r-1&&jk(t[n+1],e),s&&(i=t[n],o&&(i.cp1x=_S(i.cp1x,e.left,e.right),i.cp1y=_S(i.cp1y,e.top,e.bottom)),a&&(i.cp2x=_S(i.cp2x,e.left,e.right),i.cp2y=_S(i.cp2y,e.top,e.bottom)))}(t,n)}function SS(){return"undefined"!==typeof window&&"undefined"!==typeof document}function ES(t){let e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e}function TS(t,e,n){let r;return"string"===typeof t?(r=parseInt(t,10),-1!==t.indexOf("%")&&(r=r/100*e.parentNode[n])):r=t,r}const CS=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);const IS=["top","right","bottom","left"];function PS(t,e,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=IS[i];r[s]=parseFloat(t[e+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const NS=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function MS(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,i=CS(n),s="border-box"===i.boxSizing,o=PS(i,"padding"),a=PS(i,"border","width"),{x:l,y:c,box:u}=function(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:i,offsetY:s}=r;let o,a,l=!1;if(NS(i,s,t.target))o=i,a=s;else{const t=e.getBoundingClientRect();o=r.clientX-t.left,a=r.clientY-t.top,l=!0}return{x:o,y:a,box:l}}(t,n),h=o.left+(u&&a.left),d=o.top+(u&&a.top);let{width:f,height:p}=e;return s&&(f-=o.width+a.width,p-=o.height+a.height),{x:Math.round((l-h)/f*n.width/r),y:Math.round((c-d)/p*n.height/r)}}const DS=t=>Math.round(10*t)/10;function AS(t,e,n,r){const i=CS(t),s=PS(i,"margin"),o=TS(i.maxWidth,t,"clientWidth")||A_,a=TS(i.maxHeight,t,"clientHeight")||A_,l=function(t,e,n){let r,i;if(void 0===e||void 0===n){const s=t&&ES(t);if(s){const t=s.getBoundingClientRect(),o=CS(s),a=PS(o,"border","width"),l=PS(o,"padding");e=t.width-l.width-a.width,n=t.height-l.height-a.height,r=TS(o.maxWidth,s,"clientWidth"),i=TS(o.maxHeight,s,"clientHeight")}else e=t.clientWidth,n=t.clientHeight}return{width:e,height:n,maxWidth:r||A_,maxHeight:i||A_}}(t,e,n);let{width:c,height:u}=l;if("content-box"===i.boxSizing){const t=PS(i,"border","width"),e=PS(i,"padding");c-=e.width+t.width,u-=e.height+t.height}c=Math.max(0,c-s.width),u=Math.max(0,r?c/r:u-s.height),c=DS(Math.min(c,o,l.maxWidth)),u=DS(Math.min(u,a,l.maxHeight)),c&&!u&&(u=DS(c/2));return(void 0!==e||void 0!==n)&&r&&l.height&&u>l.height&&(u=l.height,c=DS(Math.floor(u*r))),{width:c,height:u}}function OS(t,e,n){const r=e||1,i=Math.floor(t.height*r),s=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==r||o.height!==i||o.width!==s)&&(t.currentDevicePixelRatio=r,o.height=i,o.width=s,t.ctx.setTransform(r,0,0,r,0,0),!0)}const RS=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};SS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch(yD){}return t}();function LS(t,e){const n=function(t,e){return CS(t).getPropertyValue(e)}(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function jS(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function FS(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:"middle"===r?n<.5?t.y:e.y:"after"===r?n<1?t.y:e.y:n>0?e.y:t.y}}function VS(t,e,n,r){const i={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=jS(t,i,n),a=jS(i,s,n),l=jS(s,e,n),c=jS(o,a,n),u=jS(a,l,n);return jS(c,u,n)}function US(t,e,n){return t?function(t,e){return{x:n=>t+t+e-n,setWidth(t){e=t},textAlign:t=>"center"===t?t:"right"===t?"left":"right",xPlus:(t,e)=>t-e,leftForLtr:(t,e)=>t-e}}(e,n):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,e)=>t+e,leftForLtr:(t,e)=>t}}function zS(t,e){let n,r;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function BS(t,e){void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function HS(t){return"angle"===t?{between:$_,compare:Q_,normalize:X_}:{between:Z_,compare:(t,e)=>t-e,normalize:t=>t}}function WS(t){let{start:e,end:n,count:r,loop:i,style:s}=t;return{start:e%r,end:n%r,loop:i&&(n-e+1)%r===0,style:s}}function qS(t,e,n){if(!n)return[t];const{property:r,start:i,end:s}=n,o=e.length,{compare:a,between:l,normalize:c}=HS(r),{start:u,end:h,loop:d,style:f}=function(t,e,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=HS(r),l=e.length;let c,u,{start:h,end:d,loop:f}=t;if(f){for(h+=l,d+=l,c=0,u=l;c<u&&o(a(e[h%l][r]),i,s);++c)h--,d--;h%=l,d%=l}return d<h&&(d+=l),{start:h,end:d,loop:f,style:t.style}}(t,e,n),p=[];let g,m,y,v=!1,b=null;const w=()=>v||l(i,y,g)&&0!==a(i,y),x=()=>!v||0===a(s,g)||l(s,y,g);for(let _=u,k=u;_<=h;++_)m=e[_%o],m.skip||(g=c(m[r]),g!==y&&(v=l(g,i,s),null===b&&w()&&(b=0===a(g,i)?_:k),null!==b&&x()&&(p.push(WS({start:b,end:_,loop:d,count:o,style:f})),b=null),k=_,y=g));return null!==b&&p.push(WS({start:b,end:h,loop:d,count:o,style:f})),p}function KS(t,e){const n=[],r=t.segments;for(let i=0;i<r.length;i++){const s=qS(r[i],t.points,e);s.length&&n.push(...s)}return n}function GS(t,e,n,r){return r&&r.setContext&&n?function(t,e,n,r){const i=t._chart.getContext(),s=YS(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,c=[];let u=s,h=e[0].start,d=h;function f(t,e,r,i){const s=a?-1:1;if(t!==e){for(t+=l;n[t%l].skip;)t-=s;for(;n[e%l].skip;)e+=s;t%l!==e%l&&(c.push({start:t%l,end:e%l,loop:r,style:i}),u=i,h=e%l)}}for(const p of e){h=a?h:p.start;let t,e=n[h%l];for(d=h+1;d<=p.end;d++){const s=n[d%l];t=YS(r.setContext(nS(i,{type:"segment",p0:e,p1:s,p0DataIndex:(d-1)%l,p1DataIndex:d%l,datasetIndex:o}))),QS(t,u)&&f(h,d-1,p.loop,u),e=s,u=t}h<d-1&&f(h,d-1,p.loop,u)}return c}(t,e,n,r):e}function YS(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function QS(t,e){if(!e)return!1;const n=[],r=function(t,e){return mk(e)?(n.includes(e)||n.push(e),n.indexOf(e)):e};return JSON.stringify(t,r)!==JSON.stringify(e,r)}class XS{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,n,r){const i=e.listeners[r],s=e.duration;i.forEach((r=>r({chart:t,initial:e.initial,numSteps:s,currentStep:Math.min(n-e.start,s)})))}_refresh(){this._request||(this._running=!0,this._request=ok.call(window,(()=>{this._update(),this._request=null,this._running&&this._refresh()})))}_update(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),e=0;this._charts.forEach(((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let s,o=i.length-1,a=!1;for(;o>=0;--o)s=i[o],s._active?(s._total>n.duration&&(n.duration=s._total),s.tick(t),a=!0):(i[o]=i[i.length-1],i.pop());a&&(r.draw(),this._notify(r,n,t,"progress")),i.length||(n.running=!1,this._notify(r,n,t,"complete"),n.initial=!1),e+=i.length})),this._lastDate=t,0===e&&(this._running=!1)}_getAnims(t){const e=this._charts;let n=e.get(t);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,n)),n}listen(t,e,n){this._getAnims(t).listeners[e].push(n)}add(t,e){e&&e.length&&this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(((t,e)=>Math.max(t,e._duration)),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!!(e&&e.running&&e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var $S=new XS;const JS="transparent",ZS={boolean:(t,e,n)=>n>.5?e:t,color(t,e,n){const r=yk(t||JS),i=r.valid&&yk(e||JS);return i&&i.valid?i.mix(r,n).hexString():e},number:(t,e,n)=>t+(e-t)*n};class tE{constructor(t,e,n,r){const i=e[n];r=eS([t.to,r,i,t.from]);const s=eS([t.from,i,r]);this._active=!0,this._fn=t.fn||ZS[t.type||typeof s],this._easing=gk[t.easing]||gk.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=n,this._from=s,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,s=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(s,t.duration)),this._total+=i,this._loop=!!t.loop,this._to=eS([t.to,e,r,t.from]),this._from=eS([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,n=this._duration,r=this._prop,i=this._from,s=this._loop,o=this._to;let a;if(this._active=i!==o&&(s||e<n),!this._active)return this._target[r]=o,void this._notify(!0);e<0?this._target[r]=i:(a=e/n%2,a=s&&a>1?2-a:a,a=this._easing(Math.min(1,Math.max(0,a))),this._target[r]=this._fn(i,o,a))}wait(){const t=this._promises||(this._promises=[]);return new Promise(((e,n)=>{t.push({res:e,rej:n})}))}_notify(t){const e=t?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}class eE{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!u_(t))return;const e=Object.keys(Nk.animation),n=this._properties;Object.getOwnPropertyNames(t).forEach((r=>{const i=t[r];if(!u_(i))return;const s={};for(const t of e)s[t]=i[t];(c_(i.properties)&&i.properties||[r]).forEach((t=>{t!==r&&n.has(t)||n.set(t,s)}))}))}_animateOptions(t,e){const n=e.options,r=function(t,e){if(!e)return;let n=t.options;if(!n)return void(t.options=e);n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(t,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&function(t,e){const n=[],r=Object.keys(e);for(let i=0;i<r.length;i++){const e=t[r[i]];e&&e.active()&&n.push(e.wait())}return Promise.all(n)}(t.options.$animations,n).then((()=>{t.options=n}),(()=>{})),i}_createAnimations(t,e){const n=this._properties,r=[],i=t.$animations||(t.$animations={}),s=Object.keys(e),o=Date.now();let a;for(a=s.length-1;a>=0;--a){const l=s[a];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(t,e));continue}const c=e[l];let u=i[l];const h=n.get(l);if(u){if(h&&u.active()){u.update(h,c,o);continue}u.cancel()}h&&h.duration?(i[l]=u=new tE(h,t,l,c),r.push(u)):t[l]=c}return r}update(t,e){if(0===this._properties.size)return void Object.assign(t,e);const n=this._createAnimations(t,e);return n.length?($S.add(this._chart,n),!0):void 0}}function nE(t,e){const n=t&&t.options||{},r=n.reverse,i=void 0===n.min?e:0,s=void 0===n.max?e:0;return{start:r?s:i,end:r?i:s}}function rE(t,e){const n=[],r=t._getSortedDatasetMetas(e);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function iE(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.keys,s="single"===r.mode;let o,a,l,c;if(null!==e){for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(r.all)continue;break}c=t.values[l],h_(c)&&(s||0===e||V_(e)===V_(c))&&(e+=c)}return e}}function sE(t,e){const n=t&&t.options.stacked;return n||void 0===n&&void 0!==e.stack}function oE(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function aE(t,e,n,r){for(const i of e.getMatchingVisibleMetas(r).reverse()){const e=t[i.index];if(n&&e>0||!n&&e<0)return i.index}return null}function lE(t,e){const{chart:n,_cachedMeta:r}=t,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,u=function(t,e,n){return"".concat(t.id,".").concat(e.id,".").concat(n.stack||n.type)}(s,o,r),h=e.length;let d;for(let f=0;f<h;++f){const t=e[f],{[l]:n,[c]:s}=t;d=(t._stacks||(t._stacks={}))[c]=oE(i,u,n),d[a]=s,d._top=aE(d,o,!0,r.type),d._bottom=aE(d,o,!1,r.type);(d._visualValues||(d._visualValues={}))[a]=s}}function cE(t,e){const n=t.scales;return Object.keys(n).filter((t=>n[t].axis===e)).shift()}function uE(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const t of e){const e=t._stacks;if(!e||void 0===e[r]||void 0===e[r][n])return;delete e[r][n],void 0!==e[r]._visualValues&&void 0!==e[r]._visualValues[n]&&delete e[r]._visualValues[n]}}}const hE=t=>"reset"===t||"none"===t,dE=(t,e)=>e?t:Object.assign({},t);class fE{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sE(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&uE(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,n=this.getDataset(),r=(t,e,n,r)=>"x"===t?e:"r"===t?r:n,i=e.xAxisID=f_(n.xAxisID,cE(t,"x")),s=e.yAxisID=f_(n.yAxisID,cE(t,"y")),o=e.rAxisID=f_(n.rAxisID,cE(t,"r")),a=e.indexAxis,l=e.iAxisID=r(a,i,s,o),c=e.vAxisID=r(a,s,i,o);e.xScale=this.getScaleForId(i),e.yScale=this.getScaleForId(s),e.rScale=this.getScaleForId(o),e.iScale=this.getScaleForId(l),e.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&ik(this._data,this),t._stacked&&uE(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),n=this._data;if(u_(e)){const t=this._cachedMeta;this._data=function(t,e){const{iScale:n,vScale:r}=e,i="x"===n.axis?"x":"y",s="x"===r.axis?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,c,u;for(l=0,c=o.length;l<c;++l)u=o[l],a[l]={[i]:u,[s]:t[u]};return a}(e,t)}else if(n!==e){if(n){ik(n,this);const t=this._cachedMeta;uE(t),t._parsed=[]}e&&Object.isExtensible(e)&&(i=this,(r=e)._chartjs?r._chartjs.listeners.push(i):(Object.defineProperty(r,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),rk.forEach((t=>{const e="_onData"+T_(t),n=r[t];Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];const o=n.apply(this,i);return r._chartjs.listeners.forEach((t=>{"function"===typeof t[e]&&t[e](...i)})),o}})})))),this._syncList=[],this._data=e}var r,i}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=e._stacked;e._stacked=sE(e.vScale,e),e.stack!==n.stack&&(r=!0,uE(e),e.stack=n.stack),this._resyncElements(t),(r||i!==e._stacked)&&lE(this,e._parsed)}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),n=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:s}=n,o=i.axis;let a,l,c,u=0===t&&e===r.length||n._sorted,h=t>0&&n._parsed[t-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=c_(r[t])?this.parseArrayData(n,r,t,e):u_(r[t])?this.parseObjectData(n,r,t,e):this.parsePrimitiveData(n,r,t,e);const i=()=>null===l[o]||h&&l[o]<h[o];for(a=0;a<e;++a)n._parsed[a+t]=l=c[a],u&&(i()&&(u=!1),h=l);n._sorted=u}s&&lE(this,c)}parsePrimitiveData(t,e,n,r){const{iScale:i,vScale:s}=t,o=i.axis,a=s.axis,l=i.getLabels(),c=i===s,u=new Array(r);let h,d,f;for(h=0,d=r;h<d;++h)f=h+n,u[h]={[o]:c||i.parse(l[f],f),[a]:s.parse(e[f],f)};return u}parseArrayData(t,e,n,r){const{xScale:i,yScale:s}=t,o=new Array(r);let a,l,c,u;for(a=0,l=r;a<l;++a)c=a+n,u=e[c],o[a]={x:i.parse(u[0],c),y:s.parse(u[1],c)};return o}parseObjectData(t,e,n,r){const{xScale:i,yScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l=new Array(r);let c,u,h,d;for(c=0,u=r;c<u;++c)h=c+n,d=e[h],l[c]={x:i.parse(E_(d,o),h),y:s.parse(E_(d,a),h)};return l}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,n){const r=this.chart,i=this._cachedMeta,s=e[t.axis];return iE({keys:rE(r,!0),values:e._stacks[t.axis]._visualValues},s,i.index,{mode:n})}updateRangeFromParsed(t,e,n,r){const i=n[e.axis];let s=null===i?NaN:i;const o=r&&n._stacks[e.axis];r&&o&&(r.values=o,s=iE(r,i,this._cachedMeta.index)),t.min=Math.min(t.min,s),t.max=Math.max(t.max,s)}getMinMax(t,e){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&t===n.iScale,s=r.length,o=this._getOtherScale(t),a=((t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:rE(n,!0),values:null})(e,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:u}=function(t){const{min:e,max:n,minDefined:r,maxDefined:i}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}(o);let h,d;function f(){d=r[h];const e=d[o.axis];return!h_(d[t.axis])||c>e||u<e}for(h=0;h<s&&(f()||(this.updateRangeFromParsed(l,t,d,a),!i));++h);if(i)for(h=s-1;h>=0;--h)if(!f()){this.updateRangeFromParsed(l,t,d,a);break}return l}getAllParsedValues(t){const e=this._cachedMeta._parsed,n=[];let r,i,s;for(r=0,i=e.length;r<i;++r)s=e[r][t.axis],h_(s)&&n.push(s);return n}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,n=e.iScale,r=e.vScale,i=this.getParsed(t);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=function(t){let e,n,r,i;return u_(t)?(e=t.top,n=t.right,r=t.bottom,i=t.left):e=n=r=i=t,{top:e,right:n,bottom:r,left:i,disabled:!1===t}}(f_(this.options.clip,function(t,e,n){if(!1===n)return!1;const r=nE(t,n),i=nE(e,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,n=this._cachedMeta,r=n.data||[],i=e.chartArea,s=[],o=this._drawStart||0,a=this._drawCount||r.length-o,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(t,i,o,a),c=o;c<o+a;++c){const e=r[c];e.hidden||(e.active&&l?s.push(e):e.draw(t,i))}for(c=0;c<s.length;++c)s[c].draw(t,i)}getStyle(t,e){const n=e?"active":"default";return void 0===t&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(t||0,n)}getContext(t,e,n){const r=this.getDataset();let i;if(t>=0&&t<this._cachedMeta.data.length){const e=this._cachedMeta.data[t];i=e.$context||(e.$context=function(t,e,n){return nS(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}(this.getContext(),t,e)),i.parsed=this.getParsed(t),i.raw=r.data[t],i.index=i.dataIndex=t}else i=this.$context||(this.$context=function(t,e){return nS(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!e,i.mode=n,i}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===e,i=this._cachedDataOpts,s=t+"-"+e,o=i[s],a=this.enableOptionSharing&&C_(n);if(o)return dE(o,a);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,t),u=r?["".concat(t,"Hover"),"hover",t,""]:[t,""],h=l.getOptionScopes(this.getDataset(),c),d=Object.keys(Nk.elements[t]),f=l.resolveNamedOptions(h,d,(()=>this.getContext(n,r,e)),u);return f.$shared&&(f.$shared=a,i[s]=Object.freeze(dE(f,a))),f}_resolveAnimations(t,e,n){const r=this.chart,i=this._cachedDataOpts,s="animation-".concat(e),o=i[s];if(o)return o;let a;if(!1!==r.options.animation){const r=this.chart.config,i=r.datasetAnimationScopeKeys(this._type,e),s=r.getOptionScopes(this.getDataset(),i);a=r.createResolver(s,this.getContext(t,n,e))}const l=new eE(r,a&&a.animations);return a&&a._cacheable&&(i[s]=Object.freeze(l)),l}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||hE(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const n=this.resolveDataElementOptions(t,e),r=this._sharedOptions,i=this.getSharedOptions(n),s=this.includeOptions(e,i)||i!==r;return this.updateSharedOptions(i,e,n),{sharedOptions:i,includeOptions:s}}updateElement(t,e,n,r){hE(r)?Object.assign(t,n):this._resolveAnimations(e,r).update(t,n)}updateSharedOptions(t,e,n){t&&!hE(e)&&this._resolveAnimations(void 0,e).update(t,n)}_setStyle(t,e,n,r){t.active=r;const i=this.getStyle(e,r);this._resolveAnimations(e,n,r).update(t,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(t,e,n){this._setStyle(t,n,"active",!1)}setHoverStyle(t,e,n){this._setStyle(t,n,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,n=this._cachedMeta.data;for(const[o,a,l]of this._syncList)this[o](a,l);this._syncList=[];const r=n.length,i=e.length,s=Math.min(i,r);s&&this.parse(0,s),i>r?this._insertElements(r,i-r,t):i<r&&this._removeElements(i,r-i)}_insertElements(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,i=r.data,s=t+e;let o;const a=t=>{for(t.length+=e,o=t.length-1;o>=s;o--)t[o]=t[o-e]};for(a(i),o=t;o<s;++o)i[o]=new this.dataElementType;this._parsing&&a(r._parsed),this.parse(t,e),n&&this.updateElements(i,t,e,"reset")}updateElements(t,e,n,r){}_removeElements(t,e){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(t,e);n._stacked&&uE(n,r)}n.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,n,r]=t;this[e](n,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const n=arguments.length-2;n&&this._sync(["_insertElements",t,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function pE(t){const e=t.iScale,n=function(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let e=0,i=n.length;e<i;e++)r=r.concat(n[e].controller.getAllParsedValues(t));t._cache.$bar=sk(r.sort(((t,e)=>t-e)))}return t._cache.$bar}(e,t.type);let r,i,s,o,a=e._length;const l=()=>{32767!==s&&-32768!==s&&(C_(o)&&(a=Math.min(a,Math.abs(s-o)||a)),o=s)};for(r=0,i=n.length;r<i;++r)s=e.getPixelForValue(n[r]),l();for(o=void 0,r=0,i=e.ticks.length;r<i;++r)s=e.getPixelForTick(r),l();return a}function gE(t,e,n,r){return c_(t)?function(t,e,n,r){const i=n.parse(t[0],r),s=n.parse(t[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),e[n.axis]=c,e._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}(t,e,n,r):e[n.axis]=n.parse(t,r),e}function mE(t,e,n,r){const i=t.iScale,s=t.vScale,o=i.getLabels(),a=i===s,l=[];let c,u,h,d;for(c=n,u=n+r;c<u;++c)d=e[c],h={},h[i.axis]=a||i.parse(o[c],c),l.push(gE(d,h,s,c));return l}function yE(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function vE(t,e,n,r){let i=e.borderSkipped;const s={};if(!i)return void(t.borderSkipped=s);if(!0===i)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:c,bottom:u}=function(t){let e,n,r,i,s;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:e,top:i,bottom:s}}(t);"middle"===i&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=u:(s[bE(u,o,a,l)]=!0,i=c)),s[bE(i,o,a,l)]=!0,t.borderSkipped=s}function bE(t,e,n,r){var i,s,o;return r?(o=n,t=wE(t=(i=t)===(s=e)?o:i===o?s:i,n,e)):t=wE(t,e,n),t}function wE(t,e,n){return"start"===t?e:"end"===t?n:t}function xE(t,e,n){let{inflateAmount:r}=e;t.inflateAmount="auto"===r?1===n?.33:0:r}Tx(fE,"defaults",{}),Tx(fE,"datasetElementType",null),Tx(fE,"dataElementType",null);class _E extends fE{parsePrimitiveData(t,e,n,r){return mE(t,e,n,r)}parseArrayData(t,e,n,r){return mE(t,e,n,r)}parseObjectData(t,e,n,r){const{iScale:i,vScale:s}=t,{xAxisKey:o="x",yAxisKey:a="y"}=this._parsing,l="x"===i.axis?o:a,c="x"===s.axis?o:a,u=[];let h,d,f,p;for(h=n,d=n+r;h<d;++h)p=e[h],f={},f[i.axis]=i.parse(E_(p,l),h),u.push(gE(E_(p,c),f,s,h));return u}updateRangeFromParsed(t,e,n,r){super.updateRangeFromParsed(t,e,n,r);const i=n._custom;i&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,i.min),t.max=Math.max(t.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:n,vScale:r}=e,i=this.getParsed(t),s=i._custom,o=yE(s)?"["+s.start+", "+s.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:o}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,n,r){const i="reset"===r,{index:s,_cachedMeta:{vScale:o}}=this,a=o.getBasePixel(),l=o.isHorizontal(),c=this._getRuler(),{sharedOptions:u,includeOptions:h}=this._getSharedOptions(e,r);for(let d=e;d<e+n;d++){const e=this.getParsed(d),n=i||l_(e[o.axis])?{base:a,head:a}:this._calculateBarValuePixels(d),f=this._calculateBarIndexPixels(d,c),p=(e._stacks||{})[o.axis],g={horizontal:l,base:n.base,enableBorderRadius:!p||yE(e._custom)||s===p._top||s===p._bottom,x:l?n.head:f.center,y:l?f.center:n.head,height:l?f.size:Math.abs(n.size),width:l?Math.abs(n.size):f.size};h&&(g.options=u||this.resolveDataElementOptions(d,t[d].active?"active":r));const m=g.options||t[d].options;vE(g,m,p,s),xE(g,m,c.ratio),this.updateElement(t[d],d,g,r)}}_getStacks(t,e){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter((t=>t.controller.options.grouped)),i=n.options.stacked,s=[],o=t=>{const n=t.controller.getParsed(e),r=n&&n[t.vScale.axis];if(l_(r)||isNaN(r))return!0};for(const a of r)if((void 0===e||!o(a))&&((!1===i||-1===s.indexOf(a.stack)||void 0===i&&void 0===a.stack)&&s.push(a.stack),a.index===t))break;return s.length||s.push(void 0),s}_getStackCount(t){return this._getStacks(void 0,t).length}_getStackIndex(t,e,n){const r=this._getStacks(t,n),i=void 0!==e?r.indexOf(e):-1;return-1===i?r.length-1:i}_getRuler(){const t=this.options,e=this._cachedMeta,n=e.iScale,r=[];let i,s;for(i=0,s=e.data.length;i<s;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const o=t.barThickness;return{min:o||pE(e),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:n,index:r},options:{base:i,minBarLength:s}}=this,o=i||0,a=this.getParsed(t),l=a._custom,c=yE(l);let u,h,d=a[e.axis],f=0,p=n?this.applyStack(e,a,n):d;p!==d&&(f=p-d,p=d),c&&(d=l.barStart,p=l.barEnd-l.barStart,0!==d&&V_(d)!==V_(l.barEnd)&&(f=0),f+=d);const g=l_(i)||c?f:i;let m=e.getPixelForValue(g);if(u=this.chart.getDataVisibility(t)?e.getPixelForValue(f+p):m,h=u-m,Math.abs(h)<s){h=function(t,e,n){return 0!==t?V_(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}(h,e,o)*s,d===o&&(m-=h/2);const t=e.getPixelForDecimal(0),i=e.getPixelForDecimal(1),l=Math.min(t,i),f=Math.max(t,i);m=Math.max(Math.min(m,f),l),u=m+h,n&&!c&&(a._stacks[e.axis]._visualValues[r]=e.getValueForPixel(u)-e.getValueForPixel(m))}if(m===e.getPixelForValue(o)){const t=V_(h)*e.getLineWidthForValue(o)/2;m+=t,h-=t}return{size:h,base:m,head:u,center:u+h/2}}_calculateBarIndexPixels(t,e){const n=e.scale,r=this.options,i=r.skipNull,s=f_(r.maxBarThickness,1/0);let o,a;if(e.grouped){const n=i?this._getStackCount(t):e.stackCount,l="flex"===r.barThickness?function(t,e,n,r){const i=e.pixels,s=i[t];let o=t>0?i[t-1]:null,a=t<i.length-1?i[t+1]:null;const l=n.categoryPercentage;null===o&&(o=s-(null===a?e.end-e.start:a-s)),null===a&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}(t,e,r,n):function(t,e,n,r){const i=n.barThickness;let s,o;return l_(i)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:e.pixels[t]-s/2}}(t,e,r,n),c=this._getStackIndex(this.index,this._cachedMeta.stack,i?t:void 0);o=l.start+l.chunk*c+l.chunk/2,a=Math.min(s,l.chunk*l.ratio)}else o=n.getPixelForValue(this.getParsed(t)[n.axis],t),a=Math.min(s,e.min*e.ratio);return{base:o-a/2,head:o+a/2,center:o,size:a}}draw(){const t=this._cachedMeta,e=t.vScale,n=t.data,r=n.length;let i=0;for(;i<r;++i)null===this.getParsed(i)[e.axis]||n[i].hidden||n[i].draw(this._ctx)}}Tx(_E,"id","bar"),Tx(_E,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Tx(_E,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class kE extends fE{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,n,r){const i=super.parsePrimitiveData(t,e,n,r);for(let s=0;s<i.length;s++)i[s]._custom=this.resolveDataElementOptions(s+n).radius;return i}parseArrayData(t,e,n,r){const i=super.parseArrayData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=f_(t[2],this.resolveDataElementOptions(s+n).radius)}return i}parseObjectData(t,e,n,r){const i=super.parseObjectData(t,e,n,r);for(let s=0;s<i.length;s++){const t=e[n+s];i[s]._custom=f_(t&&t.r&&+t.r,this.resolveDataElementOptions(s+n).radius)}return i}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y),l=s._custom;return{label:n[t]||"",value:"("+o+", "+a+(l?", "+l:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o}=this._cachedMeta,{sharedOptions:a,includeOptions:l}=this._getSharedOptions(e,r),c=s.axis,u=o.axis;for(let h=e;h<e+n;h++){const e=t[h],n=!i&&this.getParsed(h),d={},f=d[c]=i?s.getPixelForDecimal(.5):s.getPixelForValue(n[c]),p=d[u]=i?o.getBasePixel():o.getPixelForValue(n[u]);d.skip=isNaN(f)||isNaN(p),l&&(d.options=a||this.resolveDataElementOptions(h,e.active?"active":r),i&&(d.options.radius=0)),this.updateElement(e,h,d,r)}}resolveDataElementOptions(t,e){const n=this.getParsed(t);let r=super.resolveDataElementOptions(t,e);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return"active"!==e&&(r.radius=0),r.radius+=f_(n&&n._custom,i),r}}Tx(kE,"id","bubble"),Tx(kE,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),Tx(kE,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class SE extends fE{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let i,s,o=t=>+n[t];if(u_(n[t])){const{key:t="value"}=this._parsing;o=e=>+E_(n[e],t)}for(i=t,s=t+e;i<s;++i)r._parsed[i]=o(i)}}_getRotation(){return W_(this.options.rotation-90)}_getCircumference(){return W_(this.options.circumference)}_getRotationExtents(){let t=M_,e=-M_;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),s=r._getCircumference();t=Math.min(t,i),e=Math.max(e,i+s)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:n}=e,r=this._cachedMeta,i=r.data,s=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(n.width,n.height)-s)/2,0),a=Math.min((l=this.options.cutout,c=o,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:p,offsetX:g,offsetY:m}=function(t,e,n){let r=1,i=1,s=0,o=0;if(e<M_){const a=t,l=a+e,c=Math.cos(a),u=Math.sin(a),h=Math.cos(l),d=Math.sin(l),f=(t,e,r)=>$_(t,a,l,!0)?1:Math.max(e,e*n,r,r*n),p=(t,e,r)=>$_(t,a,l,!0)?-1:Math.min(e,e*n,r,r*n),g=f(0,c,h),m=f(R_,u,d),y=p(N_,c,h),v=p(N_+R_,u,d);r=(g-y)/2,i=(m-v)/2,s=-(g+y)/2,o=-(m+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}(d,h,a),y=(n.width-s)/f,v=(n.height-s)/p,b=Math.max(Math.min(y,v)/2,0),w=p_(this.options.radius,b),x=(w-Math.max(w*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=g*w,this.offsetY=m*w,r.total=this.calculateTotal(),this.outerRadius=w-x*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-x*u,0),this.updateElements(i,0,i.length,t)}_circumference(t,e){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return e&&n.animation.animateRotate||!this.chart.getDataVisibility(t)||null===r._parsed[t]||r.data[t].hidden?0:this.calculateCircumference(r._parsed[t]*i/M_)}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.chartArea,a=s.options.animation,l=(o.left+o.right)/2,c=(o.top+o.bottom)/2,u=i&&a.animateScale,h=u?0:this.innerRadius,d=u?0:this.outerRadius,{sharedOptions:f,includeOptions:p}=this._getSharedOptions(e,r);let g,m=this._getRotation();for(g=0;g<e;++g)m+=this._circumference(g,i);for(g=e;g<e+n;++g){const e=this._circumference(g,i),n=t[g],s={x:l+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+e,circumference:e,outerRadius:d,innerRadius:h};p&&(s.options=f||this.resolveDataElementOptions(g,n.active?"active":r)),m+=e,this.updateElement(n,g,s,r)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let n,r=0;for(n=0;n<e.length;n++){const i=t._parsed[n];null===i||isNaN(i)||!this.chart.getDataVisibility(n)||e[n].hidden||(r+=Math.abs(i))}return r}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?M_*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=_k(e._parsed[t],n.options.locale);return{label:r[t]||"",value:i}}getMaxBorderWidth(t){let e=0;const n=this.chart;let r,i,s,o,a;if(!t)for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){s=n.getDatasetMeta(r),t=s.data,o=s.controller;break}if(!t)return 0;for(r=0,i=t.length;r<i;++r)a=o.resolveDataElementOptions(r),"inner"!==a.borderAlign&&(e=Math.max(e,a.borderWidth||0,a.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let n=0,r=t.length;n<r;++n){const t=this.resolveDataElementOptions(n);e=Math.max(e,t.offset||0,t.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e}_getRingWeight(t){return Math.max(f_(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Tx(SE,"id","doughnut"),Tx(SE,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Tx(SE,"descriptors",{_scriptable:t=>"spacing"!==t,_indexable:t=>"spacing"!==t&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),Tx(SE,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const s=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}}});class EE extends fE{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=e,s=this.chart._animationsDisabled;let{start:o,count:a}=uk(e,r,s);this._drawStart=o,this._drawCount=a,hk(e)&&(o=0,a=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const l=this.resolveDatasetElementOptions(t);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!s,options:l},t),this.updateElements(r,o,a,t)}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:u}=this._getSharedOptions(e,r),h=s.axis,d=o.axis,{spanGaps:f,segment:p}=this.options,g=B_(f)?f:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||i||"none"===r,y=e+n,v=t.length;let b=e>0&&this.getParsed(e-1);for(let w=0;w<v;++w){const n=t[w],f=m?n:{};if(w<e||w>=y){f.skip=!0;continue}const v=this.getParsed(w),x=l_(v[d]),_=f[h]=s.getPixelForValue(v[h],w),k=f[d]=i||x?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,v,a):v[d],w);f.skip=isNaN(_)||isNaN(k)||x,f.stop=w>0&&Math.abs(v[h]-b[h])>g,p&&(f.parsed=v,f.raw=l.data[w]),u&&(f.options=c||this.resolveDataElementOptions(w,n.active?"active":r)),m||this.updateElement(n,w,f,r),b=v}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,n=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),s=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,s)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}Tx(EE,"id","line"),Tx(EE,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),Tx(EE,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class TE extends fE{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=_k(e._parsed[t].r,n.options.locale);return{label:r[t]||"",value:i}}parseObjectData(t,e,n,r){return mS.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(((t,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<e.min&&(e.min=r),r>e.max&&(e.max=r))})),e}_updateRadius(){const t=this.chart,e=t.chartArea,n=t.options,r=Math.min(e.right-e.left,e.bottom-e.top),i=Math.max(r/2,0),s=(i-Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=i-s*this.index,this.innerRadius=this.outerRadius-s}updateElements(t,e,n,r){const i="reset"===r,s=this.chart,o=s.options.animation,a=this._cachedMeta.rScale,l=a.xCenter,c=a.yCenter,u=a.getIndexAngle(0)-.5*N_;let h,d=u;const f=360/this.countVisibleElements();for(h=0;h<e;++h)d+=this._computeAngle(h,r,f);for(h=e;h<e+n;h++){const e=t[h];let n=d,p=d+this._computeAngle(h,r,f),g=s.getDataVisibility(h)?a.getDistanceFromCenterForValue(this.getParsed(h).r):0;d=p,i&&(o.animateScale&&(g=0),o.animateRotate&&(n=p=u));const m={x:l,y:c,innerRadius:0,outerRadius:g,startAngle:n,endAngle:p,options:this.resolveDataElementOptions(h,e.active?"active":r)};this.updateElement(e,h,m,r)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach(((t,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&e++})),e}_computeAngle(t,e,n){return this.chart.getDataVisibility(t)?W_(this.resolveDataElementOptions(t,e).angle||n):0}}Tx(TE,"id","polarArea"),Tx(TE,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),Tx(TE,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n,color:r}}=t.legend.options;return e.labels.map(((e,i)=>{const s=t.getDatasetMeta(0).controller.getStyle(i);return{text:e,fillStyle:s.backgroundColor,strokeStyle:s.borderColor,fontColor:r,lineWidth:s.borderWidth,pointStyle:n,hidden:!t.getDataVisibility(i),index:i}}))}return[]}},onClick(t,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class CE extends SE{}Tx(CE,"id","pie"),Tx(CE,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class IE extends fE{getLabelAndValue(t){const e=this._cachedMeta.vScale,n=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(n[e.axis])}}parseObjectData(t,e,n,r){return mS.bind(this)(t,e,n,r)}update(t){const e=this._cachedMeta,n=e.dataset,r=e.data||[],i=e.iScale.getLabels();if(n.points=r,"resize"!==t){const e=this.resolveDatasetElementOptions(t);this.options.showLine||(e.borderWidth=0);const s={_loop:!0,_fullLoop:i.length===r.length,options:e};this.updateElement(n,void 0,s,t)}this.updateElements(r,0,r.length,t)}updateElements(t,e,n,r){const i=this._cachedMeta.rScale,s="reset"===r;for(let o=e;o<e+n;o++){const e=t[o],n=this.resolveDataElementOptions(o,e.active?"active":r),a=i.getPointPositionForValue(o,this.getParsed(o).r),l=s?i.xCenter:a.x,c=s?i.yCenter:a.y,u={x:l,y:c,angle:a.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(e,o,u,r)}}}Tx(IE,"id","radar"),Tx(IE,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Tx(IE,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class PE extends fE{getLabelAndValue(t){const e=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=e,s=this.getParsed(t),o=r.getLabelForValue(s.x),a=i.getLabelForValue(s.y);return{label:n[t]||"",value:"("+o+", "+a+")"}}update(t){const e=this._cachedMeta,{data:n=[]}=e,r=this.chart._animationsDisabled;let{start:i,count:s}=uk(e,n,r);if(this._drawStart=i,this._drawCount=s,hk(e)&&(i=0,s=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:i,_dataset:s}=e;i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!s._decimated,i.points=n;const o=this.resolveDatasetElementOptions(t);o.segment=this.options.segment,this.updateElement(i,void 0,{animated:!r,options:o},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(n,i,s,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,n,r){const i="reset"===r,{iScale:s,vScale:o,_stacked:a,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(e,r),u=this.getSharedOptions(c),h=this.includeOptions(r,u),d=s.axis,f=o.axis,{spanGaps:p,segment:g}=this.options,m=B_(p)?p:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||i||"none"===r;let v=e>0&&this.getParsed(e-1);for(let b=e;b<e+n;++b){const e=t[b],n=this.getParsed(b),c=y?e:{},p=l_(n[f]),w=c[d]=s.getPixelForValue(n[d],b),x=c[f]=i||p?o.getBasePixel():o.getPixelForValue(a?this.applyStack(o,n,a):n[f],b);c.skip=isNaN(w)||isNaN(x)||p,c.stop=b>0&&Math.abs(n[d]-v[d])>m,g&&(c.parsed=n,c.raw=l.data[b]),h&&(c.options=u||this.resolveDataElementOptions(b,e.active?"active":r)),y||this.updateElement(e,b,c,r),v=n}this.updateSharedOptions(u,r,c)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}const n=t.dataset,r=n.options&&n.options.borderWidth||0;if(!e.length)return r;const i=e[0].size(this.resolveDataElementOptions(0)),s=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(r,i,s)/2}}Tx(PE,"id","scatter"),Tx(PE,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),Tx(PE,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var NE=Object.freeze({__proto__:null,BarController:_E,BubbleController:kE,DoughnutController:SE,LineController:EE,PieController:CE,PolarAreaController:TE,RadarController:IE,ScatterController:PE});function ME(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class DE{static override(t){Object.assign(DE.prototype,t)}constructor(t){Tx(this,"options",void 0),this.options=t||{}}init(){}formats(){return ME()}parse(){return ME()}format(){return ME()}add(){return ME()}diff(){return ME()}startOf(){return ME()}endOf(){return ME()}}var AE={_date:DE};function OE(t,e,n,r){const{controller:i,data:s,_sorted:o}=t,a=i._cachedMeta.iScale;if(a&&e===a.axis&&"r"!==e&&o&&s.length){const t=a._reversePixels?nk:ek;if(!r)return t(s,e,n);if(i._sharedOptions){const r=s[0],i="function"===typeof r.getRange&&r.getRange(e);if(i){const r=t(s,e,n-i),o=t(s,e,n+i);return{lo:r.lo,hi:o.hi}}}}return{lo:0,hi:s.length-1}}function RE(t,e,n,r,i){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:t,data:n}=s[a],{lo:l,hi:c}=OE(s[a],e,o,i);for(let e=l;e<=c;++e){const i=n[e];i.skip||r(i,t,e)}}}function LE(t,e,n,r,i){const s=[];if(!i&&!t.isPointInArea(e))return s;return RE(t,n,e,(function(n,o,a){(i||jk(n,t.chartArea,0))&&n.inRange(e.x,e.y,r)&&s.push({element:n,datasetIndex:o,index:a})}),!0),s}function jE(t,e,n,r,i,s){let o=[];const a=function(t){const e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,r){const i=e?Math.abs(t.x-r.x):0,s=n?Math.abs(t.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(s,2))}}(n);let l=Number.POSITIVE_INFINITY;return RE(t,n,e,(function(n,c,u){const h=n.inRange(e.x,e.y,i);if(r&&!h)return;const d=n.getCenterPoint(i);if(!(!!s||t.isPointInArea(d))&&!h)return;const f=a(e,d);f<l?(o=[{element:n,datasetIndex:c,index:u}],l=f):f===l&&o.push({element:n,datasetIndex:c,index:u})})),o}function FE(t,e,n,r,i,s){return s||t.isPointInArea(e)?"r"!==n||r?jE(t,e,n,r,i,s):function(t,e,n,r){let i=[];return RE(t,n,e,(function(t,n,s){const{startAngle:o,endAngle:a}=t.getProps(["startAngle","endAngle"],r),{angle:l}=G_(t,{x:e.x,y:e.y});$_(l,o,a)&&i.push({element:t,datasetIndex:n,index:s})})),i}(t,e,n,i):[]}function VE(t,e,n,r,i){const s=[],o="x"===n?"inXRange":"inYRange";let a=!1;return RE(t,n,e,((t,r,l)=>{t[o](e[n],i)&&(s.push({element:t,datasetIndex:r,index:l}),a=a||t.inRange(e.x,e.y,i))})),r&&!a?[]:s}var UE={evaluateInteractionItems:RE,modes:{index(t,e,n,r){const i=MS(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?LE(t,i,s,r,o):FE(t,i,s,!1,r,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach((t=>{const e=a[0].index,n=t.data[e];n&&!n.skip&&l.push({element:n,datasetIndex:t.index,index:e})})),l):[]},dataset(t,e,n,r){const i=MS(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?LE(t,i,s,r,o):FE(t,i,s,!1,r,o);if(a.length>0){const e=a[0].datasetIndex,n=t.getDatasetMeta(e).data;a=[];for(let t=0;t<n.length;++t)a.push({element:n[t],datasetIndex:e,index:t})}return a},point:(t,e,n,r)=>LE(t,MS(e,t),n.axis||"xy",r,n.includeInvisible||!1),nearest(t,e,n,r){const i=MS(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return FE(t,i,s,n.intersect,r,o)},x:(t,e,n,r)=>VE(t,MS(e,t),"x",n.intersect,r),y:(t,e,n,r)=>VE(t,MS(e,t),"y",n.intersect,r)}};const zE=["left","top","right","bottom"];function BE(t,e){return t.filter((t=>t.pos===e))}function HE(t,e){return t.filter((t=>-1===zE.indexOf(t.pos)&&t.box.axis===e))}function WE(t,e){return t.sort(((t,n)=>{const r=e?n:t,i=e?t:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function qE(t,e){const n=function(t){const e={};for(const n of t){const{stack:t,pos:r,stackWeight:i}=n;if(!t||!zE.includes(r))continue;const s=e[t]||(e[t]={count:0,placed:0,weight:0,size:0});s.count++,s.weight+=i}return e}(t),{vBoxMaxWidth:r,hBoxMaxHeight:i}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:o}=a.box,l=n[a.stack],c=l&&a.stackWeight/l.weight;a.horizontal?(a.width=c?c*r:o&&e.availableWidth,a.height=i):(a.width=r,a.height=c?c*i:o&&e.availableHeight)}return n}function KE(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function GE(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function YE(t,e,n,r){const{pos:i,box:s}=n,o=t.maxPadding;if(!u_(i)){n.size&&(t[i]-=n.size);const e=r[n.stack]||{size:0,count:1};e.size=Math.max(e.size,n.horizontal?s.height:s.width),n.size=e.size/e.count,t[i]+=n.size}s.getPadding&&GE(o,s.getPadding());const a=Math.max(0,e.outerWidth-KE(o,t,"left","right")),l=Math.max(0,e.outerHeight-KE(o,t,"top","bottom")),c=a!==t.w,u=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:c,other:u}:{same:u,other:c}}function QE(t,e){const n=e.maxPadding;function r(t){const r={left:0,top:0,right:0,bottom:0};return t.forEach((t=>{r[t]=Math.max(e[t],n[t])})),r}return r(t?["left","right"]:["top","bottom"])}function XE(t,e,n,r){const i=[];let s,o,a,l,c,u;for(s=0,o=t.length,c=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,QE(a.horizontal,e));const{same:o,other:h}=YE(e,n,a,r);c|=o&&i.length,u=u||h,l.fullSize||i.push(a)}return c&&XE(i,e,n,r)||u}function $E(t,e,n,r,i){t.top=n,t.left=e,t.right=e+r,t.bottom=n+i,t.width=r,t.height=i}function JE(t,e,n,r){const i=n.padding;let{x:s,y:o}=e;for(const a of t){const t=a.box,l=r[a.stack]||{count:1,placed:0,weight:1},c=a.stackWeight/l.weight||1;if(a.horizontal){const r=e.w*c,s=l.size||t.height;C_(l.start)&&(o=l.start),t.fullSize?$E(t,i.left,o,n.outerWidth-i.right-i.left,s):$E(t,e.left+l.placed,o,r,s),l.start=o,l.placed+=r,o=t.bottom}else{const r=e.h*c,o=l.size||t.width;C_(l.start)&&(s=l.start),t.fullSize?$E(t,s,i.top,o,n.outerHeight-i.bottom-i.top):$E(t,s,e.top+l.placed,o,r),l.start=s,l.placed+=r,s=t.right}}e.x=s,e.y=o}var ZE={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(t){e.draw(t)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const i=Zk(t.options.layout.padding),s=Math.max(e-i.width,0),o=Math.max(n-i.height,0),a=function(t){const e=function(t){const e=[];let n,r,i,s,o,a;for(n=0,r=(t||[]).length;n<r;++n)i=t[n],({position:s,options:{stack:o,stackWeight:a=1}}=i),e.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return e}(t),n=WE(e.filter((t=>t.box.fullSize)),!0),r=WE(BE(e,"left"),!0),i=WE(BE(e,"right")),s=WE(BE(e,"top"),!0),o=WE(BE(e,"bottom")),a=HE(e,"x"),l=HE(e,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:BE(e,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,c=a.horizontal;m_(t.boxes,(t=>{"function"===typeof t.beforeLayout&&t.beforeLayout()}));const u=l.reduce(((t,e)=>e.box.options&&!1===e.box.options.display?t:t+1),0)||1,h=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/u,hBoxMaxHeight:o/2}),d=Object.assign({},i);GE(d,Zk(r));const f=Object.assign({maxPadding:d,w:s,h:o,x:i.left,y:i.top},i),p=qE(l.concat(c),h);XE(a.fullSize,f,h,p),XE(l,f,h,p),XE(c,f,h,p)&&XE(l,f,h,p),function(t){const e=t.maxPadding;function n(n){const r=Math.max(e[n]-t[n],0);return t[n]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(f),JE(a.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,JE(a.rightAndBottom,f,h,p),t.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},m_(a.chartArea,(e=>{const n=e.box;Object.assign(n,t.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}};class tT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,n){}removeEventListener(t,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,n,r){return e=Math.max(0,e||t.width),n=n||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(t){return!0}updateConfig(t){}}class eT extends tT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nT="$chartjs",rT={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},iT=t=>null===t||""===t;const sT=!!RS&&{passive:!0};function oT(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,sT)}function aT(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function lT(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||aT(n.addedNodes,r),e=e&&!aT(n.removedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}function cT(t,e,n){const r=t.canvas,i=new MutationObserver((t=>{let e=!1;for(const n of t)e=e||aT(n.removedNodes,r),e=e&&!aT(n.addedNodes,r);e&&n()}));return i.observe(document,{childList:!0,subtree:!0}),i}const uT=new Map;let hT=0;function dT(){const t=window.devicePixelRatio;t!==hT&&(hT=t,uT.forEach(((e,n)=>{n.currentDevicePixelRatio!==t&&e()})))}function fT(t,e,n){const r=t.canvas,i=r&&ES(r);if(!i)return;const s=ak(((t,e)=>{const r=i.clientWidth;n(t,e),r<i.clientWidth&&n()}),window),o=new ResizeObserver((t=>{const e=t[0],n=e.contentRect.width,r=e.contentRect.height;0===n&&0===r||s(n,r)}));return o.observe(i),function(t,e){uT.size||window.addEventListener("resize",dT),uT.set(t,e)}(t,s),o}function pT(t,e,n){n&&n.disconnect(),"resize"===e&&function(t){uT.delete(t),uT.size||window.removeEventListener("resize",dT)}(t)}function gT(t,e,n){const r=t.canvas,i=ak((e=>{null!==t.ctx&&n(function(t,e){const n=rT[t.type]||t.type,{x:r,y:i}=MS(t,e);return{type:n,chart:e,native:t,x:void 0!==r?r:null,y:void 0!==i?i:null}}(e,t))}),t);return function(t,e,n){t&&t.addEventListener(e,n,sT)}(r,e,i),i}class mT extends tT{acquireContext(t,e){const n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(function(t,e){const n=t.style,r=t.getAttribute("height"),i=t.getAttribute("width");if(t[nT]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",iT(i)){const e=LS(t,"width");void 0!==e&&(t.width=e)}if(iT(r))if(""===t.style.height)t.height=t.width/(e||2);else{const e=LS(t,"height");void 0!==e&&(t.height=e)}}(t,e),n):null}releaseContext(t){const e=t.canvas;if(!e[nT])return!1;const n=e[nT].initial;["height","width"].forEach((t=>{const r=n[t];l_(r)?e.removeAttribute(t):e.setAttribute(t,r)}));const r=n.style||{};return Object.keys(r).forEach((t=>{e.style[t]=r[t]})),e.width=e.width,delete e[nT],!0}addEventListener(t,e,n){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),i={attach:lT,detach:cT,resize:fT}[e]||gT;r[e]=i(t,e,n)}removeEventListener(t,e){const n=t.$proxies||(t.$proxies={}),r=n[e];if(!r)return;({attach:pT,detach:pT,resize:pT}[e]||oT)(t,e,r),n[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,n,r){return AS(t,e,n,r)}isAttached(t){const e=t&&ES(t);return!(!e||!e.isConnected)}}class yT{constructor(){Tx(this,"x",void 0),Tx(this,"y",void 0),Tx(this,"active",!1),Tx(this,"options",void 0),Tx(this,"$animations",void 0)}tooltipPosition(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}hasValue(){return B_(this.x)&&B_(this.y)}getProps(t,e){const n=this.$animations;if(!e||!n)return this;const r={};return t.forEach((t=>{r[t]=n[t]&&n[t].active()?n[t]._to:this[t]})),r}}function vT(t,e){const n=t.options.ticks,r=function(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),i=t._maxLength/n;return Math.floor(Math.min(r,i))}(t),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?function(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}(e):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return function(t,e,n,r){let i,s=0,o=n[0];for(r=Math.ceil(r),i=0;i<t.length;i++)i===o&&(e.push(t[i]),s++,o=n[s*r])}(e,c,s,o/i),c;const u=function(t,e,n){const r=function(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}(t),i=e.length/n;if(!r)return Math.max(i,1);const s=function(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(0|n)&&e.push(n),e.sort(((t,e)=>t-e)).pop(),e}(r);for(let o=0,a=s.length-1;o<a;o++){const t=s[o];if(t>i)return t}return Math.max(i,1)}(s,e,i);if(o>0){let t,n;const r=o>1?Math.round((l-a)/(o-1)):null;for(bT(e,c,u,l_(r)?0:a-r,a),t=0,n=o-1;t<n;t++)bT(e,c,u,s[t],s[t+1]);return bT(e,c,u,l,l_(r)?e.length:l+r),c}return bT(e,c,u),c}function bT(t,e,n,r,i){const s=f_(r,0),o=Math.min(f_(i,t.length),t.length);let a,l,c,u=0;for(n=Math.ceil(n),i&&(a=i-r,n=a/Math.floor(a/n)),c=s;c<0;)u++,c=Math.round(s+u*n);for(l=Math.max(s,0);l<o;l++)l===c&&(e.push(t[l]),u++,c=Math.round(s+u*n))}Tx(yT,"defaults",{}),Tx(yT,"defaultRoutes",void 0);const wT=(t,e,n)=>"top"===e||"left"===e?t[e]+n:t[e]-n,xT=(t,e)=>Math.min(e||t,t);function _T(t,e){const n=[],r=t.length/e,i=t.length;let s=0;for(;s<i;s+=r)n.push(t[Math.floor(s)]);return n}function kT(t,e,n){const r=t.ticks.length,i=Math.min(e,r-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l,c=t.getPixelForTick(i);if(!(n&&(l=1===r?Math.max(c-s,o-c):0===e?(t.getPixelForTick(1)-c)/2:(c-t.getPixelForTick(i-1))/2,c+=i<e?l:-l,c<s-a||c>o+a)))return c}function ST(t){return t.drawTicks?t.tickLength:0}function ET(t,e){if(!t.display)return 0;const n=tS(t.font,e),r=Zk(t.padding);return(c_(t.text)?t.text.length:1)*n.lineHeight+r.height}function TT(t,e,n){let r=lk(t);return(n&&"right"!==e||!n&&"right"===e)&&(r=(t=>"left"===t?"right":"right"===t?"left":t)(r)),r}class CT extends yT{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return t=d_(t,Number.POSITIVE_INFINITY),e=d_(e,Number.NEGATIVE_INFINITY),n=d_(n,Number.POSITIVE_INFINITY),r=d_(r,Number.NEGATIVE_INFINITY),{min:d_(t,n),max:d_(e,r),minDefined:h_(t),maxDefined:h_(e)}}getMinMax(t){let e,{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds();if(i&&s)return{min:n,max:r};const o=this.getMatchingVisibleMetas();for(let a=0,l=o.length;a<l;++a)e=o[a].controller.getMinMax(this,t),i||(n=Math.min(n,e.min)),s||(r=Math.max(r,e.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:d_(n,d_(r,n)),max:d_(r,d_(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){g_(this.options.beforeUpdate,[this])}update(t,e,n){const{beginAtZero:r,grace:i,ticks:s}=this.options,o=s.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(t,e,n){const{min:r,max:i}=t,s=p_(e,(i-r)/2),o=(t,e)=>n&&0===t?0:t+e;return{min:o(r,-Math.abs(s)),max:o(i,s)}}(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const a=o<this.ticks.length;this._convertTicksToLabels(a?_T(this.ticks,o):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),s.display&&(s.autoSkip||"auto"===s.source)&&(this.ticks=vT(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),a&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t,e,n=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,n=!n),this._startPixel=t,this._endPixel=e,this._reversePixels=n,this._length=e-t,this._alignToPixels=this.options.alignToPixels}afterUpdate(){g_(this.options.afterUpdate,[this])}beforeSetDimensions(){g_(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){g_(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),g_(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){g_(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n],i.label=g_(e.callback,[i.value,n,t],this)}afterTickToLabelConversion(){g_(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){g_(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,n=xT(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,i=e.maxRotation;let s,o,a,l=r;if(!this._isVisible()||!e.display||r>=i||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),u=c.widest.width,h=c.highest.height,d=J_(this.chart.width-u,0,this.maxWidth);s=t.offset?this.maxWidth/n:d/(n-1),u+6>s&&(s=d/(n-(t.offset?.5:1)),o=this.maxHeight-ST(t.grid)-e.padding-ET(t.title,this.chart.options.font),a=Math.sqrt(u*u+h*h),l=q_(Math.min(Math.asin(J_((c.highest.height+6)/s,-1,1)),Math.asin(J_(o/a,-1,1))-Math.asin(J_(h/a,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){g_(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){g_(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:i}}=this,s=this._isVisible(),o=this.isHorizontal();if(s){const s=ET(r,e.options.font);if(o?(t.width=this.maxWidth,t.height=ST(i)+s):(t.height=this.maxHeight,t.width=ST(i)+s),n.display&&this.ticks.length){const{first:e,last:r,widest:i,highest:s}=this._getLabelSizes(),a=2*n.padding,l=W_(this.labelRotation),c=Math.cos(l),u=Math.sin(l);if(o){const e=n.mirror?0:u*i.width+c*s.height;t.height=Math.min(this.maxHeight,t.height+e+a)}else{const e=n.mirror?0:c*i.width+u*s.height;t.width=Math.min(this.maxWidth,t.width+e+a)}this._calculatePadding(e,r,u,c)}}this._handleMargins(),o?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,n,r){const{ticks:{align:i,padding:s},position:o}=this.options,a=0!==this.labelRotation,l="top"!==o&&"x"===this.axis;if(this.isHorizontal()){const o=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let u=0,h=0;a?l?(u=r*t.width,h=n*e.height):(u=n*t.height,h=r*e.width):"start"===i?h=e.width:"end"===i?u=t.width:"inner"!==i&&(u=t.width/2,h=e.width/2),this.paddingLeft=Math.max((u-o+s)*this.width/(this.width-o),0),this.paddingRight=Math.max((h-c+s)*this.width/(this.width-c),0)}else{let n=e.height/2,r=t.height/2;"start"===i?(n=0,r=t.height):"end"===i&&(n=e.height,r=0),this.paddingTop=n+s,this.paddingBottom=r+s}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){g_(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return"top"===e||"bottom"===e||"x"===t}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,n=t.length;e<n;e++)l_(t[e].label)&&(t.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=_T(n,e)),this._labelSizes=t=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,n){const{ctx:r,_longestTextCache:i}=this,s=[],o=[],a=Math.floor(e/xT(e,n));let l,c,u,h,d,f,p,g,m,y,v,b=0,w=0;for(l=0;l<e;l+=a){if(h=t[l].label,d=this._resolveTickFontOptions(l),r.font=f=d.string,p=i[f]=i[f]||{data:{},gc:[]},g=d.lineHeight,m=y=0,l_(h)||c_(h)){if(c_(h))for(c=0,u=h.length;c<u;++c)v=h[c],l_(v)||c_(v)||(m=Mk(r,p.data,p.gc,m,v),y+=g)}else m=Mk(r,p.data,p.gc,m,h),y=g;s.push(m),o.push(y),b=Math.max(m,b),w=Math.max(y,w)}!function(t,e){m_(t,(t=>{const n=t.gc,r=n.length/2;let i;if(r>e){for(i=0;i<r;++i)delete t.data[n[i]];n.splice(0,r)}}))}(i,e);const x=s.indexOf(b),_=o.indexOf(w),k=t=>({width:s[t]||0,height:o[t]||0});return{first:k(0),last:k(e-1),widest:k(x),highest:k(_),widths:s,heights:o}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return J_(this._alignToPixels?Ak(this.chart,e,0):e,-32768,32767)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const n=e[t];return n.$context||(n.$context=function(t,e,n){return nS(t,{tick:n,index:e,type:"tick"})}(this.getContext(),t,n))}return this.$context||(this.$context=nS(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const t=this.options.ticks,e=W_(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),i=this._getLabelSizes(),s=t.autoSkipPadding||0,o=i?i.widest.width+s:0,a=i?i.highest.height+s:0;return this.isHorizontal()?a*n>o*r?o/n:a/r:a*r<o*n?a/n:o/r}_isVisible(){const t=this.options.display;return"auto"!==t?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,n=this.chart,r=this.options,{grid:i,position:s,border:o}=r,a=i.offset,l=this.isHorizontal(),c=this.ticks.length+(a?1:0),u=ST(i),h=[],d=o.setContext(this.getContext()),f=d.display?d.width:0,p=f/2,g=function(t){return Ak(n,t,f)};let m,y,v,b,w,x,_,k,S,E,T,C;if("top"===s)m=g(this.bottom),x=this.bottom-u,k=m-p,E=g(t.top)+p,C=t.bottom;else if("bottom"===s)m=g(this.top),E=t.top,C=g(t.bottom)-p,x=m+p,k=this.top+u;else if("left"===s)m=g(this.right),w=this.right-u,_=m-p,S=g(t.left)+p,T=t.right;else if("right"===s)m=g(this.left),S=t.left,T=g(t.right)-p,w=m+p,_=this.left+u;else if("x"===e){if("center"===s)m=g((t.top+t.bottom)/2+.5);else if(u_(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}E=t.top,C=t.bottom,x=m+p,k=x+u}else if("y"===e){if("center"===s)m=g((t.left+t.right)/2);else if(u_(s)){const t=Object.keys(s)[0],e=s[t];m=g(this.chart.scales[t].getPixelForValue(e))}w=m-p,_=w-u,S=t.left,T=t.right}const I=f_(r.ticks.maxTicksLimit,c),P=Math.max(1,Math.ceil(c/I));for(y=0;y<c;y+=P){const t=this.getContext(y),e=i.setContext(t),r=o.setContext(t),s=e.lineWidth,c=e.color,u=r.dash||[],d=r.dashOffset,f=e.tickWidth,p=e.tickColor,g=e.tickBorderDash||[],m=e.tickBorderDashOffset;v=kT(this,y,a),void 0!==v&&(b=Ak(n,v,s),l?w=_=S=T=b:x=k=E=C=b,h.push({tx1:w,ty1:x,tx2:_,ty2:k,x1:S,y1:E,x2:T,y2:C,width:s,color:c,borderDash:u,borderDashOffset:d,tickWidth:f,tickColor:p,tickBorderDash:g,tickBorderDashOffset:m}))}return this._ticksLength=c,this._borderValue=m,h}_computeLabelItems(t){const e=this.axis,n=this.options,{position:r,ticks:i}=n,s=this.isHorizontal(),o=this.ticks,{align:a,crossAlign:l,padding:c,mirror:u}=i,h=ST(n.grid),d=h+c,f=u?-c:d,p=-W_(this.labelRotation),g=[];let m,y,v,b,w,x,_,k,S,E,T,C,I="middle";if("top"===r)x=this.bottom-f,_=this._getXAxisLabelAlignment();else if("bottom"===r)x=this.top+f,_=this._getXAxisLabelAlignment();else if("left"===r){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("right"===r){const t=this._getYAxisLabelAlignment(h);_=t.textAlign,w=t.x}else if("x"===e){if("center"===r)x=(t.top+t.bottom)/2+d;else if(u_(r)){const t=Object.keys(r)[0],e=r[t];x=this.chart.scales[t].getPixelForValue(e)+d}_=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)w=(t.left+t.right)/2-d;else if(u_(r)){const t=Object.keys(r)[0],e=r[t];w=this.chart.scales[t].getPixelForValue(e)}_=this._getYAxisLabelAlignment(h).textAlign}"y"===e&&("start"===a?I="top":"end"===a&&(I="bottom"));const P=this._getLabelSizes();for(m=0,y=o.length;m<y;++m){v=o[m],b=v.label;const t=i.setContext(this.getContext(m));k=this.getPixelForTick(m)+i.labelOffset,S=this._resolveTickFontOptions(m),E=S.lineHeight,T=c_(b)?b.length:1;const e=T/2,n=t.color,a=t.textStrokeColor,c=t.textStrokeWidth;let h,d=_;if(s?(w=k,"inner"===_&&(d=m===y-1?this.options.reverse?"left":"right":0===m?this.options.reverse?"right":"left":"center"),C="top"===r?"near"===l||0!==p?-T*E+E/2:"center"===l?-P.highest.height/2-e*E+E:-P.highest.height+E/2:"near"===l||0!==p?E/2:"center"===l?P.highest.height/2-e*E:P.highest.height-T*E,u&&(C*=-1),0===p||t.showLabelBackdrop||(w+=E/2*Math.sin(p))):(x=k,C=(1-T)*E/2),t.showLabelBackdrop){const e=Zk(t.backdropPadding),n=P.heights[m],r=P.widths[m];let i=C-e.top,s=0-e.left;switch(I){case"middle":i-=n/2;break;case"bottom":i-=n}switch(_){case"center":s-=r/2;break;case"right":s-=r;break;case"inner":m===y-1?s-=r:m>0&&(s-=r/2)}h={left:s,top:i,width:r+e.width,height:n+e.height,color:t.backdropColor}}g.push({label:b,font:S,textOffset:C,options:{rotation:p,color:n,strokeColor:a,strokeWidth:c,textAlign:d,textBaseline:I,translation:[w,x],backdrop:h}})}return g}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-W_(this.labelRotation))return"top"===t?"left":"right";let n="center";return"start"===e.align?n="left":"end"===e.align?n="right":"inner"===e.align&&(n="inner"),n}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,s=t+i,o=this._getLabelSizes().widest.width;let a,l;return"left"===e?r?(l=this.right+i,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l+=o)):(l=this.right-s,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l=this.left)):"right"===e?r?(l=this.left+i,"near"===n?a="right":"center"===n?(a="center",l-=o/2):(a="left",l-=o)):(l=this.left+s,"near"===n?a="left":"center"===n?(a="center",l+=o/2):(a="right",l=this.right)):a="right",{textAlign:a,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:n,top:r,width:i,height:s}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(n,r,i,s),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const n=this.ticks.findIndex((e=>e.value===t));if(n>=0){return e.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(t){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let i,s;const o=(t,e,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(t.x,t.y),n.lineTo(e.x,e.y),n.stroke(),n.restore())};if(e.display)for(i=0,s=r.length;i<s;++i){const t=r[i];e.drawOnChartArea&&o({x:t.x1,y:t.y1},{x:t.x2,y:t.y2},t),e.drawTicks&&o({x:t.tx1,y:t.ty1},{x:t.tx2,y:t.ty2},{color:t.tickColor,width:t.tickWidth,borderDash:t.tickBorderDash,borderDashOffset:t.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),s=n.display?i.width:0;if(!s)return;const o=r.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,c,u,h;this.isHorizontal()?(l=Ak(t,this.left,s)-s/2,c=Ak(t,this.right,o)+o/2,u=h=a):(u=Ak(t,this.top,s)-s/2,h=Ak(t,this.bottom,o)+o/2,l=c=a),e.save(),e.lineWidth=i.width,e.strokeStyle=i.color,e.beginPath(),e.moveTo(l,u),e.lineTo(c,h),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const e=this.ctx,n=this._computeLabelArea();n&&Fk(e,n);const r=this.getLabelItems(t);for(const i of r){const t=i.options,n=i.font;Wk(e,i.label,0,i.textOffset,n,t)}n&&Vk(e)}drawTitle(){const{ctx:t,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const i=tS(n.font),s=Zk(n.padding),o=n.align;let a=i.lineHeight/2;"bottom"===e||"center"===e||u_(e)?(a+=s.bottom,c_(n.text)&&(a+=i.lineHeight*(n.text.length-1))):a+=s.top;const{titleX:l,titleY:c,maxWidth:u,rotation:h}=function(t,e,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=t,{chartArea:c,scales:u}=l;let h,d,f,p=0;const g=o-i,m=a-s;if(t.isHorizontal()){if(d=ck(r,s,a),u_(n)){const t=Object.keys(n)[0],r=n[t];f=u[t].getPixelForValue(r)+g-e}else f="center"===n?(c.bottom+c.top)/2+g-e:wT(t,n,e);h=a-s}else{if(u_(n)){const t=Object.keys(n)[0],r=n[t];d=u[t].getPixelForValue(r)-m+e}else d="center"===n?(c.left+c.right)/2-m+e:wT(t,n,e);f=ck(r,o,i),p="left"===n?-R_:R_}return{titleX:d,titleY:f,maxWidth:h,rotation:p}}(this,a,e,o);Wk(t,n.text,0,0,i,{color:n.color,maxWidth:u,rotation:h,textAlign:TT(o,e,r),textBaseline:"middle",translation:[l,c]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,n=f_(t.grid&&t.grid.z,-1),r=f_(t.border&&t.border.z,0);return this._isVisible()&&this.draw===CT.prototype.draw?[{z:n,draw:t=>{this.drawBackground(),this.drawGrid(t),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:t=>{this.drawLabels(t)}}]:[{z:e,draw:t=>{this.draw(t)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,s;for(i=0,s=e.length;i<s;++i){const s=e[i];s[n]!==this.id||t&&s.type!==t||r.push(s)}return r}_resolveTickFontOptions(t){return tS(this.options.ticks.setContext(this.getContext(t)).font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class IT{constructor(t,e,n){this.type=t,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let n;(function(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,i=t.id,s=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+t);return i in r||(r[i]=t,function(t,e,n){const r=x_(Object.create(null),[n?Nk.get(n):{},Nk.get(e),t.defaults]);Nk.set(e,r),t.defaultRoutes&&function(t,e){Object.keys(e).forEach((n=>{const r=n.split("."),i=r.pop(),s=[t].concat(r).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Nk.route(s,i,l,a)}))}(e,t.defaultRoutes);t.descriptors&&Nk.describe(e,t.descriptors)}(t,s,n),this.override&&Nk.override(t.id,t.overrides)),s}get(t){return this.items[t]}unregister(t){const e=this.items,n=t.id,r=this.scope;n in e&&delete e[n],r&&n in Nk[r]&&(delete Nk[r][n],this.override&&delete Ek[n])}}class PT{constructor(){this.controllers=new IT(fE,"datasets",!0),this.elements=new IT(yT,"elements"),this.plugins=new IT(Object,"plugins"),this.scales=new IT(CT,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e)}remove(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e)}addControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.controllers)}addElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.elements)}addPlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.plugins)}addScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("register",e,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.controllers)}removeElements(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.elements)}removePlugins(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.plugins)}removeScales(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];this._each("unregister",e,this.scales)}_each(t,e,n){[...e].forEach((e=>{const r=n||this._getRegistryForType(e);n||r.isForType(e)||r===this.plugins&&e.id?this._exec(t,r,e):m_(e,(e=>{const r=n||this._getRegistryForType(e);this._exec(t,r,e)}))}))}_exec(t,e,n){const r=T_(t);g_(n["before"+r],[],n),e[t](n),g_(n["after"+r],[],n)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(t))return n}return this.plugins}_get(t,e,n){const r=e.get(t);if(void 0===r)throw new Error('"'+t+'" is not a registered '+n+".");return r}}var NT=new PT;class MT{constructor(){this._init=[]}notify(t,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const i=r?this._descriptors(t).filter(r):this._descriptors(t),s=this._notify(i,t,e,n);return"afterDestroy"===e&&(this._notify(i,t,"stop"),this._notify(this._init,t,"uninstall")),s}_notify(t,e,n,r){r=r||{};for(const i of t){const t=i.plugin;if(!1===g_(t[n],[e,r,i.options],t)&&r.cancelable)return!1}return!0}invalidate(){l_(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const n=t&&t.config,r=f_(n.options&&n.options.plugins,{}),i=function(t){const e={},n=[],r=Object.keys(NT.plugins.items);for(let s=0;s<r.length;s++)n.push(NT.getPlugin(r[s]));const i=t.plugins||[];for(let s=0;s<i.length;s++){const t=i[s];-1===n.indexOf(t)&&(n.push(t),e[t.id]=!0)}return{plugins:n,localIds:e}}(n);return!1!==r||e?function(t,e,n,r){let{plugins:i,localIds:s}=e;const o=[],a=t.getContext();for(const l of i){const e=l.id,i=DT(n[e],r);null!==i&&o.push({plugin:l,options:AT(t.config,{plugin:l,local:s[e]},i,a)})}return o}(t,i,r,e):[]}_notifyStateChanges(t){const e=this._oldCache||[],n=this._cache,r=(t,e)=>t.filter((t=>!e.some((e=>t.plugin.id===e.plugin.id))));this._notify(r(e,n),t,"stop"),this._notify(r(n,e),t,"start")}}function DT(t,e){return e||!1!==t?!0===t?{}:t:null}function AT(t,e,n,r){let{plugin:i,local:s}=e;const o=t.pluginScopeKeys(i),a=t.getOptionScopes(n,o);return s&&i.defaults&&a.push(i.defaults),t.createResolver(a,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function OT(t,e){const n=Nk.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function RT(t){if("x"===t||"y"===t||"r"===t)return t}function LT(t){if(RT(t))return t;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(const s of n){const e=s.axis||("top"===(i=s.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||t.length>1&&RT(t[0].toLowerCase());if(e)return e}var i;throw new Error("Cannot determine type of '".concat(t,"' axis. Please provide 'axis' or 'position' option."))}function jT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function FT(t,e){const n=Ek[t.type]||{scales:{}},r=e.scales||{},i=OT(t.type,e),s=Object.create(null);return Object.keys(r).forEach((e=>{const o=r[e];if(!u_(o))return console.error("Invalid scale configuration for scale: ".concat(e));if(o._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(e));const a=LT(e,o,function(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter((e=>e.xAxisID===t||e.yAxisID===t));if(n.length)return jT(t,"x",n[0])||jT(t,"y",n[0])}return{}}(e,t),Nk.scales[o.type]),l=function(t,e){return t===e?"_index_":"_value_"}(a,i),c=n.scales||{};s[e]=__(Object.create(null),[{axis:a},o,c[a],c[l]])})),t.data.datasets.forEach((n=>{const i=n.type||t.type,o=n.indexAxis||OT(i,e),a=(Ek[i]||{}).scales||{};Object.keys(a).forEach((t=>{const e=function(t,e){let n=t;return"_index_"===t?n=e:"_value_"===t&&(n="x"===e?"y":"x"),n}(t,o),i=n[e+"AxisID"]||e;s[i]=s[i]||Object.create(null),__(s[i],[{axis:e},r[i],a[t]])}))})),Object.keys(s).forEach((t=>{const e=s[t];__(e,[Nk.scales[e.type],Nk.scale])})),s}function VT(t){const e=t.options||(t.options={});e.plugins=f_(e.plugins,{}),e.scales=FT(t,e)}function UT(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const zT=new Map,BT=new Set;function HT(t,e){let n=zT.get(t);return n||(n=e(),zT.set(t,n),BT.add(n)),n}const WT=(t,e,n)=>{const r=E_(e,n);void 0!==r&&t.add(r)};class qT{constructor(t){this._config=function(t){return(t=t||{}).data=UT(t.data),VT(t),t}(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=UT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),VT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return HT(t,(()=>[["datasets.".concat(t),""]]))}datasetAnimationScopeKeys(t,e){return HT("".concat(t,".transition.").concat(e),(()=>[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]))}datasetElementScopeKeys(t,e){return HT("".concat(t,"-").concat(e),(()=>[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]))}pluginScopeKeys(t){const e=t.id,n=this.type;return HT("".concat(n,"-plugin-").concat(e),(()=>[["plugins.".concat(e),...t.additionalOptionScopes||[]]]))}_cachedScopes(t,e){const n=this._scopeCache;let r=n.get(t);return r&&!e||(r=new Map,n.set(t,r)),r}getOptionScopes(t,e,n){const{options:r,type:i}=this,s=this._cachedScopes(t,n),o=s.get(e);if(o)return o;const a=new Set;e.forEach((e=>{t&&(a.add(t),e.forEach((e=>WT(a,t,e)))),e.forEach((t=>WT(a,r,t))),e.forEach((t=>WT(a,Ek[i]||{},t))),e.forEach((t=>WT(a,Nk,t))),e.forEach((t=>WT(a,Tk,t)))}));const l=Array.from(a);return 0===l.length&&l.push(Object.create(null)),BT.has(e)&&s.set(e,l),l}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ek[e]||{},Nk.datasets[e]||{},{type:e},Nk,Tk]}resolveNamedOptions(t,e,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const i={$shared:!0},{resolver:s,subPrefixes:o}=KT(this._resolverCache,t,r);let a=s;if(function(t,e){const{isScriptable:n,isIndexable:r}=sS(t);for(const i of e){const e=n(i),s=r(i),o=(s||e)&&t[i];if(e&&(I_(o)||GT(o))||s&&c_(o))return!0}return!1}(s,e)){i.$shared=!1;a=iS(s,n=I_(n)?n():n,this.createResolver(t,n,o))}for(const l of e)i[l]=a[l];return i}createResolver(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:i}=KT(this._resolverCache,t,n);return u_(e)?iS(i,e,void 0,r):i}}function KT(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const i=n.join();let s=r.get(i);if(!s){s={resolver:rS(e,n),subPrefixes:n.filter((t=>!t.toLowerCase().includes("hover")))},r.set(i,s)}return s}const GT=t=>u_(t)&&Object.getOwnPropertyNames(t).some((e=>I_(t[e])));const YT=["top","bottom","left","right","chartArea"];function QT(t,e){return"top"===t||"bottom"===t||-1===YT.indexOf(t)&&"x"===e}function XT(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function $T(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),g_(n&&n.onComplete,[t],e)}function JT(t){const e=t.chart,n=e.options.animation;g_(n&&n.onProgress,[t],e)}function ZT(t){return SS()&&"string"===typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const tC={},eC=t=>{const e=ZT(t);return Object.values(tC).filter((t=>t.canvas===e)).pop()};function nC(t,e,n){const r=Object.keys(t);for(const i of r){const r=+i;if(r>=e){const s=t[i];delete t[i],(n>0||r>e)&&(t[r+n]=s)}}}function rC(t,e,n){return t.options.clip?t[n]:e[n]}class iC{static register(){NT.add(...arguments),sC()}static unregister(){NT.remove(...arguments),sC()}constructor(t,e){const n=this.config=new qT(e),r=ZT(t),i=eC(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const s=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(t){return!SS()||"undefined"!==typeof OffscreenCanvas&&t instanceof OffscreenCanvas?eT:mT}(r)),this.platform.updateConfig(n);const o=this.platform.acquireContext(r,s.aspectRatio),a=o&&o.canvas,l=a&&a.height,c=a&&a.width;this.id=a_(),this.ctx=o,this.canvas=a,this.width=c,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new MT,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(t,e){let n;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}((t=>this.update(t)),s.resizeDelay||0),this._dataChanges=[],tC[this.id]=this,o&&a?($S.listen(this,"complete",$T),$S.listen(this,"progress",JT),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:n,height:r,_aspectRatio:i}=this;return l_(t)?e&&i?i:r?n/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return NT}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():OS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ok(this.canvas,this.ctx),this}stop(){return $S.stop(this),this}resize(t,e){$S.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,s=this.platform.getMaximumSize(r,t,e,i),o=n.devicePixelRatio||this.platform.getDevicePixelRatio(),a=this.width?"resize":"attach";this.width=s.width,this.height=s.height,this._aspectRatio=this.aspectRatio,OS(this,o,!0)&&(this.notifyPlugins("resize",{size:s}),g_(n.onResize,[this,s],this),this.attached&&this._doResize(a)&&this.render())}ensureScalesHaveIDs(){m_(this.options.scales||{},((t,e)=>{t.id=e}))}buildOrUpdateScales(){const t=this.options,e=t.scales,n=this.scales,r=Object.keys(n).reduce(((t,e)=>(t[e]=!1,t)),{});let i=[];e&&(i=i.concat(Object.keys(e).map((t=>{const n=e[t],r=LT(t,n),i="r"===r,s="x"===r;return{options:n,dposition:i?"chartArea":s?"bottom":"left",dtype:i?"radialLinear":s?"category":"linear"}})))),m_(i,(e=>{const i=e.options,s=i.id,o=LT(s,i),a=f_(i.type,e.dtype);void 0!==i.position&&QT(i.position,o)===QT(e.dposition)||(i.position=e.dposition),r[s]=!0;let l=null;if(s in n&&n[s].type===a)l=n[s];else{l=new(NT.getScale(a))({id:s,type:a,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(i,t)})),m_(r,((t,e)=>{t||delete n[e]})),m_(n,(t=>{ZE.configure(this,t,t.options),ZE.addBox(this,t)}))}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,n=t.length;if(t.sort(((t,e)=>t.index-e.index)),n>e){for(let t=e;t<n;++t)this._destroyDatasetMeta(t);t.splice(e,n-e)}this._sortedMetasets=t.slice(0).sort(XT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach(((t,n)=>{0===e.filter((e=>e===t._dataset)).length&&this._destroyDatasetMeta(n)}))}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const r=e[n];let i=this.getDatasetMeta(n);const s=r.type||this.config.type;if(i.type&&i.type!==s&&(this._destroyDatasetMeta(n),i=this.getDatasetMeta(n)),i.type=s,i.indexAxis=r.indexAxis||OT(s,this.options),i.order=r.order||0,i.index=n,i.label=""+r.label,i.visible=this.isDatasetVisible(n),i.controller)i.controller.updateIndex(n),i.controller.linkScales();else{const e=NT.getController(s),{datasetElementType:r,dataElementType:o}=Nk.datasets[s];Object.assign(e,{dataElementType:NT.getElement(o),datasetElementType:r&&NT.getElement(r)}),i.controller=new e(this,n),t.push(i.controller)}}return this._updateMetasets(),t}_resetElements(){m_(this.data.datasets,((t,e)=>{this.getDatasetMeta(e).controller.reset()}),this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0}))return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let s=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:t}=this.getDatasetMeta(l),e=!r&&-1===i.indexOf(t);t.buildOrUpdateElements(e),s=Math.max(+t.getMaxOverflow(),s)}s=this._minPadding=n.layout.autoPadding?s:0,this._updateLayout(s),r||m_(i,(t=>{t.reset()})),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(XT("z","_idx"));const{_active:o,_lastEvent:a}=this;a?this._eventHandler(a,!0):o.length&&this._updateHoverStyles(o,o,!0),this.render()}_updateScales(){m_(this.scales,(t=>{ZE.removeBox(this,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(t.events);P_(e,n)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of e){nC(t,r,"_removeElements"===n?-i:i)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=e=>new Set(t.filter((t=>t[0]===e)).map(((t,e)=>e+","+t.splice(1).join(",")))),r=n(0);for(let i=1;i<e;i++)if(!P_(r,n(i)))return;return Array.from(r).map((t=>t.split(","))).map((t=>({method:t[1],start:+t[2],count:+t[3]})))}_updateLayout(t){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;ZE.update(this,this.width,this.height,t);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],m_(this.boxes,(t=>{n&&"chartArea"===t.position||(t.configure&&t.configure(),this._layers.push(...t._layers()))}),this),this._layers.forEach(((t,e)=>{t._idx=e})),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(let t=0,e=this.data.datasets.length;t<e;++t)this.getDatasetMeta(t).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,I_(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const n=this.getDatasetMeta(t),r={meta:n,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&($S.has(this)?this.attached&&!$S.running(this)&&$S.start(this):(this.draw(),$T({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:t,height:e}=this._resizeBeforeDraw;this._resize(t,e),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,n=[];let r,i;for(r=0,i=e.length;r<i;++r){const i=e[r];t&&!i.visible||n.push(i)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,n=t._clip,r=!n.disabled,i=function(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:rC(n,e,"left"),right:rC(n,e,"right"),top:rC(r,e,"top"),bottom:rC(r,e,"bottom")}:e}(t,this.chartArea),s={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",s)&&(r&&Fk(e,{left:!1===n.left?0:i.left-n.left,right:!1===n.right?this.width:i.right+n.right,top:!1===n.top?0:i.top-n.top,bottom:!1===n.bottom?this.height:i.bottom+n.bottom}),t.controller.draw(),r&&Vk(e),s.cancelable=!1,this.notifyPlugins("afterDatasetDraw",s))}isPointInArea(t){return jk(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,n,r){const i=UE.modes[e];return"function"===typeof i?i(this,t,n,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],n=this._metasets;let r=n.filter((t=>t&&t._dataset===e)).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=nS(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const n=this.getDatasetMeta(t);return"boolean"===typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(t,e){this.getDatasetMeta(t).hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,n){const r=n?"show":"hide",i=this.getDatasetMeta(t),s=i.controller._resolveAnimations(void 0,r);C_(e)?(i.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(t,n),s.update(i,{visible:n}),this.update((e=>e.datasetIndex===t?r:void 0)))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),$S.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ok(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete tC[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(t,e,n)=>{t.offsetX=e,t.offsetY=n,this._eventHandler(t)};m_(this.options.events,(t=>n(t,r)))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,n=(n,r)=>{e.addEventListener(this,n,r),t[n]=r},r=(n,r)=>{t[n]&&(e.removeEventListener(this,n,r),delete t[n])},i=(t,e)=>{this.canvas&&this.resize(t,e)};let s;const o=()=>{r("attach",o),this.attached=!0,this.resize(),n("resize",i),n("detach",s)};s=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",o)},e.isAttached(this.canvas)?o():s()}unbindEvents(){m_(this._listeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._listeners={},m_(this._responsiveListeners,((t,e)=>{this.platform.removeEventListener(this,e,t)})),this._responsiveListeners=void 0}updateHoverStyle(t,e,n){const r=n?"set":"remove";let i,s,o,a;for("dataset"===e&&(i=this.getDatasetMeta(t[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),o=0,a=t.length;o<a;++o){s=t[o];const e=s&&this.getDatasetMeta(s.datasetIndex).controller;e&&e[r+"HoverStyle"](s.element,s.datasetIndex,s.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],n=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.getDatasetMeta(e);if(!r)throw new Error("No dataset found at index "+e);return{datasetIndex:e,element:r.data[n],index:n}}));!y_(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(t,e,n){return this._plugins.notify(this,t,e,n)}isPluginEnabled(t){return 1===this._plugins._cache.filter((e=>e.plugin.id===t)).length}_updateHoverStyles(t,e,n){const r=this.options.hover,i=(t,e)=>t.filter((t=>!e.some((e=>t.datasetIndex===e.datasetIndex&&t.index===e.index)))),s=i(e,t),o=n?t:i(t,e);s.length&&this.updateHoverStyle(s,r.mode,!1),o.length&&r.mode&&this.updateHoverStyle(o,r.mode,!0)}_eventHandler(t,e){const n={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=e=>(e.options.events||this.options.events).includes(t.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const i=this._handleEvent(t,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(t,e,n){const{_active:r=[],options:i}=this,s=e,o=this._getActiveElements(t,r,n,s),a=function(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(t),l=function(t,e,n,r){return n&&"mouseout"!==t.type?r?e:t:null}(t,this._lastEvent,n,a);n&&(this._lastEvent=null,g_(i.onHover,[t,o,this],this),a&&g_(i.onClick,[t,o,this],this));const c=!y_(o,r);return(c||e)&&(this._active=o,this._updateHoverStyles(o,r,e)),this._lastEvent=l,c}_getActiveElements(t,e,n,r){if("mouseout"===t.type)return[];if(!n)return e;const i=this.options.hover;return this.getElementsAtEventForMode(t,i.mode,i,r)}}function sC(){return m_(iC.instances,(t=>t._plugins.invalidate()))}function oC(t,e,n,r){const i=Xk(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const s=(n-e)/2,o=Math.min(s,r*e/2),a=t=>{const e=(n-Math.min(s,t))*r/2;return J_(t,0,Math.min(s,e))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:J_(i.innerStart,0,o),innerEnd:J_(i.innerEnd,0,o)}}function aC(t,e,n,r){return{x:n+t*Math.cos(e),y:r+t*Math.sin(e)}}function lC(t,e,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:u}=e,h=Math.max(e.outerRadius+r+n-c,0),d=u>0?u+r+n+c:0;let f=0;const p=i-l;if(r){const t=((u>0?u-r:0)+(h>0?h-r:0))/2;f=(p-(0!==t?p*t/(t+r):p))/2}const g=(p-Math.max(.001,p*h-n/N_)/h)/2,m=l+g+f,y=i-g-f,{outerStart:v,outerEnd:b,innerStart:w,innerEnd:x}=oC(e,d,h,y-m),_=h-v,k=h-b,S=m+v/_,E=y-b/k,T=d+w,C=d+x,I=m+w/T,P=y-x/C;if(t.beginPath(),s){const e=(S+E)/2;if(t.arc(o,a,h,S,e),t.arc(o,a,h,e,E),b>0){const e=aC(k,E,o,a);t.arc(e.x,e.y,b,E,y+R_)}const n=aC(C,y,o,a);if(t.lineTo(n.x,n.y),x>0){const e=aC(C,P,o,a);t.arc(e.x,e.y,x,y+R_,P+Math.PI)}const r=(y-x/d+(m+w/d))/2;if(t.arc(o,a,d,y-x/d,r,!0),t.arc(o,a,d,r,m+w/d,!0),w>0){const e=aC(T,I,o,a);t.arc(e.x,e.y,w,I+Math.PI,m-R_)}const i=aC(_,m,o,a);if(t.lineTo(i.x,i.y),v>0){const e=aC(_,S,o,a);t.arc(e.x,e.y,v,m-R_,S)}}else{t.moveTo(o,a);const e=Math.cos(S)*h+o,n=Math.sin(S)*h+a;t.lineTo(e,n);const r=Math.cos(E)*h+o,i=Math.sin(E)*h+a;t.lineTo(r,i)}t.closePath()}function cC(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:c,borderJoinStyle:u,borderDash:h,borderDashOffset:d}=l,f="inner"===l.borderAlign;if(!c)return;t.setLineDash(h||[]),t.lineDashOffset=d,f?(t.lineWidth=2*c,t.lineJoin=u||"round"):(t.lineWidth=c,t.lineJoin=u||"bevel");let p=e.endAngle;if(s){lC(t,e,n,r,p,i);for(let e=0;e<s;++e)t.stroke();isNaN(a)||(p=o+(a%M_||M_))}f&&function(t,e,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=e;let c=i/a;t.beginPath(),t.arc(s,o,a,r-c,n+c),l>i?(c=i/l,t.arc(s,o,l,n+c,r-c,!0)):t.arc(s,o,i,n+R_,r-R_),t.closePath(),t.clip()}(t,e,p),s||(lC(t,e,n,r,p,i),t.stroke())}Tx(iC,"defaults",Nk),Tx(iC,"instances",tC),Tx(iC,"overrides",Ek),Tx(iC,"registry",NT),Tx(iC,"version","4.4.3"),Tx(iC,"getChart",eC);class uC extends yT{constructor(t){super(),Tx(this,"circumference",void 0),Tx(this,"endAngle",void 0),Tx(this,"fullCircles",void 0),Tx(this,"innerRadius",void 0),Tx(this,"outerRadius",void 0),Tx(this,"pixelMargin",void 0),Tx(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.getProps(["x","y"],n),{angle:i,distance:s}=G_(r,{x:t,y:e}),{startAngle:o,endAngle:a,innerRadius:l,outerRadius:c,circumference:u}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),h=(this.options.spacing+this.options.borderWidth)/2,d=f_(u,a-o)>=M_||$_(i,o,a),f=Z_(s,l+h,c+h);return d&&f}getCenterPoint(t){const{x:e,y:n,startAngle:r,endAngle:i,innerRadius:s,outerRadius:o}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),{offset:a,spacing:l}=this.options,c=(r+i)/2,u=(s+o+l+a)/2;return{x:e+Math.cos(c)*u,y:n+Math.sin(c)*u}}tooltipPosition(t){return this.getCenterPoint(t)}draw(t){const{options:e,circumference:n}=this,r=(e.offset||0)/4,i=(e.spacing||0)/2,s=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>M_?Math.floor(n/M_):0,0===n||this.innerRadius<0||this.outerRadius<0)return;t.save();const o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*r,Math.sin(o)*r);const a=r*(1-Math.sin(Math.min(N_,n||0)));t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,function(t,e,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){lC(t,e,n,r,l,i);for(let e=0;e<s;++e)t.fill();isNaN(a)||(l=o+(a%M_||M_))}lC(t,e,n,r,l,i),t.fill()}(t,this,a,i,s),cC(t,this,a,i,s),t.restore()}}function hC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;t.lineCap=f_(n.borderCapStyle,e.borderCapStyle),t.setLineDash(f_(n.borderDash,e.borderDash)),t.lineDashOffset=f_(n.borderDashOffset,e.borderDashOffset),t.lineJoin=f_(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=f_(n.borderWidth,e.borderWidth),t.strokeStyle=f_(n.borderColor,e.borderColor)}function dC(t,e,n){t.lineTo(n.x,n.y)}function fC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=e,l=Math.max(i,o),c=Math.min(s,a),u=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:e.loop,ilen:c<l&&!u?r+c-l:c-l}}function pC(t,e,n,r){const{points:i,options:s}=e,{count:o,start:a,loop:l,ilen:c}=fC(i,n,r),u=function(t){return t.stepped?Uk:t.tension||"monotone"===t.cubicInterpolationMode?zk:dC}(s);let h,d,f,{move:p=!0,reverse:g}=r||{};for(h=0;h<=c;++h)d=i[(a+(g?c-h:h))%o],d.skip||(p?(t.moveTo(d.x,d.y),p=!1):u(t,f,d,g,s.stepped),f=d);return l&&(d=i[(a+(g?c:0))%o],u(t,f,d,g,s.stepped)),!!l}function gC(t,e,n,r){const i=e.points,{count:s,start:o,ilen:a}=fC(i,n,r),{move:l=!0,reverse:c}=r||{};let u,h,d,f,p,g,m=0,y=0;const v=t=>(o+(c?a-t:t))%s,b=()=>{f!==p&&(t.lineTo(m,p),t.lineTo(m,f),t.lineTo(m,g))};for(l&&(h=i[v(0)],t.moveTo(h.x,h.y)),u=0;u<=a;++u){if(h=i[v(u)],h.skip)continue;const e=h.x,n=h.y,r=0|e;r===d?(n<f?f=n:n>p&&(p=n),m=(y*m+e)/++y):(b(),t.lineTo(e,n),d=r,y=0,f=p=n),g=n}b()}function mC(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&"monotone"!==e.cubicInterpolationMode&&!e.stepped&&!n?gC:pC}Tx(uC,"id","arc"),Tx(uC,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Tx(uC,"defaultRoutes",{backgroundColor:"backgroundColor"}),Tx(uC,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t});const yC="function"===typeof Path2D;function vC(t,e,n,r){yC&&!e.options.segment?function(t,e,n,r){let i=e._path;i||(i=e._path=new Path2D,e.path(i,n,r)&&i.closePath()),hC(t,e.options),t.stroke(i)}(t,e,n,r):function(t,e,n,r){const{segments:i,options:s}=e,o=mC(e);for(const a of i)hC(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}(t,e,n,r)}class bC extends yT{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;kS(this._points,n,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(t,e){const n=t.points,r=t.options.spanGaps,i=n.length;if(!i)return[];const s=!!t._loop,{start:o,end:a}=function(t,e,n,r){let i=0,s=e-1;if(n&&!r)for(;i<e&&!t[i].skip;)i++;for(;i<e&&t[i].skip;)i++;for(i%=e,n&&(s+=i);s>i&&t[s%e].skip;)s--;return s%=e,{start:i,end:s}}(n,i,s,r);return GS(t,!0===r?[{start:o,end:a,loop:s}]:function(t,e,n,r){const i=t.length,s=[];let o,a=e,l=t[e];for(o=e+1;o<=n;++o){const n=t[o%i];n.skip||n.stop?l.skip||(r=!1,s.push({start:e%i,end:(o-1)%i,loop:r}),e=a=n.stop?o:null):(a=o,l.skip&&(e=o)),l=n}return null!==a&&s.push({start:e%i,end:a%i,loop:r}),s}(n,o,a<o?a+i:a,!!t._fullLoop&&0===o&&a===i-1),n,e)}(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,n=t.length;return n&&e[t[n-1].end]}interpolate(t,e){const n=this.options,r=t[e],i=this.points,s=KS(this,{property:e,start:r,end:r});if(!s.length)return;const o=[],a=function(t){return t.stepped?FS:t.tension||"monotone"===t.cubicInterpolationMode?VS:jS}(n);let l,c;for(l=0,c=s.length;l<c;++l){const{start:c,end:u}=s[l],h=i[c],d=i[u];if(h===d){o.push(h);continue}const f=a(h,d,Math.abs((r-h[e])/(d[e]-h[e])),n.stepped);f[e]=t[e],o.push(f)}return 1===o.length?o[0]:o}pathSegment(t,e,n){return mC(this)(t,this,e,n)}path(t,e,n){const r=this.segments,i=mC(this);let s=this._loop;e=e||0,n=n||this.points.length-e;for(const o of r)s&=i(t,this,o,{start:e,end:e+n-1});return!!s}draw(t,e,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(t.save(),vC(t,this,n,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function wC(t,e,n,r){const i=t.options,{[n]:s}=t.getProps([n],r);return Math.abs(e-s)<i.radius+i.hitRadius}Tx(bC,"id","line"),Tx(bC,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Tx(bC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Tx(bC,"descriptors",{_scriptable:!0,_indexable:t=>"borderDash"!==t&&"fill"!==t});class xC extends yT{constructor(t){super(),Tx(this,"parsed",void 0),Tx(this,"skip",void 0),Tx(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,n){const r=this.options,{x:i,y:s}=this.getProps(["x","y"],n);return Math.pow(t-i,2)+Math.pow(e-s,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return wC(this,t,"x",e)}inYRange(t,e){return wC(this,t,"y",e)}getCenterPoint(t){const{x:e,y:n}=this.getProps(["x","y"],t);return{x:e,y:n}}size(t){let e=(t=t||this.options||{}).radius||0;e=Math.max(e,e&&t.hoverRadius||0);return 2*(e+(e&&t.borderWidth||0))}draw(t,e){const n=this.options;this.skip||n.radius<.1||!jk(this,e,this.size(n)/2)||(t.strokeStyle=n.borderColor,t.lineWidth=n.borderWidth,t.fillStyle=n.backgroundColor,Rk(t,n,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function _C(t,e){const{x:n,y:r,base:i,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,c,u,h;return t.horizontal?(h=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-h,u=r+h):(h=s/2,a=n-h,l=n+h,c=Math.min(r,i),u=Math.max(r,i)),{left:a,top:c,right:l,bottom:u}}function kC(t,e,n,r){return t?0:J_(e,n,r)}function SC(t){const e=_C(t),n=e.right-e.left,r=e.bottom-e.top,i=function(t,e,n){const r=t.options.borderWidth,i=t.borderSkipped,s=$k(r);return{t:kC(i.top,s.top,0,n),r:kC(i.right,s.right,0,e),b:kC(i.bottom,s.bottom,0,n),l:kC(i.left,s.left,0,e)}}(t,n/2,r/2),s=function(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),i=t.options.borderRadius,s=Jk(i),o=Math.min(e,n),a=t.borderSkipped,l=r||u_(i);return{topLeft:kC(!l||a.top||a.left,s.topLeft,0,o),topRight:kC(!l||a.top||a.right,s.topRight,0,o),bottomLeft:kC(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:kC(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:s},inner:{x:e.left+i.l,y:e.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function EC(t,e,n,r){const i=null===e,s=null===n,o=t&&!(i&&s)&&_C(t,r);return o&&(i||Z_(e,o.left,o.right))&&(s||Z_(n,o.top,o.bottom))}function TC(t,e){t.rect(e.x,e.y,e.w,e.h)}function CC(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=t.x!==n.x?-e:0,i=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-r,o=(t.y+t.h!==n.y+n.h?e:0)-i;return{x:t.x+r,y:t.y+i,w:t.w+s,h:t.h+o,radius:t.radius}}Tx(xC,"id","point"),Tx(xC,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Tx(xC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class IC extends yT{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:s}=SC(this),o=(a=s.radius).topLeft||a.topRight||a.bottomLeft||a.bottomRight?qk:TC;var a;t.save(),s.w===i.w&&s.h===i.h||(t.beginPath(),o(t,CC(s,e,i)),t.clip(),o(t,CC(i,-e,s)),t.fillStyle=n,t.fill("evenodd")),t.beginPath(),o(t,CC(i,e)),t.fillStyle=r,t.fill(),t.restore()}inRange(t,e,n){return EC(this,t,e,n)}inXRange(t,e){return EC(this,t,null,e)}inYRange(t,e){return EC(this,null,t,e)}getCenterPoint(t){const{x:e,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],t);return{x:i?(e+r)/2:e,y:i?n:(n+r)/2}}getRange(t){return"x"===t?this.width/2:this.height/2}}Tx(IC,"id","bar"),Tx(IC,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Tx(IC,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var PC=Object.freeze({__proto__:null,ArcElement:uC,BarElement:IC,LineElement:bC,PointElement:xC});const NC=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],MC=NC.map((t=>t.replace("rgb(","rgba(").replace(")",", 0.5)")));function DC(t){return NC[t%NC.length]}function AC(t){return MC[t%MC.length]}function OC(t){let e=0;return(n,r)=>{const i=t.getDatasetMeta(r).controller;i instanceof SE?e=function(t,e){return t.backgroundColor=t.data.map((()=>DC(e++))),e}(n,e):i instanceof TE?e=function(t,e){return t.backgroundColor=t.data.map((()=>AC(e++))),e}(n,e):i&&(e=function(t,e){return t.borderColor=DC(e),t.backgroundColor=AC(e),++e}(n,e))}}function RC(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}var LC={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,n){if(!n.enabled)return;const{data:{datasets:r},options:i}=t.config,{elements:s}=i;if(!n.forceOverride&&(RC(r)||(o=i)&&(o.borderColor||o.backgroundColor)||s&&RC(s)))return;var o;const a=OC(t);r.forEach(a)}};function jC(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function FC(t){t.data.datasets.forEach((t=>{jC(t)}))}var VC={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,n)=>{if(!n.enabled)return void FC(t);const r=t.width;t.data.datasets.forEach(((e,i)=>{const{_data:s,indexAxis:o}=e,a=t.getDatasetMeta(i),l=s||e.data;if("y"===eS([o,t.options.indexAxis]))return;if(!a.controller.supportsDecimation)return;const c=t.scales[a.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(t.options.parsing)return;let{start:u,count:h}=function(t,e){const n=e.length;let r,i=0;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:c}=s.getUserBounds();return l&&(i=J_(ek(e,s.axis,o).lo,0,n-1)),r=c?J_(ek(e,s.axis,a).hi+1,i,n)-i:n-i,{start:i,count:r}}(a,l);if(h<=(n.threshold||4*r))return void jC(e);let d;switch(l_(s)&&(e._data=l,delete e.data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),n.algorithm){case"lttb":d=function(t,e,n,r,i){const s=i.samples||r;if(s>=n)return t.slice(e,e+n);const o=[],a=(n-2)/(s-2);let l=0;const c=e+n-1;let u,h,d,f,p,g=e;for(o[l++]=t[g],u=0;u<s-2;u++){let r,i=0,s=0;const c=Math.floor((u+1)*a)+1+e,m=Math.min(Math.floor((u+2)*a)+1,n)+e,y=m-c;for(r=c;r<m;r++)i+=t[r].x,s+=t[r].y;i/=y,s/=y;const v=Math.floor(u*a)+1+e,b=Math.min(Math.floor((u+1)*a)+1,n)+e,{x:w,y:x}=t[g];for(d=f=-1,r=v;r<b;r++)f=.5*Math.abs((w-i)*(t[r].y-x)-(w-t[r].x)*(s-x)),f>d&&(d=f,h=t[r],p=r);o[l++]=h,g=p}return o[l++]=t[c],o}(l,u,h,r,n);break;case"min-max":d=function(t,e,n,r){let i,s,o,a,l,c,u,h,d,f,p=0,g=0;const m=[],y=e+n-1,v=t[e].x,b=t[y].x-v;for(i=e;i<e+n;++i){s=t[i],o=(s.x-v)/b*r,a=s.y;const e=0|o;if(e===l)a<d?(d=a,c=i):a>f&&(f=a,u=i),p=(g*p+s.x)/++g;else{const n=i-1;if(!l_(c)&&!l_(u)){const e=Math.min(c,u),r=Math.max(c,u);e!==h&&e!==n&&m.push({...t[e],x:p}),r!==h&&r!==n&&m.push({...t[r],x:p})}i>0&&n!==h&&m.push(t[n]),m.push(s),l=e,g=0,d=f=a,c=u=h=i}}return m}(l,u,h,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}e._decimated=d}))},destroy(t){FC(t)}};function UC(t,e,n,r){if(r)return;let i=e[t],s=n[t];return"angle"===t&&(i=X_(i),s=X_(s)),{property:t,start:i,end:s}}function zC(t,e,n){for(;e>t;e--){const t=n[e];if(!isNaN(t.x)&&!isNaN(t.y))break}return e}function BC(t,e,n,r){return t&&e?r(t[n],e[n]):t?t[n]:e?e[n]:0}function HC(t,e){let n=[],r=!1;return c_(t)?(r=!0,n=t):n=function(t,e){const{x:n=null,y:r=null}=t||{},i=e.points,s=[];return e.segments.forEach((t=>{let{start:e,end:o}=t;o=zC(e,o,i);const a=i[e],l=i[o];null!==r?(s.push({x:a.x,y:r}),s.push({x:l.x,y:r})):null!==n&&(s.push({x:n,y:a.y}),s.push({x:n,y:l.y}))})),s}(t,e),n.length?new bC({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function WC(t){return t&&!1!==t.fill}function qC(t,e,n){let r=t[e].fill;const i=[e];let s;if(!n)return r;for(;!1!==r&&-1===i.indexOf(r);){if(!h_(r))return r;if(s=t[r],!s)return!1;if(s.visible)return r;i.push(r),r=s.fill}return!1}function KC(t,e,n){const r=function(t){const e=t.options,n=e.fill;let r=f_(n&&n.target,n);void 0===r&&(r=!!e.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(t);if(u_(r))return!isNaN(r.value)&&r;let i=parseFloat(r);return h_(i)&&Math.floor(i)===i?function(t,e,n,r){"-"!==t&&"+"!==t||(n=e+n);if(n===e||n<0||n>=r)return!1;return n}(r[0],e,i,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function GC(t,e,n){const r=[];for(let i=0;i<n.length;i++){const s=n[i],{first:o,last:a,point:l}=YC(s,e,"x");if(!(!l||o&&a))if(o)r.unshift(l);else if(t.push(l),!a)break}t.push(...r)}function YC(t,e,n){const r=t.interpolate(e,n);if(!r)return{};const i=r[n],s=t.segments,o=t.points;let a=!1,l=!1;for(let c=0;c<s.length;c++){const t=s[c],e=o[t.start][n],r=o[t.end][n];if(Z_(i,e,r)){a=i===e,l=i===r;break}}return{first:a,last:l,point:r}}class QC{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,n){const{x:r,y:i,radius:s}=this;return e=e||{start:0,end:M_},t.arc(r,i,s,e.end,e.start,!0),!n.bounds}interpolate(t){const{x:e,y:n,radius:r}=this,i=t.angle;return{x:e+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function XC(t){const{chart:e,fill:n,line:r}=t;if(h_(n))return function(t,e){const n=t.getDatasetMeta(e),r=n&&t.isDatasetVisible(e);return r?n.dataset:null}(e,n);if("stack"===n)return function(t){const{scale:e,index:n,line:r}=t,i=[],s=r.segments,o=r.points,a=function(t,e){const n=[],r=t.getMatchingVisibleMetas("line");for(let i=0;i<r.length;i++){const t=r[i];if(t.index===e)break;t.hidden||n.unshift(t.dataset)}return n}(e,n);a.push(HC({x:null,y:e.bottom},r));for(let l=0;l<s.length;l++){const t=s[l];for(let e=t.start;e<=t.end;e++)GC(i,o[e],a)}return new bC({points:i,options:{}})}(t);if("shape"===n)return!0;const i=function(t){const e=t.scale||{};if(e.getPointPositionForValue)return function(t){const{scale:e,fill:n}=t,r=e.options,i=e.getLabels().length,s=r.reverse?e.max:e.min,o=function(t,e,n){let r;return r="start"===t?n:"end"===t?e.options.reverse?e.min:e.max:u_(t)?t.value:e.getBaseValue(),r}(n,e,s),a=[];if(r.grid.circular){const t=e.getPointPositionForValue(0,s);return new QC({x:t.x,y:t.y,radius:e.getDistanceFromCenterForValue(o)})}for(let l=0;l<i;++l)a.push(e.getPointPositionForValue(l,o));return a}(t);return function(t){const{scale:e={},fill:n}=t,r=function(t,e){let n=null;return"start"===t?n=e.bottom:"end"===t?n=e.top:u_(t)?n=e.getPixelForValue(t.value):e.getBasePixel&&(n=e.getBasePixel()),n}(n,e);if(h_(r)){const t=e.isHorizontal();return{x:t?r:null,y:t?null:r}}return null}(t)}(t);return i instanceof QC?i:HC(i,r)}function $C(t,e,n){const r=XC(e),{line:i,scale:s,axis:o}=e,a=i.options,l=a.fill,c=a.backgroundColor,{above:u=c,below:h=c}=l||{};r&&i.points.length&&(Fk(t,n),function(t,e){const{line:n,target:r,above:i,below:s,area:o,scale:a}=e,l=n._loop?"angle":e.axis;t.save(),"x"===l&&s!==i&&(JC(t,r,o.top),ZC(t,{line:n,target:r,color:i,scale:a,property:l}),t.restore(),t.save(),JC(t,r,o.bottom));ZC(t,{line:n,target:r,color:s,scale:a,property:l}),t.restore()}(t,{line:i,target:r,above:u,below:h,area:n,scale:s,axis:o}),Vk(t))}function JC(t,e,n){const{segments:r,points:i}=e;let s=!0,o=!1;t.beginPath();for(const a of r){const{start:r,end:l}=a,c=i[r],u=i[zC(r,l,i)];s?(t.moveTo(c.x,c.y),s=!1):(t.lineTo(c.x,n),t.lineTo(c.x,c.y)),o=!!e.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(u.x,n)}t.lineTo(e.first().x,n),t.closePath(),t.clip()}function ZC(t,e){const{line:n,target:r,property:i,color:s,scale:o}=e,a=function(t,e,n){const r=t.segments,i=t.points,s=e.points,o=[];for(const a of r){let{start:t,end:r}=a;r=zC(t,r,i);const l=UC(n,i[t],i[r],a.loop);if(!e.segments){o.push({source:a,target:l,start:i[t],end:i[r]});continue}const c=KS(e,l);for(const e of c){const t=UC(n,s[e.start],s[e.end],e.loop),r=qS(a,i,t);for(const i of r)o.push({source:i,target:e,start:{[n]:BC(l,t,"start",Math.max)},end:{[n]:BC(l,t,"end",Math.min)}})}}return o}(n,r,i);for(const{source:l,target:c,start:u,end:h}of a){const{style:{backgroundColor:e=s}={}}=l,a=!0!==r;t.save(),t.fillStyle=e,tI(t,o,a&&UC(i,u,h)),t.beginPath();const d=!!n.pathSegment(t,l);let f;if(a){d?t.closePath():eI(t,r,h,i);const e=!!r.pathSegment(t,c,{move:d,reverse:!0});f=d&&e,f||eI(t,r,u,i)}t.closePath(),t.fill(f?"evenodd":"nonzero"),t.restore()}}function tI(t,e,n){const{top:r,bottom:i}=e.chart.chartArea,{property:s,start:o,end:a}=n||{};"x"===s&&(t.beginPath(),t.rect(o,r,a-o,i-r),t.clip())}function eI(t,e,n,r){const i=e.interpolate(n,r);i&&t.lineTo(i.x,i.y)}var nI={id:"filler",afterDatasetsUpdate(t,e,n){const r=(t.data.datasets||[]).length,i=[];let s,o,a,l;for(o=0;o<r;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof bC&&(l={visible:t.isDatasetVisible(o),index:o,fill:KC(a,o,r),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,i.push(l);for(o=0;o<r;++o)l=i[o],l&&!1!==l.fill&&(l.fill=qC(i,o,n.propagate))},beforeDraw(t,e,n){const r="beforeDraw"===n.drawTime,i=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=i.length-1;o>=0;--o){const e=i[o].$filler;e&&(e.line.updateControlPoints(s,e.axis),r&&e.fill&&$C(t.ctx,e,s))}},beforeDatasetsDraw(t,e,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=t.getSortedVisibleDatasetMetas();for(let i=r.length-1;i>=0;--i){const e=r[i].$filler;WC(e)&&$C(t.ctx,e,t.chartArea)}},beforeDatasetDraw(t,e,n){const r=e.meta.$filler;WC(r)&&"beforeDatasetDraw"===n.drawTime&&$C(t.ctx,r,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const rI=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}};class iI extends yT{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,n){this.maxWidth=t,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=g_(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter((e=>t.filter(e,this.chart.data)))),t.sort&&(e=e.sort(((e,n)=>t.sort(e,n,this.chart.data)))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display)return void(this.width=this.height=0);const n=t.labels,r=tS(n.font),i=r.size,s=this._computeTitleHeight(),{boxWidth:o,itemHeight:a}=rI(n,i);let l,c;e.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(s,i,o,a)+10):(c=this.maxHeight,l=this._fitCols(s,r,o,a)+10),this.width=Math.min(l,t.maxWidth||this.maxWidth),this.height=Math.min(c,t.maxHeight||this.maxHeight)}_fitRows(t,e,n,r){const{ctx:i,maxWidth:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+o;let u=t;i.textAlign="left",i.textBaseline="middle";let h=-1,d=-c;return this.legendItems.forEach(((t,f)=>{const p=n+e/2+i.measureText(t.text).width;(0===f||l[l.length-1]+p+2*o>s)&&(u+=c,l[l.length-(f>0?0:1)]=0,d+=c,h++),a[f]={left:0,top:d,row:h,width:p,height:r},l[l.length-1]+=p+o})),u}_fitCols(t,e,n,r){const{ctx:i,maxHeight:s,options:{labels:{padding:o}}}=this,a=this.legendHitBoxes=[],l=this.columnSizes=[],c=s-t;let u=o,h=0,d=0,f=0,p=0;return this.legendItems.forEach(((t,s)=>{const{itemWidth:g,itemHeight:m}=function(t,e,n,r,i){const s=function(t,e,n,r){let i=t.text;i&&"string"!==typeof i&&(i=i.reduce(((t,e)=>t.length>e.length?t:e)));return e+n.size/2+r.measureText(i).width}(r,t,e,n),o=function(t,e,n){let r=t;"string"!==typeof e.text&&(r=sI(e,n));return r}(i,r,e.lineHeight);return{itemWidth:s,itemHeight:o}}(n,e,i,t,r);s>0&&d+m+2*o>c&&(u+=h+o,l.push({width:h,height:d}),f+=h+o,p++,h=d=0),a[s]={left:f,top:d,col:p,width:g,height:m},h=Math.max(h,g),d+=m+o})),u+=h,l.push({width:h,height:d}),u}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:i}}=this,s=US(i,this.left,this.width);if(this.isHorizontal()){let i=0,o=ck(n,this.left+r,this.right-this.lineWidths[i]);for(const a of e)i!==a.row&&(i=a.row,o=ck(n,this.left+r,this.right-this.lineWidths[i])),a.top+=this.top+t+r,a.left=s.leftForLtr(s.x(o),a.width),o+=a.width+r}else{let i=0,o=ck(n,this.top+t+r,this.bottom-this.columnSizes[i].height);for(const a of e)a.col!==i&&(i=a.col,o=ck(n,this.top+t+r,this.bottom-this.columnSizes[i].height)),a.top=o,a.left+=this.left+r,a.left=s.leftForLtr(s.x(a.left),a.width),o+=a.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const t=this.ctx;Fk(t,this),this._draw(),Vk(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:n,ctx:r}=this,{align:i,labels:s}=t,o=Nk.color,a=US(t.rtl,this.left,this.width),l=tS(s.font),{padding:c}=s,u=l.size,h=u/2;let d;this.drawTitle(),r.textAlign=a.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:f,boxHeight:p,itemHeight:g}=rI(s,u),m=this.isHorizontal(),y=this._computeTitleHeight();d=m?{x:ck(i,this.left+c,this.right-n[0]),y:this.top+c+y,line:0}:{x:this.left+c,y:ck(i,this.top+y+c,this.bottom-e[0].height),line:0},zS(this.ctx,t.textDirection);const v=g+c;this.legendItems.forEach(((b,w)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const x=r.measureText(b.text).width,_=a.textAlign(b.textAlign||(b.textAlign=s.textAlign)),k=f+h+x;let S=d.x,E=d.y;a.setWidth(this.width),m?w>0&&S+k+c>this.right&&(E=d.y+=v,d.line++,S=d.x=ck(i,this.left+c,this.right-n[d.line])):w>0&&E+v>this.bottom&&(S=d.x=S+e[d.line].width+c,d.line++,E=d.y=ck(i,this.top+y+c,this.bottom-e[d.line].height));if(function(t,e,n){if(isNaN(f)||f<=0||isNaN(p)||p<0)return;r.save();const i=f_(n.lineWidth,1);if(r.fillStyle=f_(n.fillStyle,o),r.lineCap=f_(n.lineCap,"butt"),r.lineDashOffset=f_(n.lineDashOffset,0),r.lineJoin=f_(n.lineJoin,"miter"),r.lineWidth=i,r.strokeStyle=f_(n.strokeStyle,o),r.setLineDash(f_(n.lineDash,[])),s.usePointStyle){const o={radius:p*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:i},l=a.xPlus(t,f/2);Lk(r,o,l,e+h,s.pointStyleWidth&&f)}else{const s=e+Math.max((u-p)/2,0),o=a.leftForLtr(t,f),l=Jk(n.borderRadius);r.beginPath(),Object.values(l).some((t=>0!==t))?qk(r,{x:o,y:s,w:f,h:p,radius:l}):r.rect(o,s,f,p),r.fill(),0!==i&&r.stroke()}r.restore()}(a.x(S),E,b),S=((t,e,n,r)=>t===(r?"left":"right")?n:"center"===t?(e+n)/2:e)(_,S+f+h,m?S+k:this.right,t.rtl),function(t,e,n){Wk(r,n.text,t,e+g/2,l,{strikethrough:n.hidden,textAlign:a.textAlign(n.textAlign)})}(a.x(S),E,b),m)d.x+=k+c;else if("string"!==typeof b.text){const t=l.lineHeight;d.y+=sI(b,t)+c}else d.y+=v})),BS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,n=tS(e.font),r=Zk(e.padding);if(!e.display)return;const i=US(t.rtl,this.left,this.width),s=this.ctx,o=e.position,a=n.size/2,l=r.top+a;let c,u=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),c=this.top+l,u=ck(t.align,u,this.right-h);else{const e=this.columnSizes.reduce(((t,e)=>Math.max(t,e.height)),0);c=l+ck(t.align,this.top,this.bottom-e-t.labels.padding-this._computeTitleHeight())}const d=ck(o,u,u+h);s.textAlign=i.textAlign(lk(o)),s.textBaseline="middle",s.strokeStyle=e.color,s.fillStyle=e.color,s.font=n.string,Wk(s,e.text,d,c,n)}_computeTitleHeight(){const t=this.options.title,e=tS(t.font),n=Zk(t.padding);return t.display?e.lineHeight+n.height:0}_getLegendItemAt(t,e){let n,r,i;if(Z_(t,this.left,this.right)&&Z_(e,this.top,this.bottom))for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],Z_(t,r.left,r.left+r.width)&&Z_(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(t){const e=this.options;if(!function(t,e){if(("mousemove"===t||"mouseout"===t)&&(e.onHover||e.onLeave))return!0;if(e.onClick&&("click"===t||"mouseup"===t))return!0;return!1}(t.type,e))return;const n=this._getLegendItemAt(t.x,t.y);if("mousemove"===t.type||"mouseout"===t.type){const r=this._hoveredItem,i=((t,e)=>null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index)(r,n);r&&!i&&g_(e.onLeave,[t,r,this],this),this._hoveredItem=n,n&&!i&&g_(e.onHover,[t,n,this],this)}else n&&g_(e.onClick,[t,n,this],this)}}function sI(t,e){return e*(t.text?t.text.length:0)}var oI={id:"legend",_element:iI,start(t,e,n){const r=t.legend=new iI({ctx:t.ctx,options:n,chart:t});ZE.configure(t,r,n),ZE.addBox(t,r)},stop(t){ZE.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;ZE.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),e.hidden=!0):(i.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map((t=>{const l=t.controller.getStyle(n?0:void 0),c=Zk(l.borderWidth);return{text:e[t.index].label,fillStyle:l.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:i||l.textAlign,borderRadius:o&&(a||l.borderRadius),datasetIndex:t.index}}),this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class aI extends yT{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=t,this.height=this.bottom=e;const r=c_(n.text)?n.text.length:1;this._padding=Zk(n.padding);const i=r*tS(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const t=this.options.position;return"top"===t||"bottom"===t}_drawArgs(t){const{top:e,left:n,bottom:r,right:i,options:s}=this,o=s.align;let a,l,c,u=0;return this.isHorizontal()?(l=ck(o,n,i),c=e+t,a=i-n):("left"===s.position?(l=n+t,c=ck(o,r,e),u=-.5*N_):(l=i-t,c=ck(o,e,r),u=.5*N_),a=r-e),{titleX:l,titleY:c,maxWidth:a,rotation:u}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const n=tS(e.font),r=n.lineHeight/2+this._padding.top,{titleX:i,titleY:s,maxWidth:o,rotation:a}=this._drawArgs(r);Wk(t,e.text,0,0,n,{color:e.color,maxWidth:o,rotation:a,textAlign:lk(e.align),textBaseline:"middle",translation:[i,s]})}}var lI={id:"title",_element:aI,start(t,e,n){!function(t,e){const n=new aI({ctx:t.ctx,options:e,chart:t});ZE.configure(t,n,e),ZE.addBox(t,n),t.titleBlock=n}(t,n)},stop(t){const e=t.titleBlock;ZE.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;ZE.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const cI=new WeakMap;var uI={id:"subtitle",start(t,e,n){const r=new aI({ctx:t.ctx,options:n,chart:t});ZE.configure(t,r,n),ZE.addBox(t,r),cI.set(t,r)},stop(t){ZE.removeBox(t,cI.get(t)),cI.delete(t)},beforeUpdate(t,e,n){const r=cI.get(t);ZE.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const hI={average(t){if(!t.length)return!1;let e,n,r=new Set,i=0,s=0;for(e=0,n=t.length;e<n;++e){const n=t[e].element;if(n&&n.hasValue()){const t=n.tooltipPosition();r.add(t.x),i+=t.y,++s}}const o=[...r].reduce(((t,e)=>t+e))/r.size;return{x:o,y:i/s}},nearest(t,e){if(!t.length)return!1;let n,r,i,s=e.x,o=e.y,a=Number.POSITIVE_INFINITY;for(n=0,r=t.length;n<r;++n){const r=t[n].element;if(r&&r.hasValue()){const t=Y_(e,r.getCenterPoint());t<a&&(a=t,i=r)}}if(i){const t=i.tooltipPosition();s=t.x,o=t.y}return{x:s,y:o}}};function dI(t,e){return e&&(c_(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function fI(t){return("string"===typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function pI(t,e){const{element:n,datasetIndex:r,index:i}=e,s=t.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:t,label:o,parsed:s.getParsed(i),raw:t.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function gI(t,e){const n=t.chart.ctx,{body:r,footer:i,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=tS(e.bodyFont),c=tS(e.titleFont),u=tS(e.footerFont),h=s.length,d=i.length,f=r.length,p=Zk(e.padding);let g=p.height,m=0,y=r.reduce(((t,e)=>t+e.before.length+e.lines.length+e.after.length),0);if(y+=t.beforeBody.length+t.afterBody.length,h&&(g+=h*c.lineHeight+(h-1)*e.titleSpacing+e.titleMarginBottom),y){g+=f*(e.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(y-f)*l.lineHeight+(y-1)*e.bodySpacing}d&&(g+=e.footerMarginTop+d*u.lineHeight+(d-1)*e.footerSpacing);let v=0;const b=function(t){m=Math.max(m,n.measureText(t).width+v)};return n.save(),n.font=c.string,m_(t.title,b),n.font=l.string,m_(t.beforeBody.concat(t.afterBody),b),v=e.displayColors?o+2+e.boxPadding:0,m_(r,(t=>{m_(t.before,b),m_(t.lines,b),m_(t.after,b)})),v=0,n.font=u.string,m_(t.footer,b),n.restore(),m+=p.width,{width:m,height:g}}function mI(t,e,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let c="center";return"center"===r?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),function(t,e,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;return"left"===t&&i+s+o>e.width||"right"===t&&i-s-o<0||void 0}(c,t,e,n)&&(c="center"),c}function yI(t,e,n){const r=n.yAlign||e.yAlign||function(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}(t,n);return{xAlign:n.xAlign||e.xAlign||mI(t,e,n,r),yAlign:r}}function vI(t,e,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Jk(o);let p=function(t,e){let{x:n,width:r}=t;return"right"===e?n-=r:"center"===e&&(n-=r/2),n}(e,a);const g=function(t,e,n){let{y:r,height:i}=t;return"top"===e?r+=n:r-="bottom"===e?i+n:i/2,r}(e,l,c);return"center"===l?"left"===a?p+=c:"right"===a&&(p-=c):"left"===a?p-=Math.max(u,d)+i:"right"===a&&(p+=Math.max(h,f)+i),{x:J_(p,0,r.width-e.width),y:J_(g,0,r.height-e.height)}}function bI(t,e,n){const r=Zk(n.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-r.right:t.x+r.left}function wI(t){return dI([],fI(t))}function xI(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const _I={beforeTitle:o_,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:o_,beforeBody:o_,beforeLabel:o_,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return l_(n)||(e+=n),e},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:o_,afterBody:o_,beforeFooter:o_,footer:o_,afterFooter:o_};function kI(t,e,n,r){const i=t[e].call(n,r);return"undefined"===typeof i?_I[e].call(n,r):i}class SI extends yT{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&e.options.animation&&n.animations,i=new eE(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=(t=this.chart.getContext(),e=this,n=this._tooltipItems,nS(t,{tooltip:e,tooltipItems:n,type:"tooltip"})));var t,e,n}getTitle(t,e){const{callbacks:n}=e,r=kI(n,"beforeTitle",this,t),i=kI(n,"title",this,t),s=kI(n,"afterTitle",this,t);let o=[];return o=dI(o,fI(r)),o=dI(o,fI(i)),o=dI(o,fI(s)),o}getBeforeBody(t,e){return wI(kI(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:n}=e,r=[];return m_(t,(t=>{const e={before:[],lines:[],after:[]},i=xI(n,t);dI(e.before,fI(kI(i,"beforeLabel",this,t))),dI(e.lines,kI(i,"label",this,t)),dI(e.after,fI(kI(i,"afterLabel",this,t))),r.push(e)})),r}getAfterBody(t,e){return wI(kI(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:n}=e,r=kI(n,"beforeFooter",this,t),i=kI(n,"footer",this,t),s=kI(n,"afterFooter",this,t);let o=[];return o=dI(o,fI(r)),o=dI(o,fI(i)),o=dI(o,fI(s)),o}_createItems(t){const e=this._active,n=this.chart.data,r=[],i=[],s=[];let o,a,l=[];for(o=0,a=e.length;o<a;++o)l.push(pI(this.chart,e[o]));return t.filter&&(l=l.filter(((e,r,i)=>t.filter(e,r,i,n)))),t.itemSort&&(l=l.sort(((e,r)=>t.itemSort(e,r,n)))),m_(l,(e=>{const n=xI(t.callbacks,e);r.push(kI(n,"labelColor",this,e)),i.push(kI(n,"labelPointStyle",this,e)),s.push(kI(n,"labelTextColor",this,e))})),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=s,this.dataPoints=l,l}update(t,e){const n=this.options.setContext(this.getContext()),r=this._active;let i,s=[];if(r.length){const t=hI[n.position].call(this,r,this._eventPosition);s=this._createItems(n),this.title=this.getTitle(s,n),this.beforeBody=this.getBeforeBody(s,n),this.body=this.getBody(s,n),this.afterBody=this.getAfterBody(s,n),this.footer=this.getFooter(s,n);const e=this._size=gI(this,n),o=Object.assign({},t,e),a=yI(this.chart,n,o),l=vI(n,o,a,this.chart);this.xAlign=a.xAlign,this.yAlign=a.yAlign,i={opacity:1,x:l.x,y:l.y,width:e.width,height:e.height,caretX:t.x,caretY:t.y}}else 0!==this.opacity&&(i={opacity:0});this._tooltipItems=s,this.$context=void 0,i&&this._resolveAnimations().update(this,i),t&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,n,r){const i=this.getCaretPosition(t,n,r);e.lineTo(i.x1,i.y1),e.lineTo(i.x2,i.y2),e.lineTo(i.x3,i.y3)}getCaretPosition(t,e,n){const{xAlign:r,yAlign:i}=this,{caretSize:s,cornerRadius:o}=n,{topLeft:a,topRight:l,bottomLeft:c,bottomRight:u}=Jk(o),{x:h,y:d}=t,{width:f,height:p}=e;let g,m,y,v,b,w;return"center"===i?(b=d+p/2,"left"===r?(g=h,m=g-s,v=b+s,w=b-s):(g=h+f,m=g+s,v=b-s,w=b+s),y=g):(m="left"===r?h+Math.max(a,c)+s:"right"===r?h+f-Math.max(l,u)-s:this.caretX,"top"===i?(v=d,b=v-s,g=m-s,y=m+s):(v=d+p,b=v+s,g=m+s,y=m-s),w=v),{x1:g,x2:m,x3:y,y1:v,y2:b,y3:w}}drawTitle(t,e,n){const r=this.title,i=r.length;let s,o,a;if(i){const l=US(n.rtl,this.x,this.width);for(t.x=bI(this,n.titleAlign,n),e.textAlign=l.textAlign(n.titleAlign),e.textBaseline="middle",s=tS(n.titleFont),o=n.titleSpacing,e.fillStyle=n.titleColor,e.font=s.string,a=0;a<i;++a)e.fillText(r[a],l.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+o,a+1===i&&(t.y+=n.titleMarginBottom-o)}}_drawColorBox(t,e,n,r,i){const s=this.labelColors[n],o=this.labelPointStyles[n],{boxHeight:a,boxWidth:l}=i,c=tS(i.bodyFont),u=bI(this,"left",i),h=r.x(u),d=a<c.lineHeight?(c.lineHeight-a)/2:0,f=e.y+d;if(i.usePointStyle){const e={radius:Math.min(l,a)/2,pointStyle:o.pointStyle,rotation:o.rotation,borderWidth:1},n=r.leftForLtr(h,l)+l/2,c=f+a/2;t.strokeStyle=i.multiKeyBackground,t.fillStyle=i.multiKeyBackground,Rk(t,e,n,c),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Rk(t,e,n,c)}else{t.lineWidth=u_(s.borderWidth)?Math.max(...Object.values(s.borderWidth)):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0;const e=r.leftForLtr(h,l),n=r.leftForLtr(r.xPlus(h,1),l-2),o=Jk(s.borderRadius);Object.values(o).some((t=>0!==t))?(t.beginPath(),t.fillStyle=i.multiKeyBackground,qk(t,{x:e,y:f,w:l,h:a,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),qk(t,{x:n,y:f+1,w:l-2,h:a-2,radius:o}),t.fill()):(t.fillStyle=i.multiKeyBackground,t.fillRect(e,f,l,a),t.strokeRect(e,f,l,a),t.fillStyle=s.backgroundColor,t.fillRect(n,f+1,l-2,a-2))}t.fillStyle=this.labelTextColors[n]}drawBody(t,e,n){const{body:r}=this,{bodySpacing:i,bodyAlign:s,displayColors:o,boxHeight:a,boxWidth:l,boxPadding:c}=n,u=tS(n.bodyFont);let h=u.lineHeight,d=0;const f=US(n.rtl,this.x,this.width),p=function(n){e.fillText(n,f.x(t.x+d),t.y+h/2),t.y+=h+i},g=f.textAlign(s);let m,y,v,b,w,x,_;for(e.textAlign=s,e.textBaseline="middle",e.font=u.string,t.x=bI(this,g,n),e.fillStyle=n.bodyColor,m_(this.beforeBody,p),d=o&&"right"!==g?"center"===s?l/2+c:l+2+c:0,b=0,x=r.length;b<x;++b){for(m=r[b],y=this.labelTextColors[b],e.fillStyle=y,m_(m.before,p),v=m.lines,o&&v.length&&(this._drawColorBox(e,t,b,f,n),h=Math.max(u.lineHeight,a)),w=0,_=v.length;w<_;++w)p(v[w]),h=u.lineHeight;m_(m.after,p)}d=0,h=u.lineHeight,m_(this.afterBody,p),t.y-=i}drawFooter(t,e,n){const r=this.footer,i=r.length;let s,o;if(i){const a=US(n.rtl,this.x,this.width);for(t.x=bI(this,n.footerAlign,n),t.y+=n.footerMarginTop,e.textAlign=a.textAlign(n.footerAlign),e.textBaseline="middle",s=tS(n.footerFont),e.fillStyle=n.footerColor,e.font=s.string,o=0;o<i;++o)e.fillText(r[o],a.x(t.x),t.y+s.lineHeight/2),t.y+=s.lineHeight+n.footerSpacing}}drawBackground(t,e,n,r){const{xAlign:i,yAlign:s}=this,{x:o,y:a}=t,{width:l,height:c}=n,{topLeft:u,topRight:h,bottomLeft:d,bottomRight:f}=Jk(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(o+u,a),"top"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+l-h,a),e.quadraticCurveTo(o+l,a,o+l,a+h),"center"===s&&"right"===i&&this.drawCaret(t,e,n,r),e.lineTo(o+l,a+c-f),e.quadraticCurveTo(o+l,a+c,o+l-f,a+c),"bottom"===s&&this.drawCaret(t,e,n,r),e.lineTo(o+d,a+c),e.quadraticCurveTo(o,a+c,o,a+c-d),"center"===s&&"left"===i&&this.drawCaret(t,e,n,r),e.lineTo(o,a+u),e.quadraticCurveTo(o,a,o+u,a),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const n=hI[t.position].call(this,this._active,this._eventPosition);if(!n)return;const s=this._size=gI(this,t),o=Object.assign({},n,this._size),a=yI(e,t,o),l=vI(t,o,a,e);r._to===l.x&&i._to===l.y||(this.xAlign=a.xAlign,this.yAlign=a.yAlign,this.width=s.width,this.height=s.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const s=Zk(e.padding),o=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&o&&(t.save(),t.globalAlpha=n,this.drawBackground(i,t,r,e),zS(t,e.textDirection),i.y+=s.top,this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),BS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const n=this._active,r=t.map((t=>{let{datasetIndex:e,index:n}=t;const r=this.chart.getDatasetMeta(e);if(!r)throw new Error("Cannot find a dataset at index "+e);return{datasetIndex:e,element:r.data[n],index:n}})),i=!y_(n,r),s=this._positionChanged(r,e);(i||s)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],s=this._getActiveElements(t,i,e,n),o=this._positionChanged(s,t),a=e||!y_(s,i)||o;return a&&(this._active=s,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),a}_getActiveElements(t,e,n,r){const i=this.options;if("mouseout"===t.type)return[];if(!r)return e.filter((t=>this.chart.data.datasets[t.datasetIndex]&&void 0!==this.chart.getDatasetMeta(t.datasetIndex).controller.getParsed(t.index)));const s=this.chart.getElementsAtEventForMode(t,i.mode,i,n);return i.reverse&&s.reverse(),s}_positionChanged(t,e){const{caretX:n,caretY:r,options:i}=this,s=hI[i.position].call(this,t,e);return!1!==s&&(n!==s.x||r!==s.y)}}Tx(SI,"positioners",hI);var EI={id:"tooltip",_element:SI,positioners:hI,afterInit(t,e,n){n&&(t.tooltip=new SI({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(!1===t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0}))return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:_I},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},TI=Object.freeze({__proto__:null,Colors:LC,Decimation:VC,Filler:nI,Legend:oI,SubTitle:uI,Title:lI,Tooltip:EI});function CI(t,e,n,r){const i=t.indexOf(e);if(-1===i)return((t,e,n,r)=>("string"===typeof e?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n))(t,e,n,r);return i!==t.lastIndexOf(e)?n:i}function II(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class PI extends CT{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const t=this.getLabels();for(const{index:n,label:r}of e)t[n]===r&&t.splice(n,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(l_(t))return null;const n=this.getLabels();return((t,e)=>null===t?null:J_(Math.round(t),0,e))(e=isFinite(e)&&n[e]===t?e:CI(n,t,f_(e,t),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(t||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const t=this.min,e=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=0===t&&e===i.length-1?i:i.slice(t,e+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let s=t;s<=e;s++)r.push({value:s});return r}getLabelForValue(t){return II.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return"number"!==typeof t&&(t=this.parse(t)),null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function NI(t,e){const n=[],{bounds:r,step:i,min:s,max:o,precision:a,count:l,maxTicks:c,maxDigits:u,includeBounds:h}=t,d=i||1,f=c-1,{min:p,max:g}=e,m=!l_(s),y=!l_(o),v=!l_(l),b=(g-p)/(u+1);let w,x,_,k,S=z_((g-p)/f/d)*d;if(S<1e-14&&!m&&!y)return[{value:p},{value:g}];k=Math.ceil(g/S)-Math.floor(p/S),k>f&&(S=z_(k*S/f/d)*d),l_(a)||(w=Math.pow(10,a),S=Math.ceil(S*w)/w),"ticks"===r?(x=Math.floor(p/S)*S,_=Math.ceil(g/S)*S):(x=p,_=g),m&&y&&i&&function(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}((o-s)/i,S/1e3)?(k=Math.round(Math.min((o-s)/S,c)),S=(o-s)/k,x=s,_=o):v?(x=m?s:x,_=y?o:_,k=l-1,S=(_-x)/k):(k=(_-x)/S,k=U_(k,Math.round(k),S/1e3)?Math.round(k):Math.ceil(k));const E=Math.max(K_(S),K_(x));w=Math.pow(10,l_(a)?E:a),x=Math.round(x*w)/w,_=Math.round(_*w)/w;let T=0;for(m&&(h&&x!==s?(n.push({value:s}),x<s&&T++,U_(Math.round((x+T*S)*w)/w,s,MI(s,b,t))&&T++):x<s&&T++);T<k;++T){const t=Math.round((x+T*S)*w)/w;if(y&&t>o)break;n.push({value:t})}return y&&h&&_!==o?n.length&&U_(n[n.length-1].value,o,MI(o,b,t))?n[n.length-1].value=o:n.push({value:o}):y&&_!==o||n.push({value:_}),n}function MI(t,e,n){let{horizontal:r,minRotation:i}=n;const s=W_(i),o=(r?Math.sin(s):Math.cos(s))||.001,a=.75*e*(""+t).length;return Math.min(e/o,a)}Tx(PI,"id","category"),Tx(PI,"defaults",{ticks:{callback:II}});class DI extends CT{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return l_(t)||("number"===typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const s=t=>r=e?r:t,o=t=>i=n?i:t;if(t){const t=V_(r),e=V_(i);t<0&&e<0?o(0):t>0&&e>0&&s(0)}if(r===i){let e=0===i?1:Math.abs(.05*i);o(i+e),t||s(r-e)}this.min=r,this.max=i}getTickLimit(){const t=this.options.ticks;let e,{maxTicksLimit:n,stepSize:r}=t;return r?(e=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,e>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3)):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=NI({maxTicks:n,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&H_(r,this,"value"),t.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const t=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&t.length){const r=(n-e)/Math.max(t.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(t){return _k(t,this.chart.options.locale,this.options.ticks.format)}}class AI extends DI{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=h_(t)?t:0,this.max=h_(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,n=W_(this.options.ticks.minRotation),r=(t?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/r))}getPixelForValue(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}Tx(AI,"id","linear"),Tx(AI,"defaults",{ticks:{callback:Sk.formatters.numeric}});const OI=t=>Math.floor(F_(t)),RI=(t,e)=>Math.pow(10,OI(t)+e);function LI(t){return 1===t/Math.pow(10,OI(t))}function jI(t,e,n){const r=Math.pow(10,n),i=Math.floor(t/r);return Math.ceil(e/r)-i}function FI(t,e){let{min:n,max:r}=e;n=d_(t.min,n);const i=[],s=OI(n);let o=function(t,e){let n=OI(e-t);for(;jI(t,e,n)>10;)n++;for(;jI(t,e,n)<10;)n--;return Math.min(n,OI(t))}(n,r),a=o<0?Math.pow(10,Math.abs(o)):1;const l=Math.pow(10,o),c=s>o?Math.pow(10,s):0,u=Math.round((n-c)*a)/a,h=Math.floor((n-c)/l/10)*l*10;let d=Math.floor((u-h)/Math.pow(10,o)),f=d_(t.min,Math.round((c+h+d*Math.pow(10,o))*a)/a);for(;f<r;)i.push({value:f,major:LI(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(o++,d=2,a=o>=0?1:a),f=Math.round((c+h+d*Math.pow(10,o))*a)/a;const p=d_(t.max,f);return i.push({value:p,major:LI(p),significand:d}),i}class VI extends CT{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const n=DI.prototype.parse.apply(this,[t,e]);if(0!==n)return h_(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=h_(t)?Math.max(0,t):null,this.max=h_(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!h_(this._userMin)&&(this.min=t===RI(this.min,0)?RI(this.min,-1):RI(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const i=e=>n=t?n:e,s=t=>r=e?r:t;n===r&&(n<=0?(i(1),s(10)):(i(RI(n,-1)),s(RI(r,1)))),n<=0&&i(RI(r,-1)),r<=0&&s(RI(n,1)),this.min=n,this.max=r}buildTicks(){const t=this.options,e=FI({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&H_(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}getLabelForValue(t){return void 0===t?"0":_k(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=F_(t),this._valueRange=F_(this.max)-F_(t)}getPixelForValue(t){return void 0!==t&&0!==t||(t=this.min),null===t||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(F_(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}function UI(t){const e=t.ticks;if(e.display&&t.display){const t=Zk(e.backdropPadding);return f_(e.font&&e.font.size,Nk.font.size)+t.height}return 0}function zI(t,e,n,r,i){return t===r||t===i?{start:e-n/2,end:e+n/2}:t<r||t>i?{start:e-n,end:e}:{start:e,end:e+n}}function BI(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),r=[],i=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?N_/s:0;for(let h=0;h<s;h++){const s=o.setContext(t.getPointLabelContext(h));i[h]=s.padding;const d=t.getPointPosition(h,t.drawingArea+i[h],a),f=tS(s.font),p=(l=t.ctx,c=f,u=c_(u=t._pointLabels[h])?u:[u],{w:Dk(l,c.string,u),h:u.length*c.lineHeight});r[h]=p;const g=X_(t.getIndexAngle(h)+a),m=Math.round(q_(g));HI(n,e,g,zI(m,d.x,p.w,0,180),zI(m,d.y,p.h,90,270))}var l,c,u;t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=function(t,e,n){const r=[],i=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:UI(s)/2,additionalAngle:o?N_/i:0};let c;for(let u=0;u<i;u++){l.padding=n[u],l.size=e[u];const i=WI(t,u,l);r.push(i),"auto"===a&&(i.visible=qI(i,c),i.visible&&(c=i))}return r}(t,r,i)}function HI(t,e,n,r,i){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;r.start<e.l?(a=(e.l-r.start)/s,t.l=Math.min(t.l,e.l-a)):r.end>e.r&&(a=(r.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),i.start<e.t?(l=(e.t-i.start)/o,t.t=Math.min(t.t,e.t-l)):i.end>e.b&&(l=(i.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function WI(t,e,n){const r=t.drawingArea,{extra:i,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,r+i+o,s),c=Math.round(q_(X_(l.angle+R_))),u=function(t,e,n){90===n||270===n?t-=e/2:(n>270||n<90)&&(t-=e);return t}(l.y,a.h,c),h=function(t){if(0===t||180===t)return"center";if(t<180)return"left";return"right"}(c),d=function(t,e,n){"right"===n?t-=e:"center"===n&&(t-=e/2);return t}(l.x,a.w,h);return{visible:!0,x:l.x,y:u,textAlign:h,left:d,top:u,right:d+a.w,bottom:u+a.h}}function qI(t,e){if(!e)return!0;const{left:n,top:r,right:i,bottom:s}=t;return!(jk({x:n,y:r},e)||jk({x:n,y:s},e)||jk({x:i,y:r},e)||jk({x:i,y:s},e))}function KI(t,e,n){const{left:r,top:i,right:s,bottom:o}=n,{backdropColor:a}=e;if(!l_(a)){const n=Jk(e.borderRadius),l=Zk(e.backdropPadding);t.fillStyle=a;const c=r-l.left,u=i-l.top,h=s-r+l.width,d=o-i+l.height;Object.values(n).some((t=>0!==t))?(t.beginPath(),qk(t,{x:c,y:u,w:h,h:d,radius:n}),t.fill()):t.fillRect(c,u,h,d)}}function GI(t,e,n,r){const{ctx:i}=t;if(n)i.arc(t.xCenter,t.yCenter,e,0,M_);else{let n=t.getPointPosition(0,e);i.moveTo(n.x,n.y);for(let s=1;s<r;s++)n=t.getPointPosition(s,e),i.lineTo(n.x,n.y)}}Tx(VI,"id","logarithmic"),Tx(VI,"defaults",{ticks:{callback:Sk.formatters.logarithmic,major:{enabled:!0}}});class YI extends DI{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=Zk(UI(this.options)/2),e=this.width=this.maxWidth-t.width,n=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+n/2+t.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=h_(t)&&!isNaN(t)?t:0,this.max=h_(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/UI(this.options))}generateTickLabels(t){DI.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(((t,e)=>{const n=g_(this.options.pointLabels.callback,[t,e],this);return n||0===n?n:""})).filter(((t,e)=>this.chart.getDataVisibility(e)))}fit(){const t=this.options;t.display&&t.pointLabels.display?BI(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,n,r){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,n,r))}getIndexAngle(t){return X_(t*(M_/(this._pointLabels.length||1))+W_(this.options.startAngle||0))}getDistanceFromCenterForValue(t){if(l_(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(l_(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const n=e[t];return function(t,e,n){return nS(t,{label:n,index:e,type:"pointLabel"})}(this.getContext(),t,n)}}getPointPosition(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(t)-R_+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:n,right:r,bottom:i}=this._pointLabelItems[t];return{left:e,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const n=this.ctx;n.save(),n.beginPath(),GI(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=t,n.fill(),n.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:n,grid:r,border:i}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function(t,e){const{ctx:n,options:{pointLabels:r}}=t;for(let i=e-1;i>=0;i--){const e=t._pointLabelItems[i];if(!e.visible)continue;const s=r.setContext(t.getPointLabelContext(i));KI(n,s,e);const o=tS(s.font),{x:a,y:l,textAlign:c}=e;Wk(n,t._pointLabels[i],a,l+o.lineHeight/2,o,{color:s.color,textAlign:c,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach(((t,e)=>{if(0!==e||0===e&&this.min<0){a=this.getDistanceFromCenterForValue(t.value);const n=this.getContext(e),o=r.setContext(n),l=i.setContext(n);!function(t,e,n,r,i){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!r||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(i.dash),s.lineDashOffset=i.dashOffset,s.beginPath(),GI(t,n,o,r),s.closePath(),s.stroke(),s.restore())}(this,o,a,s,l)}})),n.display){for(t.save(),o=s-1;o>=0;o--){const r=n.setContext(this.getPointLabelContext(o)),{color:i,lineWidth:s}=r;s&&i&&(t.lineWidth=s,t.strokeStyle=i,t.setLineDash(r.borderDash),t.lineDashOffset=r.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(l.x,l.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,s;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(r),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach(((r,o)=>{if(0===o&&this.min>=0&&!e.reverse)return;const a=n.setContext(this.getContext(o)),l=tS(a.font);if(i=this.getDistanceFromCenterForValue(this.ticks[o].value),a.showLabelBackdrop){t.font=l.string,s=t.measureText(r.label).width,t.fillStyle=a.backdropColor;const e=Zk(a.backdropPadding);t.fillRect(-s/2-e.left,-i-l.size/2-e.top,s+e.width,l.size+e.height)}Wk(t,r.label,0,-i,l,{color:a.color,strokeColor:a.textStrokeColor,strokeWidth:a.textStrokeWidth})})),t.restore()}drawTitle(){}}Tx(YI,"id","radialLinear"),Tx(YI,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Sk.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}}),Tx(YI,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Tx(YI,"descriptors",{angleLines:{_fallback:"grid"}});const QI={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},XI=Object.keys(QI);function $I(t,e){return t-e}function JI(t,e){if(l_(e))return null;const n=t._adapter,{parser:r,round:i,isoWeekday:s}=t._parseOpts;let o=e;return"function"===typeof r&&(o=r(o)),h_(o)||(o="string"===typeof r?n.parse(o,r):n.parse(o)),null===o?null:(i&&(o="week"!==i||!B_(s)&&!0!==s?n.startOf(o,i):n.startOf(o,"isoWeek",s)),+o)}function ZI(t,e,n,r){const i=XI.length;for(let s=XI.indexOf(t);s<i-1;++s){const t=QI[XI[s]],i=t.steps?t.steps:Number.MAX_SAFE_INTEGER;if(t.common&&Math.ceil((n-e)/(i*t.size))<=r)return XI[s]}return XI[i-1]}function tP(t,e,n){if(n){if(n.length){const{lo:r,hi:i}=tk(n,e);t[n[r]>=e?n[r]:n[i]]=!0}}else t[e]=!0}function eP(t,e,n){const r=[],i={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],i[a]=o,r.push({value:a,major:!1});return 0!==s&&n?function(t,e,n,r){const i=t._adapter,s=+i.startOf(e[0].value,r),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(e[l].major=!0);return e}(t,r,i,n):r}class nP extends CT{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.time||(t.time={}),r=this._adapter=new AE._date(t.adapters.date);r.init(e),__(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return void 0===t?null:JI(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,n=t.time.unit||"day";let{min:r,max:i,minDefined:s,maxDefined:o}=this.getUserBounds();function a(t){s||isNaN(t.min)||(r=Math.min(r,t.min)),o||isNaN(t.max)||(i=Math.max(i,t.max))}s&&o||(a(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source||a(this.getMinMax(!1))),r=h_(r)&&!isNaN(r)?r:+e.startOf(Date.now(),n),i=h_(i)&&!isNaN(i)?i:+e.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],n=t[t.length-1]),{min:e,max:n}}buildTicks(){const t=this.options,e=t.time,n=t.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===t.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,s=function(t,e,n){let r=0,i=t.length;for(;r<i&&t[r]<e;)r++;for(;i>r&&t[i-1]>n;)i--;return r>0||i<t.length?t.slice(r,i):t}(r,i,this.max);return this._unit=e.unit||(n.autoSkip?ZI(e.minUnit,this.min,this.max,this._getLabelCapacity(i)):function(t,e,n,r,i){for(let s=XI.length-1;s>=XI.indexOf(n);s--){const n=XI[s];if(QI[n].common&&t._adapter.diff(i,r,n)>=e-1)return n}return XI[n?XI.indexOf(n):0]}(this,s.length,e.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(t){for(let e=XI.indexOf(t)+1,n=XI.length;e<n;++e)if(QI[XI[e]].common)return XI[e]}(this._unit):void 0,this.initOffsets(r),t.reverse&&s.reverse(),eP(this,s,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((t=>+t.value)))}initOffsets(){let t,e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,i=0;this.options.offset&&n.length&&(t=this.getDecimalForValue(n[0]),r=1===n.length?1-t:(this.getDecimalForValue(n[1])-t)/2,e=this.getDecimalForValue(n[n.length-1]),i=1===n.length?e:(e-this.getDecimalForValue(n[n.length-2]))/2);const s=n.length<3?.5:.25;r=J_(r,0,s),i=J_(i,0,s),this._offsets={start:r,end:i,factor:1/(r+1+i)}}_generate(){const t=this._adapter,e=this.min,n=this.max,r=this.options,i=r.time,s=i.unit||ZI(i.minUnit,e,n,this._getLabelCapacity(e)),o=f_(r.ticks.stepSize,1),a="week"===s&&i.isoWeekday,l=B_(a)||!0===a,c={};let u,h,d=e;if(l&&(d=+t.startOf(d,"isoWeek",a)),d=+t.startOf(d,l?"day":s),t.diff(n,e,s)>1e5*o)throw new Error(e+" and "+n+" are too far apart with stepSize of "+o+" "+s);const f="data"===r.ticks.source&&this.getDataTimestamps();for(u=d,h=0;u<n;u=+t.add(u,o,s),h++)tP(c,u,f);return u!==n&&"ticks"!==r.bounds&&1!==h||tP(c,u,f),Object.keys(c).sort($I).map((t=>+t))}getLabelForValue(t){const e=this._adapter,n=this.options.time;return n.tooltipFormat?e.format(t,n.tooltipFormat):e.format(t,n.displayFormats.datetime)}format(t,e){const n=this.options.time.displayFormats,r=this._unit,i=e||n[r];return this._adapter.format(t,i)}_tickFormatFunction(t,e,n,r){const i=this.options,s=i.ticks.callback;if(s)return g_(s,[t,e,n],this);const o=i.time.displayFormats,a=this._unit,l=this._majorUnit,c=a&&o[a],u=l&&o[l],h=n[e],d=l&&u&&h&&h.major;return this._adapter.format(t,r||(d?u:c))}generateTickLabels(t){let e,n,r;for(e=0,n=t.length;e<n;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,n=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+n)*e.factor)}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+n*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,n=this.ctx.measureText(t).width,r=W_(this.isHorizontal()?e.maxRotation:e.minRotation),i=Math.cos(r),s=Math.sin(r),o=this._resolveTickFontOptions(0).size;return{w:n*i+o*s,h:n*s+o*i}}_getLabelCapacity(t){const e=this.options.time,n=e.displayFormats,r=n[e.unit]||n.millisecond,i=this._tickFormatFunction(t,0,eP(this,[t],this._majorUnit),r),s=this._getLabelSize(i),o=Math.floor(this.isHorizontal()?this.width/s.w:this.height/s.h)-1;return o>0?o:1}getDataTimestamps(){let t,e,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(t=0,e=r.length;t<e;++t)n=n.concat(r[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const t=this._cache.labels||[];let e,n;if(t.length)return t;const r=this.getLabels();for(e=0,n=r.length;e<n;++e)t.push(JI(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return sk(t.sort($I))}}function rP(t,e,n){let r,i,s,o,a=0,l=t.length-1;n?(e>=t[a].pos&&e<=t[l].pos&&({lo:a,hi:l}=ek(t,"pos",e)),({pos:r,time:s}=t[a]),({pos:i,time:o}=t[l])):(e>=t[a].time&&e<=t[l].time&&({lo:a,hi:l}=ek(t,"time",e)),({time:r,pos:s}=t[a]),({time:i,pos:o}=t[l]));const c=i-r;return c?s+(o-s)*(e-r)/c:s}Tx(nP,"id","time"),Tx(nP,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class iP extends nP{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=rP(e,this.min),this._tableRange=rP(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:n}=this,r=[],i=[];let s,o,a,l,c;for(s=0,o=t.length;s<o;++s)l=t[s],l>=e&&l<=n&&r.push(l);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(s=0,o=r.length;s<o;++s)c=r[s+1],a=r[s-1],l=r[s],Math.round((c+a)/2)!==l&&i.push({time:l,pos:s/(o-1)});return i}_generate(){const t=this.min,e=this.max;let n=super.getDataTimestamps();return n.includes(t)&&n.length||n.splice(0,0,t),n.includes(e)&&1!==n.length||n.push(e),n.sort(((t,e)=>t-e))}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return t=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,t=this._cache.all=t,t}getDecimalForValue(t){return(rP(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end;return rP(this._table,n*this._tableRange+this._minPos,!0)}}Tx(iP,"id","timeseries"),Tx(iP,"defaults",nP.defaults);const sP=[NE,PC,TI,Object.freeze({__proto__:null,CategoryScale:PI,LinearScale:AI,LogarithmicScale:VI,RadialLinearScale:YI,TimeScale:nP,TimeSeriesScale:iP})],oP="label";function aP(t,e){"function"===typeof t?t(e):t&&(t.current=e)}function lP(t,e){t.labels=e}function cP(t,e){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:oP;const r=[];t.datasets=e.map((e=>{const i=t.datasets.find((t=>t[n]===e[n]));return i&&e.data&&!r.includes(i)?(r.push(i),Object.assign(i,e),i):{...e}}))}function uP(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:oP;const n={labels:[],datasets:[]};return lP(n,t.labels),cP(n,t.datasets,e),n}function hP(t,n){const{height:r=150,width:i=300,redraw:s=!1,datasetIdKey:o,type:a,data:l,options:c,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,p=(0,e.useRef)(null),g=(0,e.useRef)(),m=()=>{p.current&&(g.current=new iC(p.current,{type:a,data:uP(l,o),options:c&&{...c},plugins:u}),aP(n,g.current))},y=()=>{aP(n,null),g.current&&(g.current.destroy(),g.current=null)};return(0,e.useEffect)((()=>{!s&&g.current&&c&&function(t,e){const n=t.options;n&&e&&Object.assign(n,e)}(g.current,c)}),[s,c]),(0,e.useEffect)((()=>{!s&&g.current&&lP(g.current.config.data,l.labels)}),[s,l.labels]),(0,e.useEffect)((()=>{!s&&g.current&&l.datasets&&cP(g.current.config.data,l.datasets,o)}),[s,l.datasets]),(0,e.useEffect)((()=>{g.current&&(s?(y(),setTimeout(m)):g.current.update(d))}),[s,c,l.labels,l.datasets,d]),(0,e.useEffect)((()=>{g.current&&(y(),setTimeout(m))}),[a]),(0,e.useEffect)((()=>(m(),()=>y())),[]),e.createElement("canvas",Object.assign({ref:p,role:"img",height:r,width:i},f),h)}const dP=(0,e.forwardRef)(hP);function fP(t,n){return iC.register(n),(0,e.forwardRef)(((n,r)=>e.createElement(dP,Object.assign({},n,{ref:r,type:t}))))}const pP=fP("line",EE);iC.register(...sP);function gP(t){const e=Object.prototype.toString.call(t);return t instanceof Date||"object"===typeof t&&"[object Date]"===e?new t.constructor(+t):"number"===typeof t||"[object Number]"===e||"string"===typeof t||"[object String]"===e?new Date(t):new Date(NaN)}function mP(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}let yP={};function vP(){return yP}function bP(){return Object.assign({},vP())}const wP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function xP(t){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const _P={date:xP({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xP({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xP({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},kP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function SP(t){return(e,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&t.formattingValues){const e=t.defaultFormattingWidth||t.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):e;r=t.formattingValues[i]||t.formattingValues[e]}else{const e=t.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):t.defaultWidth;r=t.values[i]||t.values[e]}return r[t.argumentCallback?t.argumentCallback(e):e]}}const EP={ordinalNumber:(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:SP({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:SP({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:t=>t-1}),month:SP({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:SP({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:SP({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function TP(t){return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?function(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n;return}(a,(t=>t.test(o))):function(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n;return}(a,(t=>t.test(o)));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:e.slice(o.length)}}}const CP={ordinalNumber:(IP={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:t=>parseInt(t,10)},function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t.match(IP.matchPattern);if(!n)return null;const r=n[0],i=t.match(IP.parsePattern);if(!i)return null;let s=IP.valueCallback?IP.valueCallback(i[0]):i[0];return s=e.valueCallback?e.valueCallback(s):s,{value:s,rest:t.slice(r.length)}}),era:TP({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:TP({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:t=>t+1}),month:TP({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:TP({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:TP({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var IP;const PP={code:"en-US",formatDistance:(t,e,n)=>{let r;const i=wP[t];return r="string"===typeof i?i:1===e?i.one:i.other.replace("{{count}}",e.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:_P,formatRelative:(t,e,n,r)=>kP[t],localize:EP,match:CP,options:{weekStartsOn:0,firstWeekContainsDate:1}},NP=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},MP=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},DP={p:MP,P:(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return NP(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;default:s=e.dateTime({width:"full"})}return s.replace("{{date}}",NP(r,e)).replace("{{time}}",MP(i,e))}},AP=/^D+$/,OP=/^Y+$/,RP=["D","DD","YY","YYYY"];function LP(t){return AP.test(t)}function jP(t){return OP.test(t)}function FP(t,e,n){const r=function(t,e,n){const r="Y"===t[0]?"years":"days of the month";return"Use `".concat(t.toLowerCase(),"` instead of `").concat(t,"` (in `").concat(e,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(t,e,n);if(console.warn(r),RP.includes(t))throw new RangeError(r)}function VP(t,e){const n=e instanceof Date?mP(e,0):new e(0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}class UP{constructor(){Tx(this,"subPriority",0)}validate(t,e){return!0}}class zP extends UP{constructor(t,e,n,r,i){super(),this.value=t,this.validateValue=e,this.setValue=n,this.priority=r,i&&(this.subPriority=i)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,n){return this.setValue(t,e,this.value,n)}}class BP extends UP{constructor(){super(...arguments),Tx(this,"priority",10),Tx(this,"subPriority",-1)}set(t,e){return e.timestampIsSet?t:mP(t,VP(t,Date))}}class HP{run(t,e,n,r){const i=this.parse(t,e,n,r);return i?{setter:new zP(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(t,e,n){return!0}}Math.pow(10,8);const WP=6048e5,qP=864e5,KP=6e4,GP=36e5,YP=/^(1[0-2]|0?\d)/,QP=/^(3[0-1]|[0-2]?\d)/,XP=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,$P=/^(5[0-3]|[0-4]?\d)/,JP=/^(2[0-3]|[0-1]?\d)/,ZP=/^(2[0-4]|[0-1]?\d)/,tN=/^(1[0-1]|0?\d)/,eN=/^(1[0-2]|0?\d)/,nN=/^[0-5]?\d/,rN=/^[0-5]?\d/,iN=/^\d/,sN=/^\d{1,2}/,oN=/^\d{1,3}/,aN=/^\d{1,4}/,lN=/^-?\d+/,cN=/^-?\d/,uN=/^-?\d{1,2}/,hN=/^-?\d{1,3}/,dN=/^-?\d{1,4}/,fN=/^([+-])(\d{2})(\d{2})?|Z/,pN=/^([+-])(\d{2})(\d{2})|Z/,gN=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,mN=/^([+-])(\d{2}):(\d{2})|Z/,yN=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function vN(t,e){return t?{value:e(t.value),rest:t.rest}:t}function bN(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function wN(t,e){const n=e.match(t);if(!n)return null;if("Z"===n[0])return{value:0,rest:e.slice(1)};const r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*GP+s*KP+1e3*o),rest:e.slice(n[0].length)}}function xN(t){return bN(lN,t)}function _N(t,e){switch(t){case 1:return bN(iN,e);case 2:return bN(sN,e);case 3:return bN(oN,e);case 4:return bN(aN,e);default:return bN(new RegExp("^\\d{1,"+t+"}"),e)}}function kN(t,e){switch(t){case 1:return bN(cN,e);case 2:return bN(uN,e);case 3:return bN(hN,e);case 4:return bN(dN,e);default:return bN(new RegExp("^-?\\d{1,"+t+"}"),e)}}function SN(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function EN(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const e=r+50;i=t+100*Math.trunc(e/100)-(t>=e%100?100:0)}return n?i:1-i}function TN(t){return t%400===0||t%4===0&&t%100!==0}function CN(t,e){var n,r,i,s,o,a;const l=vP(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==s?s:null===e||void 0===e||null===(o=e.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=gP(t),h=u.getDay(),d=(h<c?7:0)+h-c;return u.setDate(u.getDate()-d),u.setHours(0,0,0,0),u}function IN(t,e){var n,r,i,s,o,a;const l=gP(t),c=l.getFullYear(),u=vP(),h=null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==s?s:null===e||void 0===e||null===(o=e.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(a=u.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,d=mP(t,0);d.setFullYear(c+1,0,h),d.setHours(0,0,0,0);const f=CN(d,e),p=mP(t,0);p.setFullYear(c,0,h),p.setHours(0,0,0,0);const g=CN(p,e);return l.getTime()>=f.getTime()?c+1:l.getTime()>=g.getTime()?c:c-1}function PN(t){return CN(t,{weekStartsOn:1})}function NN(t,e){var n,r,i,s,o,a;const l=vP(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.firstWeekContainsDate)&&void 0!==s?s:null===e||void 0===e||null===(o=e.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==n?n:1,u=IN(t,e),h=mP(t,0);h.setFullYear(u,0,c),h.setHours(0,0,0,0);return CN(h,e)}function MN(t,e){const n=gP(t),r=+CN(n,e)-+NN(n,e);return Math.round(r/WP)+1}function DN(t,e,n){const r=gP(t),i=MN(r,n)-e;return r.setDate(r.getDate()-7*i),r}function AN(t){const e=gP(t),n=e.getFullYear(),r=mP(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=PN(r),s=mP(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const o=PN(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function ON(t){const e=AN(t),n=mP(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),PN(n)}function RN(t){const e=gP(t),n=+PN(e)-+ON(e);return Math.round(n/WP)+1}function LN(t,e){const n=gP(t),r=RN(n)-e;return n.setDate(n.getDate()-7*r),n}const jN=[31,28,31,30,31,30,31,31,30,31,30,31],FN=[31,29,31,30,31,30,31,31,30,31,30,31];function VN(t,e){const n=gP(t);return isNaN(e)?mP(t,NaN):e?(n.setDate(n.getDate()+e),n):n}function UN(t,e,n){var r,i,s,o,a,l;const c=vP(),u=null!==(r=null!==(i=null!==(s=null!==(o=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==o?o:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==s?s:c.weekStartsOn)&&void 0!==i?i:null===(l=c.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0,h=gP(t),d=h.getDay(),f=7-u;return VN(h,e<0||e>6?e-(d+f)%7:((e%7+7)%7+f)%7-(d+f)%7)}function zN(t){let e=gP(t).getDay();return 0===e&&(e=7),e}function BN(t,e){const n=gP(t);return VN(n,e-zN(n))}function HN(t){const e=gP(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}const WN={G:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",140),Tx(this,"incompatibleTokens",["R","u","t","T"])}parse(t,e,n){switch(e){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,e,n){return e.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}},y:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",130),Tx(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(t,e,n){const r=t=>({year:t,isTwoDigitYear:"yy"===e});switch(e){case"y":return vN(_N(4,t),r);case"yo":return vN(n.ordinalNumber(t,{unit:"year"}),r);default:return vN(_N(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,n){const r=t.getFullYear();if(n.isTwoDigitYear){const e=EN(n.year,r);return t.setFullYear(e,0,1),t.setHours(0,0,0,0),t}const i="era"in e&&1!==e.era?1-n.year:n.year;return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}},Y:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",130),Tx(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(t,e,n){const r=t=>({year:t,isTwoDigitYear:"YY"===e});switch(e){case"Y":return vN(_N(4,t),r);case"Yo":return vN(n.ordinalNumber(t,{unit:"year"}),r);default:return vN(_N(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,n,r){const i=IN(t,r);if(n.isTwoDigitYear){const e=EN(n.year,i);return t.setFullYear(e,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),CN(t,r)}const s="era"in e&&1!==e.era?1-n.year:n.year;return t.setFullYear(s,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),CN(t,r)}},R:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",130),Tx(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(t,e){return kN("R"===e?4:e.length,t)}set(t,e,n){const r=mP(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),PN(r)}},u:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",130),Tx(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(t,e){return kN("u"===e?4:e.length,t)}set(t,e,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}},Q:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",120),Tx(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,n){switch(e){case"Q":case"QQ":return _N(e.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,n){return t.setMonth(3*(n-1),1),t.setHours(0,0,0,0),t}},q:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",120),Tx(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(t,e,n){switch(e){case"q":case"qq":return _N(e.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,n){return t.setMonth(3*(n-1),1),t.setHours(0,0,0,0),t}},M:new class extends HP{constructor(){super(...arguments),Tx(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Tx(this,"priority",110)}parse(t,e,n){const r=t=>t-1;switch(e){case"M":return vN(bN(YP,t),r);case"MM":return vN(_N(2,t),r);case"Mo":return vN(n.ordinalNumber(t,{unit:"month"}),r);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}},L:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",110),Tx(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(t,e,n){const r=t=>t-1;switch(e){case"L":return vN(bN(YP,t),r);case"LL":return vN(_N(2,t),r);case"Lo":return vN(n.ordinalNumber(t,{unit:"month"}),r);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}},w:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",100),Tx(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(t,e,n){switch(e){case"w":return bN($P,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return _N(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,n,r){return CN(DN(t,n,r),r)}},I:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",100),Tx(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(t,e,n){switch(e){case"I":return bN($P,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return _N(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,n){return PN(LN(t,n))}},d:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",90),Tx(this,"subPriority",1),Tx(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(t,e,n){switch(e){case"d":return bN(QP,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return _N(e.length,t)}}validate(t,e){const n=TN(t.getFullYear()),r=t.getMonth();return n?e>=1&&e<=FN[r]:e>=1&&e<=jN[r]}set(t,e,n){return t.setDate(n),t.setHours(0,0,0,0),t}},D:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",90),Tx(this,"subpriority",1),Tx(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(t,e,n){switch(e){case"D":case"DD":return bN(XP,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return _N(e.length,t)}}validate(t,e){return TN(t.getFullYear())?e>=1&&e<=366:e>=1&&e<=365}set(t,e,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}},E:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",90),Tx(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(t,e,n){switch(e){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,n,r){return(t=UN(t,n,r)).setHours(0,0,0,0),t}},e:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",90),Tx(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(t,e,n,r){const i=t=>{const e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"e":case"ee":return vN(_N(e.length,t),i);case"eo":return vN(n.ordinalNumber(t,{unit:"day"}),i);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,n,r){return(t=UN(t,n,r)).setHours(0,0,0,0),t}},c:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",90),Tx(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(t,e,n,r){const i=t=>{const e=7*Math.floor((t-1)/7);return(t+r.weekStartsOn+6)%7+e};switch(e){case"c":case"cc":return vN(_N(e.length,t),i);case"co":return vN(n.ordinalNumber(t,{unit:"day"}),i);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,n,r){return(t=UN(t,n,r)).setHours(0,0,0,0),t}},i:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",90),Tx(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(t,e,n){const r=t=>0===t?7:t;switch(e){case"i":case"ii":return _N(e.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return vN(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return vN(n.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return vN(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r);default:return vN(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,e){return e>=1&&e<=7}set(t,e,n){return(t=BN(t,n)).setHours(0,0,0,0),t}},a:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",80),Tx(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(t,e,n){switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,n){return t.setHours(SN(n),0,0,0),t}},b:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",80),Tx(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(t,e,n){switch(e){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,n){return t.setHours(SN(n),0,0,0),t}},B:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",80),Tx(this,"incompatibleTokens",["a","b","t","T"])}parse(t,e,n){switch(e){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,n){return t.setHours(SN(n),0,0,0),t}},h:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",70),Tx(this,"incompatibleTokens",["H","K","k","t","T"])}parse(t,e,n){switch(e){case"h":return bN(eN,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return _N(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,n){const r=t.getHours()>=12;return r&&n<12?t.setHours(n+12,0,0,0):r||12!==n?t.setHours(n,0,0,0):t.setHours(0,0,0,0),t}},H:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",70),Tx(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(t,e,n){switch(e){case"H":return bN(JP,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return _N(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,n){return t.setHours(n,0,0,0),t}},K:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",70),Tx(this,"incompatibleTokens",["h","H","k","t","T"])}parse(t,e,n){switch(e){case"K":return bN(tN,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return _N(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}},k:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",70),Tx(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(t,e,n){switch(e){case"k":return bN(ZP,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return _N(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,n){const r=n<=24?n%24:n;return t.setHours(r,0,0,0),t}},m:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",60),Tx(this,"incompatibleTokens",["t","T"])}parse(t,e,n){switch(e){case"m":return bN(nN,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return _N(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,n){return t.setMinutes(n,0,0),t}},s:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",50),Tx(this,"incompatibleTokens",["t","T"])}parse(t,e,n){switch(e){case"s":return bN(rN,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return _N(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,n){return t.setSeconds(n,0),t}},S:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",30),Tx(this,"incompatibleTokens",["t","T"])}parse(t,e){return vN(_N(e.length,t),(t=>Math.trunc(t*Math.pow(10,3-e.length))))}set(t,e,n){return t.setMilliseconds(n),t}},X:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",10),Tx(this,"incompatibleTokens",["t","T","x"])}parse(t,e){switch(e){case"X":return wN(fN,t);case"XX":return wN(pN,t);case"XXXX":return wN(gN,t);case"XXXXX":return wN(yN,t);default:return wN(mN,t)}}set(t,e,n){return e.timestampIsSet?t:mP(t,t.getTime()-HN(t)-n)}},x:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",10),Tx(this,"incompatibleTokens",["t","T","X"])}parse(t,e){switch(e){case"x":return wN(fN,t);case"xx":return wN(pN,t);case"xxxx":return wN(gN,t);case"xxxxx":return wN(yN,t);default:return wN(mN,t)}}set(t,e,n){return e.timestampIsSet?t:mP(t,t.getTime()-HN(t)-n)}},t:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",40),Tx(this,"incompatibleTokens","*")}parse(t){return xN(t)}set(t,e,n){return[mP(t,1e3*n),{timestampIsSet:!0}]}},T:new class extends HP{constructor(){super(...arguments),Tx(this,"priority",20),Tx(this,"incompatibleTokens","*")}parse(t){return xN(t)}set(t,e,n){return[mP(t,n),{timestampIsSet:!0}]}}},qN=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,KN=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GN=/^'([^]*?)'?$/,YN=/''/g,QN=/\S/,XN=/[a-zA-Z]/;function $N(t,e,n,r){var i,s,o,a,l,c,u,h,d,f,p,g,m,y;const v=bP(),b=null!==(i=null!==(s=null===r||void 0===r?void 0:r.locale)&&void 0!==s?s:v.locale)&&void 0!==i?i:PP,w=null!==(o=null!==(a=null!==(l=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(u=r.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==l?l:v.firstWeekContainsDate)&&void 0!==a?a:null===(h=v.locale)||void 0===h||null===(h=h.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==o?o:1,x=null!==(d=null!==(f=null!==(p=null!==(g=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==g?g:null===r||void 0===r||null===(m=r.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==p?p:v.weekStartsOn)&&void 0!==f?f:null===(y=v.locale)||void 0===y||null===(y=y.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==d?d:0;if(""===e)return""===t?gP(n):mP(n,NaN);const _={firstWeekContainsDate:w,weekStartsOn:x,locale:b},k=[new BP],S=e.match(KN).map((t=>{const e=t[0];if(e in DP){return(0,DP[e])(t,b.formatLong)}return t})).join("").match(qN),E=[];for(let P of S){null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!jP(P)||FP(P,e,t),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!LP(P)||FP(P,e,t);const i=P[0],s=WN[i];if(s){const{incompatibleTokens:e}=s;if(Array.isArray(e)){const t=E.find((t=>e.includes(t.token)||t.token===i));if(t)throw new RangeError("The format string mustn't contain `".concat(t.fullToken,"` and `").concat(P,"` at the same time"))}else if("*"===s.incompatibleTokens&&E.length>0)throw new RangeError("The format string mustn't contain `".concat(P,"` and any other token at the same time"));E.push({token:i,fullToken:P});const r=s.run(t,P,b.match,_);if(!r)return mP(n,NaN);k.push(r.setter),t=r.rest}else{if(i.match(XN))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");if("''"===P?P="'":"'"===i&&(P=P.match(GN)[1].replace(YN,"'")),0!==t.indexOf(P))return mP(n,NaN);t=t.slice(P.length)}}if(t.length>0&&QN.test(t))return mP(n,NaN);const T=k.map((t=>t.priority)).sort(((t,e)=>e-t)).filter(((t,e,n)=>n.indexOf(t)===e)).map((t=>k.filter((e=>e.priority===t)).sort(((t,e)=>e.subPriority-t.subPriority)))).map((t=>t[0]));let C=gP(n);if(isNaN(C.getTime()))return mP(n,NaN);const I={};for(const P of T){if(!P.validate(C,_))return mP(n,NaN);const t=P.set(C,I,_);Array.isArray(t)?(C=t[0],Object.assign(I,t[1])):C=t}return mP(n,C)}function JN(t,e){var n;const r=null!==(n=null===e||void 0===e?void 0:e.additionalDigits)&&void 0!==n?n:2,i=function(t){const e={},n=t.split(ZN.dateTimeDelimiter);let r;if(n.length>2)return e;/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],ZN.timeZoneDelimiter.test(e.date)&&(e.date=t.split(ZN.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length)));if(r){const t=ZN.timezone.exec(r);t?(e.time=r.replace(t[1],""),e.timezone=t[1]):e.time=r}return e}(t);let s;if(i.date){const t=function(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const i=r[1]?parseInt(r[1]):null,s=r[2]?parseInt(r[2]):null;return{year:null===s?i:100*s,restDateString:t.slice((r[1]||r[2]).length)}}(i.date,r);s=function(t,e){if(null===e)return new Date(NaN);const n=t.match(tM);if(!n)return new Date(NaN);const r=!!n[4],i=rM(n[1]),s=rM(n[2])-1,o=rM(n[3]),a=rM(n[4]),l=rM(n[5])-1;if(r)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,a,l)?function(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const i=r.getUTCDay()||7,s=7*(e-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+s),r}(e,a,l):new Date(NaN);{const t=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(sM[e]||(oM(t)?29:28))}(e,s,o)&&function(t,e){return e>=1&&e<=(oM(t)?366:365)}(e,i)?(t.setUTCFullYear(e,s,Math.max(i,o)),t):new Date(NaN)}}(t.restDateString,t.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let a,l=0;if(i.time&&(l=function(t){const e=t.match(eM);if(!e)return NaN;const n=iM(e[1]),r=iM(e[2]),i=iM(e[3]);if(!function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,r,i))return NaN;return n*GP+r*KP+1e3*i}(i.time),isNaN(l)))return new Date(NaN);if(!i.timezone){const t=new Date(o+l),e=new Date(0);return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()),e}return a=function(t){if("Z"===t)return 0;const e=t.match(nM);if(!e)return 0;const n="+"===e[1]?-1:1,r=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;if(!function(t,e){return e>=0&&e<=59}(0,i))return NaN;return n*(r*GP+i*KP)}(i.timezone),isNaN(a)?new Date(NaN):new Date(o+l+a)}const ZN={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},tM=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,eM=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,nM=/^([+-])(\d{2})(?::?(\d{2}))?$/;function rM(t){return t?parseInt(t):1}function iM(t){return t&&parseFloat(t.replace(",","."))||0}const sM=[31,null,31,30,31,30,31,31,30,31,30,31];function oM(t){return t%400===0||t%4===0&&t%100!==0}function aM(t){return t instanceof Date||"object"===typeof t&&"[object Date]"===Object.prototype.toString.call(t)}function lM(t){if(!aM(t)&&"number"!==typeof t)return!1;const e=gP(t);return!isNaN(Number(e))}function cM(t){const e=gP(t);return e.setHours(0,0,0,0),e}function uM(t,e){const n=cM(t),r=cM(e),i=+n-HN(n),s=+r-HN(r);return Math.round((i-s)/qP)}function hM(t){const e=gP(t),n=mP(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dM(t){const e=gP(t);return uM(e,hM(e))+1}function fM(t,e){return(t<0?"-":"")+Math.abs(t).toString().padStart(e,"0")}const pM={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return fM("yy"===e?r%100:r,e.length)},M(t,e){const n=t.getMonth();return"M"===e?String(n+1):fM(n+1,2)},d:(t,e)=>fM(t.getDate(),e.length),a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(t,e)=>fM(t.getHours()%12||12,e.length),H:(t,e)=>fM(t.getHours(),e.length),m:(t,e)=>fM(t.getMinutes(),e.length),s:(t,e)=>fM(t.getSeconds(),e.length),S(t,e){const n=e.length,r=t.getMilliseconds();return fM(Math.trunc(r*Math.pow(10,n-3)),e.length)}},gM="midnight",mM="noon",yM="morning",vM="afternoon",bM="evening",wM="night",xM={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){const e=t.getFullYear(),r=e>0?e:1-e;return n.ordinalNumber(r,{unit:"year"})}return pM.y(t,e)},Y:function(t,e,n,r){const i=IN(t,r),s=i>0?i:1-i;if("YY"===e){return fM(s%100,2)}return"Yo"===e?n.ordinalNumber(s,{unit:"year"}):fM(s,e.length)},R:function(t,e){return fM(AN(t),e.length)},u:function(t,e){return fM(t.getFullYear(),e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return fM(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return fM(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return pM.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return fM(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=MN(t,r);return"wo"===e?n.ordinalNumber(i,{unit:"week"}):fM(i,e.length)},I:function(t,e,n){const r=RN(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):fM(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getDate(),{unit:"date"}):pM.d(t,e)},D:function(t,e,n){const r=dM(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):fM(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return fM(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return fM(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=0===r?7:r;switch(e){case"i":return String(i);case"ii":return fM(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(i=12===r?mM:0===r?gM:r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(i=r>=17?bM:r>=12?vM:r>=4?yM:wM,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){let e=t.getHours()%12;return 0===e&&(e=12),n.ordinalNumber(e,{unit:"hour"})}return pM.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getHours(),{unit:"hour"}):pM.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):fM(r,e.length)},k:function(t,e,n){let r=t.getHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):fM(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):pM.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getSeconds(),{unit:"second"}):pM.s(t,e)},S:function(t,e){return pM.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return kM(r);case"XXXX":case"XX":return SM(r);default:return SM(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return kM(r);case"xxxx":case"xx":return SM(r);default:return SM(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+_M(r,":");default:return"GMT"+SM(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+_M(r,":");default:return"GMT"+SM(r,":")}},t:function(t,e,n){return fM(Math.trunc(t.getTime()/1e3),e.length)},T:function(t,e,n){return fM(t.getTime(),e.length)}};function _M(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return 0===s?n+String(i):n+String(i)+e+fM(s,2)}function kM(t,e){if(t%60===0){return(t>0?"-":"+")+fM(Math.abs(t)/60,2)}return SM(t,e)}function SM(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=t>0?"-":"+",r=Math.abs(t);return n+fM(Math.trunc(r/60),2)+e+fM(r%60,2)}const EM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,TM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,CM=/^'([^]*?)'?$/,IM=/''/g,PM=/[a-zA-Z]/;function NM(t,e,n){var r,i,s,o,a,l,c,u,h,d,f,p,g,m;const y=vP(),v=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:y.locale)&&void 0!==r?r:PP,b=null!==(s=null!==(o=null!==(a=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:y.firstWeekContainsDate)&&void 0!==o?o:null===(u=y.locale)||void 0===u||null===(u=u.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:1,w=null!==(h=null!==(d=null!==(f=null!==(p=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==p?p:null===n||void 0===n||null===(g=n.locale)||void 0===g||null===(g=g.options)||void 0===g?void 0:g.weekStartsOn)&&void 0!==f?f:y.weekStartsOn)&&void 0!==d?d:null===(m=y.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==h?h:0,x=gP(t);if(!lM(x))throw new RangeError("Invalid time value");let _=e.match(TM).map((t=>{const e=t[0];if("p"===e||"P"===e){return(0,DP[e])(t,v.formatLong)}return t})).join("").match(EM).map((t=>{if("''"===t)return{isToken:!1,value:"'"};const e=t[0];if("'"===e)return{isToken:!1,value:MM(t)};if(xM[e])return{isToken:!0,value:t};if(e.match(PM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+e+"`");return{isToken:!1,value:t}}));v.localize.preprocessor&&(_=v.localize.preprocessor(x,_));const k={firstWeekContainsDate:b,weekStartsOn:w,locale:v};return _.map((r=>{if(!r.isToken)return r.value;const i=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!jP(i))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!LP(i))||FP(i,e,String(t));return(0,xM[i[0]])(x,i,v.localize,k)})).join("")}function MM(t){const e=t.match(CM);return e?e[1].replace(IM,"'"):t}function DM(t,e){return mP(t,+gP(t)+e)}function AM(t,e){return DM(t,1e3*e)}function OM(t,e){return DM(t,e*KP)}function RM(t,e){return DM(t,e*GP)}function LM(t,e){return VN(t,7*e)}function jM(t,e){const n=gP(t);if(isNaN(e))return mP(t,NaN);if(!e)return n;const r=n.getDate(),i=mP(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);return r>=i.getDate()?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}function FM(t,e){return jM(t,3*e)}function VM(t,e){return jM(t,12*e)}function UM(t,e){return+gP(t)-+gP(e)}function zM(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return 0===n?0:n}}function BM(t,e,n){const r=UM(t,e)/1e3;return zM(null===n||void 0===n?void 0:n.roundingMethod)(r)}function HM(t,e,n){const r=UM(t,e)/KP;return zM(null===n||void 0===n?void 0:n.roundingMethod)(r)}function WM(t,e,n){const r=UM(t,e)/GP;return zM(null===n||void 0===n?void 0:n.roundingMethod)(r)}function qM(t,e){const n=gP(t),r=gP(e),i=KM(n,r),s=Math.abs(uM(n,r));n.setDate(n.getDate()-i*s);const o=i*(s-Number(KM(n,r)===-i));return 0===o?0:o}function KM(t,e){const n=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return n<0?-1:n>0?1:n}function GM(t,e,n){const r=qM(t,e)/7;return zM(null===n||void 0===n?void 0:n.roundingMethod)(r)}function YM(t,e){const n=gP(t),r=gP(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function QM(t,e){const n=gP(t),r=gP(e);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}function XM(t){const e=gP(t);return e.setHours(23,59,59,999),e}function $M(t){const e=gP(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function JM(t){const e=gP(t);return+XM(e)===+$M(e)}function ZM(t,e){const n=gP(t),r=gP(e),i=YM(n,r),s=Math.abs(QM(n,r));let o;if(s<1)o=0;else{1===n.getMonth()&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let e=YM(n,r)===-i;JM(gP(t))&&1===s&&1===YM(t,r)&&(e=!1),o=i*(s-Number(e))}return 0===o?0:o}function tD(t,e,n){const r=ZM(t,e)/3;return zM(null===n||void 0===n?void 0:n.roundingMethod)(r)}function eD(t,e){const n=gP(t),r=gP(e);return n.getFullYear()-r.getFullYear()}function nD(t,e){const n=gP(t),r=gP(e),i=YM(n,r),s=Math.abs(eD(n,r));n.setFullYear(1584),r.setFullYear(1584);const o=i*(s-+(YM(n,r)===-i));return 0===o?0:o}function rD(t){const e=gP(t);return e.setMilliseconds(0),e}function iD(t){const e=gP(t);return e.setSeconds(0,0),e}function sD(t){const e=gP(t);return e.setMinutes(0,0,0),e}function oD(t){const e=gP(t);return e.setDate(1),e.setHours(0,0,0,0),e}function aD(t){const e=gP(t),n=e.getMonth(),r=n-n%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function lD(t){const e=gP(t);return e.setMilliseconds(999),e}function cD(t){const e=gP(t);return e.setSeconds(59,999),e}function uD(t){const e=gP(t);return e.setMinutes(59,59,999),e}function hD(t,e){var n,r,i,s,o,a;const l=vP(),c=null!==(n=null!==(r=null!==(i=null!==(s=null===e||void 0===e?void 0:e.weekStartsOn)&&void 0!==s?s:null===e||void 0===e||null===(o=e.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(a=l.locale)||void 0===a||null===(a=a.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==n?n:0,u=gP(t),h=u.getDay(),d=6+(h<c?-7:0)-(h-c);return u.setDate(u.getDate()+d),u.setHours(23,59,59,999),u}function dD(t){const e=gP(t),n=e.getMonth(),r=n-n%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function fD(t){const e=gP(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}const pD={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};AE._date.override({_id:"date-fns",formats:function(){return pD},parse:function(t,e){if(null===t||"undefined"===typeof t)return null;const n=typeof t;return"number"===n||t instanceof Date?t=gP(t):"string"===n&&(t="string"===typeof e?$N(t,e,new Date,this.options):JN(t,this.options)),lM(t)?t.getTime():null},format:function(t,e){return NM(t,e,this.options)},add:function(t,e,n){switch(n){case"millisecond":return DM(t,e);case"second":return AM(t,e);case"minute":return OM(t,e);case"hour":return RM(t,e);case"day":return VN(t,e);case"week":return LM(t,e);case"month":return jM(t,e);case"quarter":return FM(t,e);case"year":return VM(t,e);default:return t}},diff:function(t,e,n){switch(n){case"millisecond":return UM(t,e);case"second":return BM(t,e);case"minute":return HM(t,e);case"hour":return WM(t,e);case"day":return qM(t,e);case"week":return GM(t,e);case"month":return ZM(t,e);case"quarter":return tD(t,e);case"year":return nD(t,e);default:return 0}},startOf:function(t,e,n){switch(e){case"second":return rD(t);case"minute":return iD(t);case"hour":return sD(t);case"day":return cM(t);case"week":return CN(t);case"isoWeek":return CN(t,{weekStartsOn:+n});case"month":return oD(t);case"quarter":return aD(t);case"year":return hM(t);default:return t}},endOf:function(t,e){switch(e){case"second":return lD(t);case"minute":return cD(t);case"hour":return uD(t);case"day":return XM(t);case"week":return hD(t);case"month":return $M(t);case"quarter":return dD(t);case"year":return fD(t);default:return t}}});const gD=()=>{const t=J(),[n,r]=(0,e.useState)({}),[i,s]=(0,e.useState)(null),[o,a]=(0,e.useState)(null),[l,c]=(0,e.useState)(""),[u,h]=(0,e.useState)([]),[d,f]=(0,e.useState)([]),[p,g]=(0,e.useState)([]),[m,y]=(0,e.useState)(!0),[v,b]=(0,e.useState)(!1),[w,x]=(0,e.useState)(null),[_,k]=(0,e.useState)(!1),[S,E]=(0,e.useState)(null),T={"push-pull-legs":["Push","Pull","Legs"],"upper-lower":["Upper","Lower"],"full-body":["Full Body"],"bro-split":["Chest","Back","Shoulders","Arms","Legs"],"body-part":["Chest and Triceps","Back and Biceps","Shoulders and Abs","Legs"],"push-pull":["Push","Pull"],hybrid:["Push","Pull","Legs","Upper","Lower","Full Body","Chest","Back","Shoulders","Arms","Chest and Triceps","Back and Biceps","Shoulders and Abs","Legs"]};(0,e.useEffect)((()=>{(async()=>{try{const e=dw.currentUser;if(e){const[n,i,o,c]=await Promise.all([iw(ib(fw,"profiles",e.uid)),ow(zb(rb(fw,"workouts"),Hb("uid","==",e.uid),Kb("timestamp","desc"),(t=1,Xv("limit",t),Gb._create("limit",t,"F")))),ow(zb(rb(fw,"workouts"),Hb("uid","==",e.uid),Kb("timestamp","desc"))),ow(zb(rb(fw,"profiles",e.uid,"metrics"),Kb("timestamp","asc")))]);if(n.exists()&&r(n.data()),!i.empty){const t=i.docs[0].data();s(t),h(t.exercises||[]),P(t.splitDay)}const u=o.docs.map((t=>({id:t.id,...t.data()})));if(f(u),l){const t=u.find((t=>t.splitDay===l));t&&a(t)}const d=c.docs.map((t=>t.data()));g(d),y(!1)}}catch(S){E(S.message)}var t})()}),[n.split,l]);const C=async()=>{await I(l,!1),k(!1)},I=async(t,e)=>{const n=dw.currentUser;if(n){const r=ib(fw,"profiles",n.uid),i=await iw(r);if(i.exists()){const n=i.data().recommendations||{};n[t]=e,await aw(r,{recommendations:n})}}},P=t=>{if(n.split&&T[n.split]){const e=T[n.split].filter((t=>"Cardio"!==t)),r=(e.indexOf(t)+1)%e.length;c(e[r])}},N=(t,e)=>({labels:p.map((t=>new Date(1e3*t.timestamp.seconds).toLocaleDateString())),datasets:[{label:t,data:p.map((t=>t[e])),borderColor:"rgba(75,192,192,1)",backgroundColor:"rgba(75,192,192,0.2)"}]}),M={animation:!1};return(0,zt.jsxs)("div",{children:[(0,zt.jsxs)("h1",{children:["Welcome back, ",n.firstName||"User","!"]}),m?(0,zt.jsx)("p",{children:"Loading..."}):(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsxs)(kw,{xs:1,md:2,lg:3,className:"g-4",style:{marginTop:"20px"},children:[(0,zt.jsx)(hi,{children:(0,zt.jsx)(qw,{children:(0,zt.jsxs)(qw.Body,{children:[(0,zt.jsx)(qw.Title,{children:"Weight Over Time"}),(0,zt.jsx)(pP,{data:N("Weight","weight"),options:M})]})})}),(0,zt.jsx)(hi,{children:(0,zt.jsx)(qw,{children:(0,zt.jsxs)(qw.Body,{children:[(0,zt.jsx)(qw.Title,{children:"BMI Over Time"}),(0,zt.jsx)(pP,{data:N("BMI","bmi"),options:M})]})})}),(0,zt.jsx)(hi,{children:(0,zt.jsx)(qw,{children:(0,zt.jsxs)(qw.Body,{children:[(0,zt.jsx)(qw.Title,{children:"Body Fat Over Time"}),(0,zt.jsx)(pP,{data:N("Body Fat","bodyFat"),options:M})]})})})]}),i&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("br",{}),(0,zt.jsxs)("h2",{children:['Today is likely to be a "',l,'" day']}),(0,zt.jsx)(Fr,{onClick:()=>k(!0),style:{marginBottom:"20px",marginRight:"10px"},children:"Confirm"}),(0,zt.jsx)(Fr,{onClick:C,style:{marginBottom:"20px"},children:"Deny"}),o&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)("br",{}),(0,zt.jsxs)("h3",{children:["Last ",l," Workout"]}),(0,zt.jsx)(qw,{children:(0,zt.jsx)(qw.Body,{children:o.exercises.map(((t,e)=>(0,zt.jsx)(yw,{pill:!0,bg:"info",style:{marginRight:"5px",marginTop:"10px"},children:"Cardio"===o.splitDay?"".concat(t.exercise," - ").concat(t.duration?"".concat(t.duration," minutes"):""," ").concat(t.distance?"".concat(t.distance," miles"):""):"".concat(t.exercise," - ").concat(t.weight," lbs - ").concat(t.sets," sets - ").concat(t.reps.join(", ")," reps")},e)))})})]}),(0,zt.jsx)("br",{}),(0,zt.jsxs)("h3",{children:["Last ",i.splitDay," Workout"]}),(0,zt.jsx)(qw,{children:(0,zt.jsx)(qw.Body,{children:u.map(((t,e)=>(0,zt.jsx)(yw,{pill:!0,bg:"info",style:{marginRight:"5px",marginTop:"10px"},children:"Cardio"===i.splitDay?"".concat(t.exercise," - ").concat(t.duration?"".concat(t.duration," minutes"):""," ").concat(t.distance?"".concat(t.distance," miles"):""):"".concat(t.exercise," - ").concat(t.weight," lbs - ").concat(t.sets," sets - ").concat(t.reps.join(", ")," reps")},e)))})})]}),!i&&(0,zt.jsxs)("p",{children:["No workouts logged yet. ",(0,zt.jsx)(Fr,{onClick:()=>t("/log-workout"),children:"Log a workout!"})]}),(0,zt.jsx)("h2",{style:{marginTop:"40px"},children:"Your Workouts"}),0===d.length?(0,zt.jsxs)(Gr,{variant:"info",children:["No workouts logged yet. ",(0,zt.jsx)(Fr,{onClick:()=>t("/log-workout"),children:"Log a workout!"})," Past workouts will be displayed here."]}):(0,zt.jsx)(kw,{xs:1,md:2,lg:3,className:"g-4",style:{marginTop:"20px"},children:(()=>{const t=d.sort(((t,e)=>e.timestamp.seconds-t.timestamp.seconds));return t})().map(((e,n)=>(0,zt.jsx)(hi,{children:(0,zt.jsxs)(qw,{style:{position:"relative"},children:[(0,zt.jsx)(qw.Body,{onClick:()=>t("/workout/".concat(e.id)),style:{cursor:"pointer"},children:(0,zt.jsxs)(qw.Title,{children:[e.splitDay," Workout on ",new Date(1e3*e.timestamp.seconds).toLocaleDateString()]})}),(0,zt.jsx)(kx,{onClick:t=>((t,e)=>{e.stopPropagation(),x(t),b(!0)})(e.id,t),style:{color:"red",cursor:"pointer",position:"absolute",top:"10px",right:"10px"}})]})},n)))}),(0,zt.jsxs)(hx,{show:v,onHide:()=>b(!1),children:[(0,zt.jsx)(hx.Header,{closeButton:!0,children:(0,zt.jsx)(hx.Title,{children:"Confirm Delete"})}),(0,zt.jsx)(hx.Body,{children:"Are you sure you want to delete this workout?"}),(0,zt.jsxs)(hx.Footer,{children:[(0,zt.jsx)(Fr,{variant:"secondary",onClick:()=>b(!1),children:"Cancel"}),(0,zt.jsx)(Fr,{variant:"danger",onClick:async()=>{var t;w&&(await(t=ib(fw,"workouts",w),cw(Qv(t.firestore,ob),[new ag(t._key,Yp.none())])),f(d.filter((t=>t.id!==w))),b(!1))},children:"Delete"})]})]}),(0,zt.jsxs)(hx,{show:_,onHide:()=>k(!1),children:[(0,zt.jsx)(hx.Header,{closeButton:!0,children:(0,zt.jsx)(hx.Title,{children:"Confirm Recommendation"})}),(0,zt.jsxs)(hx.Body,{children:['Do you agree that today is likely to be a "',l,'" day?']}),(0,zt.jsxs)(hx.Footer,{children:[(0,zt.jsx)(Fr,{variant:"secondary",onClick:C,children:"Deny"}),(0,zt.jsx)(Fr,{variant:"primary",onClick:async()=>{await I(l,!0),k(!1)},children:"Confirm"})]})]})]})]})};const mD=function(){const{currentUser:t}=(0,e.useContext)(Gw);return(0,zt.jsx)(kt,{children:(0,zt.jsxs)("div",{className:"App",children:[(0,zt.jsxs)(cr,{bg:"dark",variant:"dark",expand:"lg",children:[(0,zt.jsx)(cr.Brand,{as:Tt,to:"/",children:"Workout Tracker"}),(0,zt.jsx)(cr.Toggle,{"aria-controls":"basic-navbar-nav"}),(0,zt.jsxs)(cr.Collapse,{id:"basic-navbar-nav",children:[(0,zt.jsxs)(Lr,{className:"mr-auto",children:[(0,zt.jsx)(Lr.Link,{as:Tt,to:"/sign-up",children:"Sign Up"}),(0,zt.jsx)(Lr.Link,{as:Tt,to:"/sign-in",children:"Sign In"}),t&&(0,zt.jsxs)(zt.Fragment,{children:[(0,zt.jsx)(Lr.Link,{as:Tt,to:"/log-workout",children:"Log Workout"}),(0,zt.jsx)(Lr.Link,{as:Tt,to:"/manage-profile",children:"Manage Profile"}),(0,zt.jsx)(Lr.Link,{as:Tt,to:"/dashboard",children:"Dashboard"})]})]}),t&&(0,zt.jsx)(Fr,{variant:"outline-light",onClick:()=>{dw.signOut()},children:"Sign Out"})]})]}),(0,zt.jsx)(Ur,{className:"mt-4",children:(0,zt.jsxs)(yt,{children:[(0,zt.jsx)(gt,{path:"/sign-up",element:(0,zt.jsx)(pw,{})}),(0,zt.jsx)(gt,{path:"/sign-in",element:(0,zt.jsx)(gw,{})}),(0,zt.jsxs)(gt,{element:(0,zt.jsx)(xw,{}),children:[(0,zt.jsx)(gt,{path:"/log-workout",element:(0,zt.jsx)(bw,{})}),(0,zt.jsx)(gt,{path:"/manage-profile",element:(0,zt.jsx)(ww,{})}),(0,zt.jsx)(gt,{path:"/dashboard",element:(0,zt.jsx)(gD,{})}),(0,zt.jsx)(gt,{path:"/workout/:id",element:(0,zt.jsx)(Kw,{})}),(0,zt.jsx)(gt,{path:"/dashboard",element:(0,zt.jsx)(gD,{})})," "]}),(0,zt.jsx)(gt,{path:"/",element:(0,zt.jsx)(gw,{})})," "]})})]})})};i.render((0,zt.jsx)(e.StrictMode,{children:(0,zt.jsx)(Yw,{children:(0,zt.jsx)(mD,{})})}),document.getElementById("root"))})()})();
//# sourceMappingURL=main.3a01b7e6.js.map